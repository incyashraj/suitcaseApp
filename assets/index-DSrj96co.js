(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerPolicy&&(u.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?u.credentials="include":a.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(a){if(a.ep)return;a.ep=!0;const u=i(a);fetch(a.href,u)}})();function j0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Kc={exports:{}},fr={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yg;function GE(){if(yg)return fr;yg=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,a,u){var d=null;if(u!==void 0&&(d=""+u),a.key!==void 0&&(d=""+a.key),"key"in a){u={};for(var p in a)p!=="key"&&(u[p]=a[p])}else u=a;return a=u.ref,{$$typeof:t,type:s,key:d,ref:a!==void 0?a:null,props:u}}return fr.Fragment=e,fr.jsx=i,fr.jsxs=i,fr}var vg;function zE(){return vg||(vg=1,Kc.exports=GE()),Kc.exports}var _=zE(),Xc={exports:{}},pe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _g;function VE(){if(_g)return pe;_g=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),E=Symbol.iterator;function x(w){return w===null||typeof w!="object"?null:(w=E&&w[E]||w["@@iterator"],typeof w=="function"?w:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,U={};function P(w,V,X){this.props=w,this.context=V,this.refs=U,this.updater=X||N}P.prototype.isReactComponent={},P.prototype.setState=function(w,V){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,V,"setState")},P.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function q(){}q.prototype=P.prototype;function F(w,V,X){this.props=w,this.context=V,this.refs=U,this.updater=X||N}var $=F.prototype=new q;$.constructor=F,k($,P.prototype),$.isPureReactComponent=!0;var Y=Array.isArray;function te(){}var K={H:null,A:null,T:null,S:null},he=Object.prototype.hasOwnProperty;function Z(w,V,X){var j=X.ref;return{$$typeof:t,type:w,key:V,ref:j!==void 0?j:null,props:X}}function de(w,V){return Z(w.type,V,w.props)}function ge(w){return typeof w=="object"&&w!==null&&w.$$typeof===t}function ye(w){var V={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(X){return V[X]})}var Se=/\/+/g;function Ye(w,V){return typeof w=="object"&&w!==null&&w.key!=null?ye(""+w.key):V.toString(36)}function $e(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(te,te):(w.status="pending",w.then(function(V){w.status==="pending"&&(w.status="fulfilled",w.value=V)},function(V){w.status==="pending"&&(w.status="rejected",w.reason=V)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function H(w,V,X,j,ce){var ve=typeof w;(ve==="undefined"||ve==="boolean")&&(w=null);var Ne=!1;if(w===null)Ne=!0;else switch(ve){case"bigint":case"string":case"number":Ne=!0;break;case"object":switch(w.$$typeof){case t:case e:Ne=!0;break;case v:return Ne=w._init,H(Ne(w._payload),V,X,j,ce)}}if(Ne)return ce=ce(w),Ne=j===""?"."+Ye(w,0):j,Y(ce)?(X="",Ne!=null&&(X=Ne.replace(Se,"$&/")+"/"),H(ce,V,X,"",function(En){return En})):ce!=null&&(ge(ce)&&(ce=de(ce,X+(ce.key==null||w&&w.key===ce.key?"":(""+ce.key).replace(Se,"$&/")+"/")+Ne)),V.push(ce)),1;Ne=0;var Ze=j===""?".":j+":";if(Y(w))for(var Be=0;Be<w.length;Be++)j=w[Be],ve=Ze+Ye(j,Be),Ne+=H(j,V,X,ve,ce);else if(Be=x(w),typeof Be=="function")for(w=Be.call(w),Be=0;!(j=w.next()).done;)j=j.value,ve=Ze+Ye(j,Be++),Ne+=H(j,V,X,ve,ce);else if(ve==="object"){if(typeof w.then=="function")return H($e(w),V,X,j,ce);throw V=String(w),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return Ne}function J(w,V,X){if(w==null)return w;var j=[],ce=0;return H(w,j,"","",function(ve){return V.call(X,ve,ce++)}),j}function se(w){if(w._status===-1){var V=w._result;V=V(),V.then(function(X){(w._status===0||w._status===-1)&&(w._status=1,w._result=X)},function(X){(w._status===0||w._status===-1)&&(w._status=2,w._result=X)}),w._status===-1&&(w._status=0,w._result=V)}if(w._status===1)return w._result.default;throw w._result}var be=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)},Ie={map:J,forEach:function(w,V,X){J(w,function(){V.apply(this,arguments)},X)},count:function(w){var V=0;return J(w,function(){V++}),V},toArray:function(w){return J(w,function(V){return V})||[]},only:function(w){if(!ge(w))throw Error("React.Children.only expected to receive a single React element child.");return w}};return pe.Activity=S,pe.Children=Ie,pe.Component=P,pe.Fragment=i,pe.Profiler=a,pe.PureComponent=F,pe.StrictMode=s,pe.Suspense=y,pe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=K,pe.__COMPILER_RUNTIME={__proto__:null,c:function(w){return K.H.useMemoCache(w)}},pe.cache=function(w){return function(){return w.apply(null,arguments)}},pe.cacheSignal=function(){return null},pe.cloneElement=function(w,V,X){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var j=k({},w.props),ce=w.key;if(V!=null)for(ve in V.key!==void 0&&(ce=""+V.key),V)!he.call(V,ve)||ve==="key"||ve==="__self"||ve==="__source"||ve==="ref"&&V.ref===void 0||(j[ve]=V[ve]);var ve=arguments.length-2;if(ve===1)j.children=X;else if(1<ve){for(var Ne=Array(ve),Ze=0;Ze<ve;Ze++)Ne[Ze]=arguments[Ze+2];j.children=Ne}return Z(w.type,ce,j)},pe.createContext=function(w){return w={$$typeof:d,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:u,_context:w},w},pe.createElement=function(w,V,X){var j,ce={},ve=null;if(V!=null)for(j in V.key!==void 0&&(ve=""+V.key),V)he.call(V,j)&&j!=="key"&&j!=="__self"&&j!=="__source"&&(ce[j]=V[j]);var Ne=arguments.length-2;if(Ne===1)ce.children=X;else if(1<Ne){for(var Ze=Array(Ne),Be=0;Be<Ne;Be++)Ze[Be]=arguments[Be+2];ce.children=Ze}if(w&&w.defaultProps)for(j in Ne=w.defaultProps,Ne)ce[j]===void 0&&(ce[j]=Ne[j]);return Z(w,ve,ce)},pe.createRef=function(){return{current:null}},pe.forwardRef=function(w){return{$$typeof:p,render:w}},pe.isValidElement=ge,pe.lazy=function(w){return{$$typeof:v,_payload:{_status:-1,_result:w},_init:se}},pe.memo=function(w,V){return{$$typeof:m,type:w,compare:V===void 0?null:V}},pe.startTransition=function(w){var V=K.T,X={};K.T=X;try{var j=w(),ce=K.S;ce!==null&&ce(X,j),typeof j=="object"&&j!==null&&typeof j.then=="function"&&j.then(te,be)}catch(ve){be(ve)}finally{V!==null&&X.types!==null&&(V.types=X.types),K.T=V}},pe.unstable_useCacheRefresh=function(){return K.H.useCacheRefresh()},pe.use=function(w){return K.H.use(w)},pe.useActionState=function(w,V,X){return K.H.useActionState(w,V,X)},pe.useCallback=function(w,V){return K.H.useCallback(w,V)},pe.useContext=function(w){return K.H.useContext(w)},pe.useDebugValue=function(){},pe.useDeferredValue=function(w,V){return K.H.useDeferredValue(w,V)},pe.useEffect=function(w,V){return K.H.useEffect(w,V)},pe.useEffectEvent=function(w){return K.H.useEffectEvent(w)},pe.useId=function(){return K.H.useId()},pe.useImperativeHandle=function(w,V,X){return K.H.useImperativeHandle(w,V,X)},pe.useInsertionEffect=function(w,V){return K.H.useInsertionEffect(w,V)},pe.useLayoutEffect=function(w,V){return K.H.useLayoutEffect(w,V)},pe.useMemo=function(w,V){return K.H.useMemo(w,V)},pe.useOptimistic=function(w,V){return K.H.useOptimistic(w,V)},pe.useReducer=function(w,V,X){return K.H.useReducer(w,V,X)},pe.useRef=function(w){return K.H.useRef(w)},pe.useState=function(w){return K.H.useState(w)},pe.useSyncExternalStore=function(w,V,X){return K.H.useSyncExternalStore(w,V,X)},pe.useTransition=function(){return K.H.useTransition()},pe.version="19.2.4",pe}var Tg;function qd(){return Tg||(Tg=1,Xc.exports=VE()),Xc.exports}var Q=qd();const BE=j0(Q);var Qc={exports:{}},hr={},Wc={exports:{}},Zc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sg;function qE(){return Sg||(Sg=1,(function(t){function e(H,J){var se=H.length;H.push(J);e:for(;0<se;){var be=se-1>>>1,Ie=H[be];if(0<a(Ie,J))H[be]=J,H[se]=Ie,se=be;else break e}}function i(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var J=H[0],se=H.pop();if(se!==J){H[0]=se;e:for(var be=0,Ie=H.length,w=Ie>>>1;be<w;){var V=2*(be+1)-1,X=H[V],j=V+1,ce=H[j];if(0>a(X,se))j<Ie&&0>a(ce,X)?(H[be]=ce,H[j]=se,be=j):(H[be]=X,H[V]=se,be=V);else if(j<Ie&&0>a(ce,se))H[be]=ce,H[j]=se,be=j;else break e}}return J}function a(H,J){var se=H.sortIndex-J.sortIndex;return se!==0?se:H.id-J.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;t.unstable_now=function(){return u.now()}}else{var d=Date,p=d.now();t.unstable_now=function(){return d.now()-p}}var y=[],m=[],v=1,S=null,E=3,x=!1,N=!1,k=!1,U=!1,P=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function $(H){for(var J=i(m);J!==null;){if(J.callback===null)s(m);else if(J.startTime<=H)s(m),J.sortIndex=J.expirationTime,e(y,J);else break;J=i(m)}}function Y(H){if(k=!1,$(H),!N)if(i(y)!==null)N=!0,te||(te=!0,ye());else{var J=i(m);J!==null&&$e(Y,J.startTime-H)}}var te=!1,K=-1,he=5,Z=-1;function de(){return U?!0:!(t.unstable_now()-Z<he)}function ge(){if(U=!1,te){var H=t.unstable_now();Z=H;var J=!0;try{e:{N=!1,k&&(k=!1,q(K),K=-1),x=!0;var se=E;try{t:{for($(H),S=i(y);S!==null&&!(S.expirationTime>H&&de());){var be=S.callback;if(typeof be=="function"){S.callback=null,E=S.priorityLevel;var Ie=be(S.expirationTime<=H);if(H=t.unstable_now(),typeof Ie=="function"){S.callback=Ie,$(H),J=!0;break t}S===i(y)&&s(y),$(H)}else s(y);S=i(y)}if(S!==null)J=!0;else{var w=i(m);w!==null&&$e(Y,w.startTime-H),J=!1}}break e}finally{S=null,E=se,x=!1}J=void 0}}finally{J?ye():te=!1}}}var ye;if(typeof F=="function")ye=function(){F(ge)};else if(typeof MessageChannel<"u"){var Se=new MessageChannel,Ye=Se.port2;Se.port1.onmessage=ge,ye=function(){Ye.postMessage(null)}}else ye=function(){P(ge,0)};function $e(H,J){K=P(function(){H(t.unstable_now())},J)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):he=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_next=function(H){switch(E){case 1:case 2:case 3:var J=3;break;default:J=E}var se=E;E=J;try{return H()}finally{E=se}},t.unstable_requestPaint=function(){U=!0},t.unstable_runWithPriority=function(H,J){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var se=E;E=H;try{return J()}finally{E=se}},t.unstable_scheduleCallback=function(H,J,se){var be=t.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?be+se:be):se=be,H){case 1:var Ie=-1;break;case 2:Ie=250;break;case 5:Ie=1073741823;break;case 4:Ie=1e4;break;default:Ie=5e3}return Ie=se+Ie,H={id:v++,callback:J,priorityLevel:H,startTime:se,expirationTime:Ie,sortIndex:-1},se>be?(H.sortIndex=se,e(m,H),i(y)===null&&H===i(m)&&(k?(q(K),K=-1):k=!0,$e(Y,se-be))):(H.sortIndex=Ie,e(y,H),N||x||(N=!0,te||(te=!0,ye()))),H},t.unstable_shouldYield=de,t.unstable_wrapCallback=function(H){var J=E;return function(){var se=E;E=J;try{return H.apply(this,arguments)}finally{E=se}}}})(Zc)),Zc}var Eg;function FE(){return Eg||(Eg=1,Wc.exports=qE()),Wc.exports}var jc={exports:{}},ft={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cg;function YE(){if(Cg)return ft;Cg=1;var t=qd();function e(y){var m="https://react.dev/errors/"+y;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)m+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},a=Symbol.for("react.portal");function u(y,m,v){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:S==null?null:""+S,children:y,containerInfo:m,implementation:v}}var d=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,m){if(y==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return ft.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,ft.createPortal=function(y,m){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return u(y,m,null,v)},ft.flushSync=function(y){var m=d.T,v=s.p;try{if(d.T=null,s.p=2,y)return y()}finally{d.T=m,s.p=v,s.d.f()}},ft.preconnect=function(y,m){typeof y=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,s.d.C(y,m))},ft.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},ft.preinit=function(y,m){if(typeof y=="string"&&m&&typeof m.as=="string"){var v=m.as,S=p(v,m.crossOrigin),E=typeof m.integrity=="string"?m.integrity:void 0,x=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;v==="style"?s.d.S(y,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:S,integrity:E,fetchPriority:x}):v==="script"&&s.d.X(y,{crossOrigin:S,integrity:E,fetchPriority:x,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},ft.preinitModule=function(y,m){if(typeof y=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var v=p(m.as,m.crossOrigin);s.d.M(y,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&s.d.M(y)},ft.preload=function(y,m){if(typeof y=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var v=m.as,S=p(v,m.crossOrigin);s.d.L(y,v,{crossOrigin:S,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},ft.preloadModule=function(y,m){if(typeof y=="string")if(m){var v=p(m.as,m.crossOrigin);s.d.m(y,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else s.d.m(y)},ft.requestFormReset=function(y){s.d.r(y)},ft.unstable_batchedUpdates=function(y,m){return y(m)},ft.useFormState=function(y,m,v){return d.H.useFormState(y,m,v)},ft.useFormStatus=function(){return d.H.useHostTransitionStatus()},ft.version="19.2.4",ft}var xg;function JE(){if(xg)return jc.exports;xg=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),jc.exports=YE(),jc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ag;function $E(){if(Ag)return hr;Ag=1;var t=FE(),e=qd(),i=JE();function s(n){var o="https://react.dev/errors/"+n;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)o+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+n+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var o=n,r=n;if(n.alternate)for(;o.return;)o=o.return;else{n=o;do o=n,(o.flags&4098)!==0&&(r=o.return),n=o.return;while(n)}return o.tag===3?r:null}function d(n){if(n.tag===13){var o=n.memoizedState;if(o===null&&(n=n.alternate,n!==null&&(o=n.memoizedState)),o!==null)return o.dehydrated}return null}function p(n){if(n.tag===31){var o=n.memoizedState;if(o===null&&(n=n.alternate,n!==null&&(o=n.memoizedState)),o!==null)return o.dehydrated}return null}function y(n){if(u(n)!==n)throw Error(s(188))}function m(n){var o=n.alternate;if(!o){if(o=u(n),o===null)throw Error(s(188));return o!==n?null:n}for(var r=n,l=o;;){var h=r.return;if(h===null)break;var g=h.alternate;if(g===null){if(l=h.return,l!==null){r=l;continue}break}if(h.child===g.child){for(g=h.child;g;){if(g===r)return y(h),n;if(g===l)return y(h),o;g=g.sibling}throw Error(s(188))}if(r.return!==l.return)r=h,l=g;else{for(var T=!1,C=h.child;C;){if(C===r){T=!0,r=h,l=g;break}if(C===l){T=!0,l=h,r=g;break}C=C.sibling}if(!T){for(C=g.child;C;){if(C===r){T=!0,r=g,l=h;break}if(C===l){T=!0,l=g,r=h;break}C=C.sibling}if(!T)throw Error(s(189))}}if(r.alternate!==l)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?n:o}function v(n){var o=n.tag;if(o===5||o===26||o===27||o===6)return n;for(n=n.child;n!==null;){if(o=v(n),o!==null)return o;n=n.sibling}return null}var S=Object.assign,E=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),q=Symbol.for("react.consumer"),F=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),te=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),he=Symbol.for("react.lazy"),Z=Symbol.for("react.activity"),de=Symbol.for("react.memo_cache_sentinel"),ge=Symbol.iterator;function ye(n){return n===null||typeof n!="object"?null:(n=ge&&n[ge]||n["@@iterator"],typeof n=="function"?n:null)}var Se=Symbol.for("react.client.reference");function Ye(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===Se?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case k:return"Fragment";case P:return"Profiler";case U:return"StrictMode";case Y:return"Suspense";case te:return"SuspenseList";case Z:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case N:return"Portal";case F:return n.displayName||"Context";case q:return(n._context.displayName||"Context")+".Consumer";case $:var o=n.render;return n=n.displayName,n||(n=o.displayName||o.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case K:return o=n.displayName||null,o!==null?o:Ye(n.type)||"Memo";case he:o=n._payload,n=n._init;try{return Ye(n(o))}catch{}}return null}var $e=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se={pending:!1,data:null,method:null,action:null},be=[],Ie=-1;function w(n){return{current:n}}function V(n){0>Ie||(n.current=be[Ie],be[Ie]=null,Ie--)}function X(n,o){Ie++,be[Ie]=n.current,n.current=o}var j=w(null),ce=w(null),ve=w(null),Ne=w(null);function Ze(n,o){switch(X(ve,o),X(ce,n),X(j,null),o.nodeType){case 9:case 11:n=(n=o.documentElement)&&(n=n.namespaceURI)?zm(n):0;break;default:if(n=o.tagName,o=o.namespaceURI)o=zm(o),n=Vm(o,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}V(j),X(j,n)}function Be(){V(j),V(ce),V(ve)}function En(n){n.memoizedState!==null&&X(Ne,n);var o=j.current,r=Vm(o,n.type);o!==r&&(X(ce,n),X(j,r))}function ei(n){ce.current===n&&(V(j),V(ce)),Ne.current===n&&(V(Ne),lr._currentValue=se)}var Oi,yo;function Wt(n){if(Oi===void 0)try{throw Error()}catch(r){var o=r.stack.trim().match(/\n( *(at )?)/);Oi=o&&o[1]||"",yo=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Oi+n+yo}var Hi=!1;function Gi(n,o){if(!n||Hi)return"";Hi=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(o){var B=function(){throw Error()};if(Object.defineProperty(B.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(B,[])}catch(O){var D=O}Reflect.construct(n,[],B)}else{try{B.call()}catch(O){D=O}n.call(B.prototype)}}else{try{throw Error()}catch(O){D=O}(B=n())&&typeof B.catch=="function"&&B.catch(function(){})}}catch(O){if(O&&D&&typeof O.stack=="string")return[O.stack,D.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=l.DetermineComponentFrameRoot(),T=g[0],C=g[1];if(T&&C){var A=T.split(`
`),M=C.split(`
`);for(h=l=0;l<A.length&&!A[l].includes("DetermineComponentFrameRoot");)l++;for(;h<M.length&&!M[h].includes("DetermineComponentFrameRoot");)h++;if(l===A.length||h===M.length)for(l=A.length-1,h=M.length-1;1<=l&&0<=h&&A[l]!==M[h];)h--;for(;1<=l&&0<=h;l--,h--)if(A[l]!==M[h]){if(l!==1||h!==1)do if(l--,h--,0>h||A[l]!==M[h]){var G=`
`+A[l].replace(" at new "," at ");return n.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",n.displayName)),G}while(1<=l&&0<=h);break}}}finally{Hi=!1,Error.prepareStackTrace=r}return(r=n?n.displayName||n.name:"")?Wt(r):""}function _s(n,o){switch(n.tag){case 26:case 27:case 5:return Wt(n.type);case 16:return Wt("Lazy");case 13:return n.child!==o&&o!==null?Wt("Suspense Fallback"):Wt("Suspense");case 19:return Wt("SuspenseList");case 0:case 15:return Gi(n.type,!1);case 11:return Gi(n.type.render,!1);case 1:return Gi(n.type,!0);case 31:return Wt("Activity");default:return""}}function Cn(n){try{var o="",r=null;do o+=_s(n,r),r=n,n=n.return;while(n);return o}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Ht=Object.prototype.hasOwnProperty,ti=t.unstable_scheduleCallback,un=t.unstable_cancelCallback,L=t.unstable_shouldYield,oe=t.unstable_requestPaint,ee=t.unstable_now,ke=t.unstable_getCurrentPriorityLevel,cn=t.unstable_ImmediatePriority,Zt=t.unstable_UserBlockingPriority,Mr=t.unstable_NormalPriority,TT=t.unstable_LowPriority,Tf=t.unstable_IdlePriority,ST=t.log,ET=t.unstable_setDisableYieldValue,Ts=null,bt=null;function ni(n){if(typeof ST=="function"&&ET(n),bt&&typeof bt.setStrictMode=="function")try{bt.setStrictMode(Ts,n)}catch{}}var wt=Math.clz32?Math.clz32:AT,CT=Math.log,xT=Math.LN2;function AT(n){return n>>>=0,n===0?32:31-(CT(n)/xT|0)|0}var Dr=256,Ur=262144,kr=4194304;function zi(n){var o=n&42;if(o!==0)return o;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Lr(n,o,r){var l=n.pendingLanes;if(l===0)return 0;var h=0,g=n.suspendedLanes,T=n.pingedLanes;n=n.warmLanes;var C=l&134217727;return C!==0?(l=C&~g,l!==0?h=zi(l):(T&=C,T!==0?h=zi(T):r||(r=C&~n,r!==0&&(h=zi(r))))):(C=l&~g,C!==0?h=zi(C):T!==0?h=zi(T):r||(r=l&~n,r!==0&&(h=zi(r)))),h===0?0:o!==0&&o!==h&&(o&g)===0&&(g=h&-h,r=o&-o,g>=r||g===32&&(r&4194048)!==0)?o:h}function Ss(n,o){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&o)===0}function bT(n,o){switch(n){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sf(){var n=kr;return kr<<=1,(kr&62914560)===0&&(kr=4194304),n}function Pl(n){for(var o=[],r=0;31>r;r++)o.push(n);return o}function Es(n,o){n.pendingLanes|=o,o!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function wT(n,o,r,l,h,g){var T=n.pendingLanes;n.pendingLanes=r,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=r,n.entangledLanes&=r,n.errorRecoveryDisabledLanes&=r,n.shellSuspendCounter=0;var C=n.entanglements,A=n.expirationTimes,M=n.hiddenUpdates;for(r=T&~r;0<r;){var G=31-wt(r),B=1<<G;C[G]=0,A[G]=-1;var D=M[G];if(D!==null)for(M[G]=null,G=0;G<D.length;G++){var O=D[G];O!==null&&(O.lane&=-536870913)}r&=~B}l!==0&&Ef(n,l,0),g!==0&&h===0&&n.tag!==0&&(n.suspendedLanes|=g&~(T&~o))}function Ef(n,o,r){n.pendingLanes|=o,n.suspendedLanes&=~o;var l=31-wt(o);n.entangledLanes|=o,n.entanglements[l]=n.entanglements[l]|1073741824|r&261930}function Cf(n,o){var r=n.entangledLanes|=o;for(n=n.entanglements;r;){var l=31-wt(r),h=1<<l;h&o|n[l]&o&&(n[l]|=o),r&=~h}}function xf(n,o){var r=o&-o;return r=(r&42)!==0?1:Ol(r),(r&(n.suspendedLanes|o))!==0?0:r}function Ol(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Hl(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Af(){var n=J.p;return n!==0?n:(n=window.event,n===void 0?32:cg(n.type))}function bf(n,o){var r=J.p;try{return J.p=n,o()}finally{J.p=r}}var ii=Math.random().toString(36).slice(2),at="__reactFiber$"+ii,_t="__reactProps$"+ii,vo="__reactContainer$"+ii,Gl="__reactEvents$"+ii,NT="__reactListeners$"+ii,IT="__reactHandles$"+ii,wf="__reactResources$"+ii,Cs="__reactMarker$"+ii;function zl(n){delete n[at],delete n[_t],delete n[Gl],delete n[NT],delete n[IT]}function _o(n){var o=n[at];if(o)return o;for(var r=n.parentNode;r;){if(o=r[vo]||r[at]){if(r=o.alternate,o.child!==null||r!==null&&r.child!==null)for(n=Km(n);n!==null;){if(r=n[at])return r;n=Km(n)}return o}n=r,r=n.parentNode}return null}function To(n){if(n=n[at]||n[vo]){var o=n.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return n}return null}function xs(n){var o=n.tag;if(o===5||o===26||o===27||o===6)return n.stateNode;throw Error(s(33))}function So(n){var o=n[wf];return o||(o=n[wf]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function ot(n){n[Cs]=!0}var Nf=new Set,If={};function Vi(n,o){Eo(n,o),Eo(n+"Capture",o)}function Eo(n,o){for(If[n]=o,n=0;n<o.length;n++)Nf.add(o[n])}var RT=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Rf={},Mf={};function MT(n){return Ht.call(Mf,n)?!0:Ht.call(Rf,n)?!1:RT.test(n)?Mf[n]=!0:(Rf[n]=!0,!1)}function Pr(n,o,r){if(MT(o))if(r===null)n.removeAttribute(o);else{switch(typeof r){case"undefined":case"function":case"symbol":n.removeAttribute(o);return;case"boolean":var l=o.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(o);return}}n.setAttribute(o,""+r)}}function Or(n,o,r){if(r===null)n.removeAttribute(o);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttribute(o,""+r)}}function xn(n,o,r,l){if(l===null)n.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttributeNS(o,r,""+l)}}function Gt(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Df(n){var o=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function DT(n,o,r){var l=Object.getOwnPropertyDescriptor(n.constructor.prototype,o);if(!n.hasOwnProperty(o)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,g=l.set;return Object.defineProperty(n,o,{configurable:!0,get:function(){return h.call(this)},set:function(T){r=""+T,g.call(this,T)}}),Object.defineProperty(n,o,{enumerable:l.enumerable}),{getValue:function(){return r},setValue:function(T){r=""+T},stopTracking:function(){n._valueTracker=null,delete n[o]}}}}function Vl(n){if(!n._valueTracker){var o=Df(n)?"checked":"value";n._valueTracker=DT(n,o,""+n[o])}}function Uf(n){if(!n)return!1;var o=n._valueTracker;if(!o)return!0;var r=o.getValue(),l="";return n&&(l=Df(n)?n.checked?"true":"false":n.value),n=l,n!==r?(o.setValue(n),!0):!1}function Hr(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var UT=/[\n"\\]/g;function zt(n){return n.replace(UT,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Bl(n,o,r,l,h,g,T,C){n.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.type=T:n.removeAttribute("type"),o!=null?T==="number"?(o===0&&n.value===""||n.value!=o)&&(n.value=""+Gt(o)):n.value!==""+Gt(o)&&(n.value=""+Gt(o)):T!=="submit"&&T!=="reset"||n.removeAttribute("value"),o!=null?ql(n,T,Gt(o)):r!=null?ql(n,T,Gt(r)):l!=null&&n.removeAttribute("value"),h==null&&g!=null&&(n.defaultChecked=!!g),h!=null&&(n.checked=h&&typeof h!="function"&&typeof h!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?n.name=""+Gt(C):n.removeAttribute("name")}function kf(n,o,r,l,h,g,T,C){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(n.type=g),o!=null||r!=null){if(!(g!=="submit"&&g!=="reset"||o!=null)){Vl(n);return}r=r!=null?""+Gt(r):"",o=o!=null?""+Gt(o):r,C||o===n.value||(n.value=o),n.defaultValue=o}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=C?n.checked:!!l,n.defaultChecked=!!l,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(n.name=T),Vl(n)}function ql(n,o,r){o==="number"&&Hr(n.ownerDocument)===n||n.defaultValue===""+r||(n.defaultValue=""+r)}function Co(n,o,r,l){if(n=n.options,o){o={};for(var h=0;h<r.length;h++)o["$"+r[h]]=!0;for(r=0;r<n.length;r++)h=o.hasOwnProperty("$"+n[r].value),n[r].selected!==h&&(n[r].selected=h),h&&l&&(n[r].defaultSelected=!0)}else{for(r=""+Gt(r),o=null,h=0;h<n.length;h++){if(n[h].value===r){n[h].selected=!0,l&&(n[h].defaultSelected=!0);return}o!==null||n[h].disabled||(o=n[h])}o!==null&&(o.selected=!0)}}function Lf(n,o,r){if(o!=null&&(o=""+Gt(o),o!==n.value&&(n.value=o),r==null)){n.defaultValue!==o&&(n.defaultValue=o);return}n.defaultValue=r!=null?""+Gt(r):""}function Pf(n,o,r,l){if(o==null){if(l!=null){if(r!=null)throw Error(s(92));if($e(l)){if(1<l.length)throw Error(s(93));l=l[0]}r=l}r==null&&(r=""),o=r}r=Gt(o),n.defaultValue=r,l=n.textContent,l===r&&l!==""&&l!==null&&(n.value=l),Vl(n)}function xo(n,o){if(o){var r=n.firstChild;if(r&&r===n.lastChild&&r.nodeType===3){r.nodeValue=o;return}}n.textContent=o}var kT=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Of(n,o,r){var l=o.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?n.setProperty(o,""):o==="float"?n.cssFloat="":n[o]="":l?n.setProperty(o,r):typeof r!="number"||r===0||kT.has(o)?o==="float"?n.cssFloat=r:n[o]=(""+r).trim():n[o]=r+"px"}function Hf(n,o,r){if(o!=null&&typeof o!="object")throw Error(s(62));if(n=n.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||o!=null&&o.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var h in o)l=o[h],o.hasOwnProperty(h)&&r[h]!==l&&Of(n,h,l)}else for(var g in o)o.hasOwnProperty(g)&&Of(n,g,o[g])}function Fl(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var LT=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),PT=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Gr(n){return PT.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function An(){}var Yl=null;function Jl(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Ao=null,bo=null;function Gf(n){var o=To(n);if(o&&(n=o.stateNode)){var r=n[_t]||null;e:switch(n=o.stateNode,o.type){case"input":if(Bl(n,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),o=r.name,r.type==="radio"&&o!=null){for(r=n;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+zt(""+o)+'"][type="radio"]'),o=0;o<r.length;o++){var l=r[o];if(l!==n&&l.form===n.form){var h=l[_t]||null;if(!h)throw Error(s(90));Bl(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(o=0;o<r.length;o++)l=r[o],l.form===n.form&&Uf(l)}break e;case"textarea":Lf(n,r.value,r.defaultValue);break e;case"select":o=r.value,o!=null&&Co(n,!!r.multiple,o,!1)}}}var $l=!1;function zf(n,o,r){if($l)return n(o,r);$l=!0;try{var l=n(o);return l}finally{if($l=!1,(Ao!==null||bo!==null)&&(ba(),Ao&&(o=Ao,n=bo,bo=Ao=null,Gf(o),n)))for(o=0;o<n.length;o++)Gf(n[o])}}function As(n,o){var r=n.stateNode;if(r===null)return null;var l=r[_t]||null;if(l===null)return null;r=l[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(r&&typeof r!="function")throw Error(s(231,o,typeof r));return r}var bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Kl=!1;if(bn)try{var bs={};Object.defineProperty(bs,"passive",{get:function(){Kl=!0}}),window.addEventListener("test",bs,bs),window.removeEventListener("test",bs,bs)}catch{Kl=!1}var oi=null,Xl=null,zr=null;function Vf(){if(zr)return zr;var n,o=Xl,r=o.length,l,h="value"in oi?oi.value:oi.textContent,g=h.length;for(n=0;n<r&&o[n]===h[n];n++);var T=r-n;for(l=1;l<=T&&o[r-l]===h[g-l];l++);return zr=h.slice(n,1<l?1-l:void 0)}function Vr(n){var o=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&o===13&&(n=13)):n=o,n===10&&(n=13),32<=n||n===13?n:0}function Br(){return!0}function Bf(){return!1}function Tt(n){function o(r,l,h,g,T){this._reactName=r,this._targetInst=h,this.type=l,this.nativeEvent=g,this.target=T,this.currentTarget=null;for(var C in n)n.hasOwnProperty(C)&&(r=n[C],this[C]=r?r(g):g[C]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Br:Bf,this.isPropagationStopped=Bf,this}return S(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Br)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Br)},persist:function(){},isPersistent:Br}),o}var Bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qr=Tt(Bi),ws=S({},Bi,{view:0,detail:0}),OT=Tt(ws),Ql,Wl,Ns,Fr=S({},ws,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jl,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ns&&(Ns&&n.type==="mousemove"?(Ql=n.screenX-Ns.screenX,Wl=n.screenY-Ns.screenY):Wl=Ql=0,Ns=n),Ql)},movementY:function(n){return"movementY"in n?n.movementY:Wl}}),qf=Tt(Fr),HT=S({},Fr,{dataTransfer:0}),GT=Tt(HT),zT=S({},ws,{relatedTarget:0}),Zl=Tt(zT),VT=S({},Bi,{animationName:0,elapsedTime:0,pseudoElement:0}),BT=Tt(VT),qT=S({},Bi,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),FT=Tt(qT),YT=S({},Bi,{data:0}),Ff=Tt(YT),JT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$T={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},KT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function XT(n){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(n):(n=KT[n])?!!o[n]:!1}function jl(){return XT}var QT=S({},ws,{key:function(n){if(n.key){var o=JT[n.key]||n.key;if(o!=="Unidentified")return o}return n.type==="keypress"?(n=Vr(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?$T[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jl,charCode:function(n){return n.type==="keypress"?Vr(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Vr(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),WT=Tt(QT),ZT=S({},Fr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yf=Tt(ZT),jT=S({},ws,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jl}),eS=Tt(jT),tS=S({},Bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),nS=Tt(tS),iS=S({},Fr,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),oS=Tt(iS),sS=S({},Bi,{newState:0,oldState:0}),rS=Tt(sS),aS=[9,13,27,32],eu=bn&&"CompositionEvent"in window,Is=null;bn&&"documentMode"in document&&(Is=document.documentMode);var lS=bn&&"TextEvent"in window&&!Is,Jf=bn&&(!eu||Is&&8<Is&&11>=Is),$f=" ",Kf=!1;function Xf(n,o){switch(n){case"keyup":return aS.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qf(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var wo=!1;function uS(n,o){switch(n){case"compositionend":return Qf(o);case"keypress":return o.which!==32?null:(Kf=!0,$f);case"textInput":return n=o.data,n===$f&&Kf?null:n;default:return null}}function cS(n,o){if(wo)return n==="compositionend"||!eu&&Xf(n,o)?(n=Vf(),zr=Xl=oi=null,wo=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Jf&&o.locale!=="ko"?null:o.data;default:return null}}var dS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wf(n){var o=n&&n.nodeName&&n.nodeName.toLowerCase();return o==="input"?!!dS[n.type]:o==="textarea"}function Zf(n,o,r,l){Ao?bo?bo.push(l):bo=[l]:Ao=l,o=Ua(o,"onChange"),0<o.length&&(r=new qr("onChange","change",null,r,l),n.push({event:r,listeners:o}))}var Rs=null,Ms=null;function fS(n){km(n,0)}function Yr(n){var o=xs(n);if(Uf(o))return n}function jf(n,o){if(n==="change")return o}var eh=!1;if(bn){var tu;if(bn){var nu="oninput"in document;if(!nu){var th=document.createElement("div");th.setAttribute("oninput","return;"),nu=typeof th.oninput=="function"}tu=nu}else tu=!1;eh=tu&&(!document.documentMode||9<document.documentMode)}function nh(){Rs&&(Rs.detachEvent("onpropertychange",ih),Ms=Rs=null)}function ih(n){if(n.propertyName==="value"&&Yr(Ms)){var o=[];Zf(o,Ms,n,Jl(n)),zf(fS,o)}}function hS(n,o,r){n==="focusin"?(nh(),Rs=o,Ms=r,Rs.attachEvent("onpropertychange",ih)):n==="focusout"&&nh()}function pS(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Yr(Ms)}function mS(n,o){if(n==="click")return Yr(o)}function gS(n,o){if(n==="input"||n==="change")return Yr(o)}function yS(n,o){return n===o&&(n!==0||1/n===1/o)||n!==n&&o!==o}var Nt=typeof Object.is=="function"?Object.is:yS;function Ds(n,o){if(Nt(n,o))return!0;if(typeof n!="object"||n===null||typeof o!="object"||o===null)return!1;var r=Object.keys(n),l=Object.keys(o);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var h=r[l];if(!Ht.call(o,h)||!Nt(n[h],o[h]))return!1}return!0}function oh(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function sh(n,o){var r=oh(n);n=0;for(var l;r;){if(r.nodeType===3){if(l=n+r.textContent.length,n<=o&&l>=o)return{node:r,offset:o-n};n=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=oh(r)}}function rh(n,o){return n&&o?n===o?!0:n&&n.nodeType===3?!1:o&&o.nodeType===3?rh(n,o.parentNode):"contains"in n?n.contains(o):n.compareDocumentPosition?!!(n.compareDocumentPosition(o)&16):!1:!1}function ah(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var o=Hr(n.document);o instanceof n.HTMLIFrameElement;){try{var r=typeof o.contentWindow.location.href=="string"}catch{r=!1}if(r)n=o.contentWindow;else break;o=Hr(n.document)}return o}function iu(n){var o=n&&n.nodeName&&n.nodeName.toLowerCase();return o&&(o==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||o==="textarea"||n.contentEditable==="true")}var vS=bn&&"documentMode"in document&&11>=document.documentMode,No=null,ou=null,Us=null,su=!1;function lh(n,o,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;su||No==null||No!==Hr(l)||(l=No,"selectionStart"in l&&iu(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Us&&Ds(Us,l)||(Us=l,l=Ua(ou,"onSelect"),0<l.length&&(o=new qr("onSelect","select",null,o,r),n.push({event:o,listeners:l}),o.target=No)))}function qi(n,o){var r={};return r[n.toLowerCase()]=o.toLowerCase(),r["Webkit"+n]="webkit"+o,r["Moz"+n]="moz"+o,r}var Io={animationend:qi("Animation","AnimationEnd"),animationiteration:qi("Animation","AnimationIteration"),animationstart:qi("Animation","AnimationStart"),transitionrun:qi("Transition","TransitionRun"),transitionstart:qi("Transition","TransitionStart"),transitioncancel:qi("Transition","TransitionCancel"),transitionend:qi("Transition","TransitionEnd")},ru={},uh={};bn&&(uh=document.createElement("div").style,"AnimationEvent"in window||(delete Io.animationend.animation,delete Io.animationiteration.animation,delete Io.animationstart.animation),"TransitionEvent"in window||delete Io.transitionend.transition);function Fi(n){if(ru[n])return ru[n];if(!Io[n])return n;var o=Io[n],r;for(r in o)if(o.hasOwnProperty(r)&&r in uh)return ru[n]=o[r];return n}var ch=Fi("animationend"),dh=Fi("animationiteration"),fh=Fi("animationstart"),_S=Fi("transitionrun"),TS=Fi("transitionstart"),SS=Fi("transitioncancel"),hh=Fi("transitionend"),ph=new Map,au="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");au.push("scrollEnd");function jt(n,o){ph.set(n,o),Vi(o,[n])}var Jr=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},Vt=[],Ro=0,lu=0;function $r(){for(var n=Ro,o=lu=Ro=0;o<n;){var r=Vt[o];Vt[o++]=null;var l=Vt[o];Vt[o++]=null;var h=Vt[o];Vt[o++]=null;var g=Vt[o];if(Vt[o++]=null,l!==null&&h!==null){var T=l.pending;T===null?h.next=h:(h.next=T.next,T.next=h),l.pending=h}g!==0&&mh(r,h,g)}}function Kr(n,o,r,l){Vt[Ro++]=n,Vt[Ro++]=o,Vt[Ro++]=r,Vt[Ro++]=l,lu|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function uu(n,o,r,l){return Kr(n,o,r,l),Xr(n)}function Yi(n,o){return Kr(n,null,null,o),Xr(n)}function mh(n,o,r){n.lanes|=r;var l=n.alternate;l!==null&&(l.lanes|=r);for(var h=!1,g=n.return;g!==null;)g.childLanes|=r,l=g.alternate,l!==null&&(l.childLanes|=r),g.tag===22&&(n=g.stateNode,n===null||n._visibility&1||(h=!0)),n=g,g=g.return;return n.tag===3?(g=n.stateNode,h&&o!==null&&(h=31-wt(r),n=g.hiddenUpdates,l=n[h],l===null?n[h]=[o]:l.push(o),o.lane=r|536870912),g):null}function Xr(n){if(50<tr)throw tr=0,vc=null,Error(s(185));for(var o=n.return;o!==null;)n=o,o=n.return;return n.tag===3?n.stateNode:null}var Mo={};function ES(n,o,r,l){this.tag=n,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function It(n,o,r,l){return new ES(n,o,r,l)}function cu(n){return n=n.prototype,!(!n||!n.isReactComponent)}function wn(n,o){var r=n.alternate;return r===null?(r=It(n.tag,o,n.key,n.mode),r.elementType=n.elementType,r.type=n.type,r.stateNode=n.stateNode,r.alternate=n,n.alternate=r):(r.pendingProps=o,r.type=n.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=n.flags&65011712,r.childLanes=n.childLanes,r.lanes=n.lanes,r.child=n.child,r.memoizedProps=n.memoizedProps,r.memoizedState=n.memoizedState,r.updateQueue=n.updateQueue,o=n.dependencies,r.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},r.sibling=n.sibling,r.index=n.index,r.ref=n.ref,r.refCleanup=n.refCleanup,r}function gh(n,o){n.flags&=65011714;var r=n.alternate;return r===null?(n.childLanes=0,n.lanes=o,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=r.childLanes,n.lanes=r.lanes,n.child=r.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=r.memoizedProps,n.memoizedState=r.memoizedState,n.updateQueue=r.updateQueue,n.type=r.type,o=r.dependencies,n.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),n}function Qr(n,o,r,l,h,g){var T=0;if(l=n,typeof n=="function")cu(n)&&(T=1);else if(typeof n=="string")T=wE(n,r,j.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case Z:return n=It(31,r,o,h),n.elementType=Z,n.lanes=g,n;case k:return Ji(r.children,h,g,o);case U:T=8,h|=24;break;case P:return n=It(12,r,o,h|2),n.elementType=P,n.lanes=g,n;case Y:return n=It(13,r,o,h),n.elementType=Y,n.lanes=g,n;case te:return n=It(19,r,o,h),n.elementType=te,n.lanes=g,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case F:T=10;break e;case q:T=9;break e;case $:T=11;break e;case K:T=14;break e;case he:T=16,l=null;break e}T=29,r=Error(s(130,n===null?"null":typeof n,"")),l=null}return o=It(T,r,o,h),o.elementType=n,o.type=l,o.lanes=g,o}function Ji(n,o,r,l){return n=It(7,n,l,o),n.lanes=r,n}function du(n,o,r){return n=It(6,n,null,o),n.lanes=r,n}function yh(n){var o=It(18,null,null,0);return o.stateNode=n,o}function fu(n,o,r){return o=It(4,n.children!==null?n.children:[],n.key,o),o.lanes=r,o.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},o}var vh=new WeakMap;function Bt(n,o){if(typeof n=="object"&&n!==null){var r=vh.get(n);return r!==void 0?r:(o={value:n,source:o,stack:Cn(o)},vh.set(n,o),o)}return{value:n,source:o,stack:Cn(o)}}var Do=[],Uo=0,Wr=null,ks=0,qt=[],Ft=0,si=null,dn=1,fn="";function Nn(n,o){Do[Uo++]=ks,Do[Uo++]=Wr,Wr=n,ks=o}function _h(n,o,r){qt[Ft++]=dn,qt[Ft++]=fn,qt[Ft++]=si,si=n;var l=dn;n=fn;var h=32-wt(l)-1;l&=~(1<<h),r+=1;var g=32-wt(o)+h;if(30<g){var T=h-h%5;g=(l&(1<<T)-1).toString(32),l>>=T,h-=T,dn=1<<32-wt(o)+h|r<<h|l,fn=g+n}else dn=1<<g|r<<h|l,fn=n}function hu(n){n.return!==null&&(Nn(n,1),_h(n,1,0))}function pu(n){for(;n===Wr;)Wr=Do[--Uo],Do[Uo]=null,ks=Do[--Uo],Do[Uo]=null;for(;n===si;)si=qt[--Ft],qt[Ft]=null,fn=qt[--Ft],qt[Ft]=null,dn=qt[--Ft],qt[Ft]=null}function Th(n,o){qt[Ft++]=dn,qt[Ft++]=fn,qt[Ft++]=si,dn=o.id,fn=o.overflow,si=n}var lt=null,qe=null,we=!1,ri=null,Yt=!1,mu=Error(s(519));function ai(n){var o=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ls(Bt(o,n)),mu}function Sh(n){var o=n.stateNode,r=n.type,l=n.memoizedProps;switch(o[at]=n,o[_t]=l,r){case"dialog":Ce("cancel",o),Ce("close",o);break;case"iframe":case"object":case"embed":Ce("load",o);break;case"video":case"audio":for(r=0;r<ir.length;r++)Ce(ir[r],o);break;case"source":Ce("error",o);break;case"img":case"image":case"link":Ce("error",o),Ce("load",o);break;case"details":Ce("toggle",o);break;case"input":Ce("invalid",o),kf(o,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ce("invalid",o);break;case"textarea":Ce("invalid",o),Pf(o,l.value,l.defaultValue,l.children)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||o.textContent===""+r||l.suppressHydrationWarning===!0||Hm(o.textContent,r)?(l.popover!=null&&(Ce("beforetoggle",o),Ce("toggle",o)),l.onScroll!=null&&Ce("scroll",o),l.onScrollEnd!=null&&Ce("scrollend",o),l.onClick!=null&&(o.onclick=An),o=!0):o=!1,o||ai(n,!0)}function Eh(n){for(lt=n.return;lt;)switch(lt.tag){case 5:case 31:case 13:Yt=!1;return;case 27:case 3:Yt=!0;return;default:lt=lt.return}}function ko(n){if(n!==lt)return!1;if(!we)return Eh(n),we=!0,!1;var o=n.tag,r;if((r=o!==3&&o!==27)&&((r=o===5)&&(r=n.type,r=!(r!=="form"&&r!=="button")||Uc(n.type,n.memoizedProps)),r=!r),r&&qe&&ai(n),Eh(n),o===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));qe=$m(n)}else if(o===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));qe=$m(n)}else o===27?(o=qe,Si(n.type)?(n=Hc,Hc=null,qe=n):qe=o):qe=lt?$t(n.stateNode.nextSibling):null;return!0}function $i(){qe=lt=null,we=!1}function gu(){var n=ri;return n!==null&&(xt===null?xt=n:xt.push.apply(xt,n),ri=null),n}function Ls(n){ri===null?ri=[n]:ri.push(n)}var yu=w(null),Ki=null,In=null;function li(n,o,r){X(yu,o._currentValue),o._currentValue=r}function Rn(n){n._currentValue=yu.current,V(yu)}function vu(n,o,r){for(;n!==null;){var l=n.alternate;if((n.childLanes&o)!==o?(n.childLanes|=o,l!==null&&(l.childLanes|=o)):l!==null&&(l.childLanes&o)!==o&&(l.childLanes|=o),n===r)break;n=n.return}}function _u(n,o,r,l){var h=n.child;for(h!==null&&(h.return=n);h!==null;){var g=h.dependencies;if(g!==null){var T=h.child;g=g.firstContext;e:for(;g!==null;){var C=g;g=h;for(var A=0;A<o.length;A++)if(C.context===o[A]){g.lanes|=r,C=g.alternate,C!==null&&(C.lanes|=r),vu(g.return,r,n),l||(T=null);break e}g=C.next}}else if(h.tag===18){if(T=h.return,T===null)throw Error(s(341));T.lanes|=r,g=T.alternate,g!==null&&(g.lanes|=r),vu(T,r,n),T=null}else T=h.child;if(T!==null)T.return=h;else for(T=h;T!==null;){if(T===n){T=null;break}if(h=T.sibling,h!==null){h.return=T.return,T=h;break}T=T.return}h=T}}function Lo(n,o,r,l){n=null;for(var h=o,g=!1;h!==null;){if(!g){if((h.flags&524288)!==0)g=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var T=h.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var C=h.type;Nt(h.pendingProps.value,T.value)||(n!==null?n.push(C):n=[C])}}else if(h===Ne.current){if(T=h.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(n!==null?n.push(lr):n=[lr])}h=h.return}n!==null&&_u(o,n,r,l),o.flags|=262144}function Zr(n){for(n=n.firstContext;n!==null;){if(!Nt(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Xi(n){Ki=n,In=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function ut(n){return Ch(Ki,n)}function jr(n,o){return Ki===null&&Xi(n),Ch(n,o)}function Ch(n,o){var r=o._currentValue;if(o={context:o,memoizedValue:r,next:null},In===null){if(n===null)throw Error(s(308));In=o,n.dependencies={lanes:0,firstContext:o},n.flags|=524288}else In=In.next=o;return r}var CS=typeof AbortController<"u"?AbortController:function(){var n=[],o=this.signal={aborted:!1,addEventListener:function(r,l){n.push(l)}};this.abort=function(){o.aborted=!0,n.forEach(function(r){return r()})}},xS=t.unstable_scheduleCallback,AS=t.unstable_NormalPriority,je={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Tu(){return{controller:new CS,data:new Map,refCount:0}}function Ps(n){n.refCount--,n.refCount===0&&xS(AS,function(){n.controller.abort()})}var Os=null,Su=0,Po=0,Oo=null;function bS(n,o){if(Os===null){var r=Os=[];Su=0,Po=xc(),Oo={status:"pending",value:void 0,then:function(l){r.push(l)}}}return Su++,o.then(xh,xh),o}function xh(){if(--Su===0&&Os!==null){Oo!==null&&(Oo.status="fulfilled");var n=Os;Os=null,Po=0,Oo=null;for(var o=0;o<n.length;o++)(0,n[o])()}}function wS(n,o){var r=[],l={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return n.then(function(){l.status="fulfilled",l.value=o;for(var h=0;h<r.length;h++)(0,r[h])(o)},function(h){for(l.status="rejected",l.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),l}var Ah=H.S;H.S=function(n,o){lm=ee(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&bS(n,o),Ah!==null&&Ah(n,o)};var Qi=w(null);function Eu(){var n=Qi.current;return n!==null?n:ze.pooledCache}function ea(n,o){o===null?X(Qi,Qi.current):X(Qi,o.pool)}function bh(){var n=Eu();return n===null?null:{parent:je._currentValue,pool:n}}var Ho=Error(s(460)),Cu=Error(s(474)),ta=Error(s(542)),na={then:function(){}};function wh(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Nh(n,o,r){switch(r=n[r],r===void 0?n.push(o):r!==o&&(o.then(An,An),o=r),o.status){case"fulfilled":return o.value;case"rejected":throw n=o.reason,Rh(n),n;default:if(typeof o.status=="string")o.then(An,An);else{if(n=ze,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=o,n.status="pending",n.then(function(l){if(o.status==="pending"){var h=o;h.status="fulfilled",h.value=l}},function(l){if(o.status==="pending"){var h=o;h.status="rejected",h.reason=l}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw n=o.reason,Rh(n),n}throw Zi=o,Ho}}function Wi(n){try{var o=n._init;return o(n._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Zi=r,Ho):r}}var Zi=null;function Ih(){if(Zi===null)throw Error(s(459));var n=Zi;return Zi=null,n}function Rh(n){if(n===Ho||n===ta)throw Error(s(483))}var Go=null,Hs=0;function ia(n){var o=Hs;return Hs+=1,Go===null&&(Go=[]),Nh(Go,n,o)}function Gs(n,o){o=o.props.ref,n.ref=o!==void 0?o:null}function oa(n,o){throw o.$$typeof===E?Error(s(525)):(n=Object.prototype.toString.call(o),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":n)))}function Mh(n){function o(I,b){if(n){var R=I.deletions;R===null?(I.deletions=[b],I.flags|=16):R.push(b)}}function r(I,b){if(!n)return null;for(;b!==null;)o(I,b),b=b.sibling;return null}function l(I){for(var b=new Map;I!==null;)I.key!==null?b.set(I.key,I):b.set(I.index,I),I=I.sibling;return b}function h(I,b){return I=wn(I,b),I.index=0,I.sibling=null,I}function g(I,b,R){return I.index=R,n?(R=I.alternate,R!==null?(R=R.index,R<b?(I.flags|=67108866,b):R):(I.flags|=67108866,b)):(I.flags|=1048576,b)}function T(I){return n&&I.alternate===null&&(I.flags|=67108866),I}function C(I,b,R,z){return b===null||b.tag!==6?(b=du(R,I.mode,z),b.return=I,b):(b=h(b,R),b.return=I,b)}function A(I,b,R,z){var re=R.type;return re===k?G(I,b,R.props.children,z,R.key):b!==null&&(b.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===he&&Wi(re)===b.type)?(b=h(b,R.props),Gs(b,R),b.return=I,b):(b=Qr(R.type,R.key,R.props,null,I.mode,z),Gs(b,R),b.return=I,b)}function M(I,b,R,z){return b===null||b.tag!==4||b.stateNode.containerInfo!==R.containerInfo||b.stateNode.implementation!==R.implementation?(b=fu(R,I.mode,z),b.return=I,b):(b=h(b,R.children||[]),b.return=I,b)}function G(I,b,R,z,re){return b===null||b.tag!==7?(b=Ji(R,I.mode,z,re),b.return=I,b):(b=h(b,R),b.return=I,b)}function B(I,b,R){if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return b=du(""+b,I.mode,R),b.return=I,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case x:return R=Qr(b.type,b.key,b.props,null,I.mode,R),Gs(R,b),R.return=I,R;case N:return b=fu(b,I.mode,R),b.return=I,b;case he:return b=Wi(b),B(I,b,R)}if($e(b)||ye(b))return b=Ji(b,I.mode,R,null),b.return=I,b;if(typeof b.then=="function")return B(I,ia(b),R);if(b.$$typeof===F)return B(I,jr(I,b),R);oa(I,b)}return null}function D(I,b,R,z){var re=b!==null?b.key:null;if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return re!==null?null:C(I,b,""+R,z);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case x:return R.key===re?A(I,b,R,z):null;case N:return R.key===re?M(I,b,R,z):null;case he:return R=Wi(R),D(I,b,R,z)}if($e(R)||ye(R))return re!==null?null:G(I,b,R,z,null);if(typeof R.then=="function")return D(I,b,ia(R),z);if(R.$$typeof===F)return D(I,b,jr(I,R),z);oa(I,R)}return null}function O(I,b,R,z,re){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return I=I.get(R)||null,C(b,I,""+z,re);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case x:return I=I.get(z.key===null?R:z.key)||null,A(b,I,z,re);case N:return I=I.get(z.key===null?R:z.key)||null,M(b,I,z,re);case he:return z=Wi(z),O(I,b,R,z,re)}if($e(z)||ye(z))return I=I.get(R)||null,G(b,I,z,re,null);if(typeof z.then=="function")return O(I,b,R,ia(z),re);if(z.$$typeof===F)return O(I,b,R,jr(b,z),re);oa(b,z)}return null}function ne(I,b,R,z){for(var re=null,Re=null,ie=b,_e=b=0,Ae=null;ie!==null&&_e<R.length;_e++){ie.index>_e?(Ae=ie,ie=null):Ae=ie.sibling;var Me=D(I,ie,R[_e],z);if(Me===null){ie===null&&(ie=Ae);break}n&&ie&&Me.alternate===null&&o(I,ie),b=g(Me,b,_e),Re===null?re=Me:Re.sibling=Me,Re=Me,ie=Ae}if(_e===R.length)return r(I,ie),we&&Nn(I,_e),re;if(ie===null){for(;_e<R.length;_e++)ie=B(I,R[_e],z),ie!==null&&(b=g(ie,b,_e),Re===null?re=ie:Re.sibling=ie,Re=ie);return we&&Nn(I,_e),re}for(ie=l(ie);_e<R.length;_e++)Ae=O(ie,I,_e,R[_e],z),Ae!==null&&(n&&Ae.alternate!==null&&ie.delete(Ae.key===null?_e:Ae.key),b=g(Ae,b,_e),Re===null?re=Ae:Re.sibling=Ae,Re=Ae);return n&&ie.forEach(function(bi){return o(I,bi)}),we&&Nn(I,_e),re}function ae(I,b,R,z){if(R==null)throw Error(s(151));for(var re=null,Re=null,ie=b,_e=b=0,Ae=null,Me=R.next();ie!==null&&!Me.done;_e++,Me=R.next()){ie.index>_e?(Ae=ie,ie=null):Ae=ie.sibling;var bi=D(I,ie,Me.value,z);if(bi===null){ie===null&&(ie=Ae);break}n&&ie&&bi.alternate===null&&o(I,ie),b=g(bi,b,_e),Re===null?re=bi:Re.sibling=bi,Re=bi,ie=Ae}if(Me.done)return r(I,ie),we&&Nn(I,_e),re;if(ie===null){for(;!Me.done;_e++,Me=R.next())Me=B(I,Me.value,z),Me!==null&&(b=g(Me,b,_e),Re===null?re=Me:Re.sibling=Me,Re=Me);return we&&Nn(I,_e),re}for(ie=l(ie);!Me.done;_e++,Me=R.next())Me=O(ie,I,_e,Me.value,z),Me!==null&&(n&&Me.alternate!==null&&ie.delete(Me.key===null?_e:Me.key),b=g(Me,b,_e),Re===null?re=Me:Re.sibling=Me,Re=Me);return n&&ie.forEach(function(HE){return o(I,HE)}),we&&Nn(I,_e),re}function Ge(I,b,R,z){if(typeof R=="object"&&R!==null&&R.type===k&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case x:e:{for(var re=R.key;b!==null;){if(b.key===re){if(re=R.type,re===k){if(b.tag===7){r(I,b.sibling),z=h(b,R.props.children),z.return=I,I=z;break e}}else if(b.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===he&&Wi(re)===b.type){r(I,b.sibling),z=h(b,R.props),Gs(z,R),z.return=I,I=z;break e}r(I,b);break}else o(I,b);b=b.sibling}R.type===k?(z=Ji(R.props.children,I.mode,z,R.key),z.return=I,I=z):(z=Qr(R.type,R.key,R.props,null,I.mode,z),Gs(z,R),z.return=I,I=z)}return T(I);case N:e:{for(re=R.key;b!==null;){if(b.key===re)if(b.tag===4&&b.stateNode.containerInfo===R.containerInfo&&b.stateNode.implementation===R.implementation){r(I,b.sibling),z=h(b,R.children||[]),z.return=I,I=z;break e}else{r(I,b);break}else o(I,b);b=b.sibling}z=fu(R,I.mode,z),z.return=I,I=z}return T(I);case he:return R=Wi(R),Ge(I,b,R,z)}if($e(R))return ne(I,b,R,z);if(ye(R)){if(re=ye(R),typeof re!="function")throw Error(s(150));return R=re.call(R),ae(I,b,R,z)}if(typeof R.then=="function")return Ge(I,b,ia(R),z);if(R.$$typeof===F)return Ge(I,b,jr(I,R),z);oa(I,R)}return typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint"?(R=""+R,b!==null&&b.tag===6?(r(I,b.sibling),z=h(b,R),z.return=I,I=z):(r(I,b),z=du(R,I.mode,z),z.return=I,I=z),T(I)):r(I,b)}return function(I,b,R,z){try{Hs=0;var re=Ge(I,b,R,z);return Go=null,re}catch(ie){if(ie===Ho||ie===ta)throw ie;var Re=It(29,ie,null,I.mode);return Re.lanes=z,Re.return=I,Re}finally{}}}var ji=Mh(!0),Dh=Mh(!1),ui=!1;function xu(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Au(n,o){n=n.updateQueue,o.updateQueue===n&&(o.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function ci(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function di(n,o,r){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(Ue&2)!==0){var h=l.pending;return h===null?o.next=o:(o.next=h.next,h.next=o),l.pending=o,o=Xr(n),mh(n,null,r),o}return Kr(n,l,o,r),Xr(n)}function zs(n,o,r){if(o=o.updateQueue,o!==null&&(o=o.shared,(r&4194048)!==0)){var l=o.lanes;l&=n.pendingLanes,r|=l,o.lanes=r,Cf(n,r)}}function bu(n,o){var r=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var h=null,g=null;if(r=r.firstBaseUpdate,r!==null){do{var T={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};g===null?h=g=T:g=g.next=T,r=r.next}while(r!==null);g===null?h=g=o:g=g.next=o}else h=g=o;r={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:g,shared:l.shared,callbacks:l.callbacks},n.updateQueue=r;return}n=r.lastBaseUpdate,n===null?r.firstBaseUpdate=o:n.next=o,r.lastBaseUpdate=o}var wu=!1;function Vs(){if(wu){var n=Oo;if(n!==null)throw n}}function Bs(n,o,r,l){wu=!1;var h=n.updateQueue;ui=!1;var g=h.firstBaseUpdate,T=h.lastBaseUpdate,C=h.shared.pending;if(C!==null){h.shared.pending=null;var A=C,M=A.next;A.next=null,T===null?g=M:T.next=M,T=A;var G=n.alternate;G!==null&&(G=G.updateQueue,C=G.lastBaseUpdate,C!==T&&(C===null?G.firstBaseUpdate=M:C.next=M,G.lastBaseUpdate=A))}if(g!==null){var B=h.baseState;T=0,G=M=A=null,C=g;do{var D=C.lane&-536870913,O=D!==C.lane;if(O?(xe&D)===D:(l&D)===D){D!==0&&D===Po&&(wu=!0),G!==null&&(G=G.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var ne=n,ae=C;D=o;var Ge=r;switch(ae.tag){case 1:if(ne=ae.payload,typeof ne=="function"){B=ne.call(Ge,B,D);break e}B=ne;break e;case 3:ne.flags=ne.flags&-65537|128;case 0:if(ne=ae.payload,D=typeof ne=="function"?ne.call(Ge,B,D):ne,D==null)break e;B=S({},B,D);break e;case 2:ui=!0}}D=C.callback,D!==null&&(n.flags|=64,O&&(n.flags|=8192),O=h.callbacks,O===null?h.callbacks=[D]:O.push(D))}else O={lane:D,tag:C.tag,payload:C.payload,callback:C.callback,next:null},G===null?(M=G=O,A=B):G=G.next=O,T|=D;if(C=C.next,C===null){if(C=h.shared.pending,C===null)break;O=C,C=O.next,O.next=null,h.lastBaseUpdate=O,h.shared.pending=null}}while(!0);G===null&&(A=B),h.baseState=A,h.firstBaseUpdate=M,h.lastBaseUpdate=G,g===null&&(h.shared.lanes=0),gi|=T,n.lanes=T,n.memoizedState=B}}function Uh(n,o){if(typeof n!="function")throw Error(s(191,n));n.call(o)}function kh(n,o){var r=n.callbacks;if(r!==null)for(n.callbacks=null,n=0;n<r.length;n++)Uh(r[n],o)}var zo=w(null),sa=w(0);function Lh(n,o){n=Gn,X(sa,n),X(zo,o),Gn=n|o.baseLanes}function Nu(){X(sa,Gn),X(zo,zo.current)}function Iu(){Gn=sa.current,V(zo),V(sa)}var Rt=w(null),Jt=null;function fi(n){var o=n.alternate;X(Qe,Qe.current&1),X(Rt,n),Jt===null&&(o===null||zo.current!==null||o.memoizedState!==null)&&(Jt=n)}function Ru(n){X(Qe,Qe.current),X(Rt,n),Jt===null&&(Jt=n)}function Ph(n){n.tag===22?(X(Qe,Qe.current),X(Rt,n),Jt===null&&(Jt=n)):hi()}function hi(){X(Qe,Qe.current),X(Rt,Rt.current)}function Mt(n){V(Rt),Jt===n&&(Jt=null),V(Qe)}var Qe=w(0);function ra(n){for(var o=n;o!==null;){if(o.tag===13){var r=o.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Pc(r)||Oc(r)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===n)break;for(;o.sibling===null;){if(o.return===null||o.return===n)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Mn=0,me=null,Oe=null,et=null,aa=!1,Vo=!1,eo=!1,la=0,qs=0,Bo=null,NS=0;function Ke(){throw Error(s(321))}function Mu(n,o){if(o===null)return!1;for(var r=0;r<o.length&&r<n.length;r++)if(!Nt(n[r],o[r]))return!1;return!0}function Du(n,o,r,l,h,g){return Mn=g,me=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,H.H=n===null||n.memoizedState===null?_p:$u,eo=!1,g=r(l,h),eo=!1,Vo&&(g=Hh(o,r,l,h)),Oh(n),g}function Oh(n){H.H=Js;var o=Oe!==null&&Oe.next!==null;if(Mn=0,et=Oe=me=null,aa=!1,qs=0,Bo=null,o)throw Error(s(300));n===null||tt||(n=n.dependencies,n!==null&&Zr(n)&&(tt=!0))}function Hh(n,o,r,l){me=n;var h=0;do{if(Vo&&(Bo=null),qs=0,Vo=!1,25<=h)throw Error(s(301));if(h+=1,et=Oe=null,n.updateQueue!=null){var g=n.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}H.H=Tp,g=o(r,l)}while(Vo);return g}function IS(){var n=H.H,o=n.useState()[0];return o=typeof o.then=="function"?Fs(o):o,n=n.useState()[0],(Oe!==null?Oe.memoizedState:null)!==n&&(me.flags|=1024),o}function Uu(){var n=la!==0;return la=0,n}function ku(n,o,r){o.updateQueue=n.updateQueue,o.flags&=-2053,n.lanes&=~r}function Lu(n){if(aa){for(n=n.memoizedState;n!==null;){var o=n.queue;o!==null&&(o.pending=null),n=n.next}aa=!1}Mn=0,et=Oe=me=null,Vo=!1,qs=la=0,Bo=null}function pt(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return et===null?me.memoizedState=et=n:et=et.next=n,et}function We(){if(Oe===null){var n=me.alternate;n=n!==null?n.memoizedState:null}else n=Oe.next;var o=et===null?me.memoizedState:et.next;if(o!==null)et=o,Oe=n;else{if(n===null)throw me.alternate===null?Error(s(467)):Error(s(310));Oe=n,n={memoizedState:Oe.memoizedState,baseState:Oe.baseState,baseQueue:Oe.baseQueue,queue:Oe.queue,next:null},et===null?me.memoizedState=et=n:et=et.next=n}return et}function ua(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Fs(n){var o=qs;return qs+=1,Bo===null&&(Bo=[]),n=Nh(Bo,n,o),o=me,(et===null?o.memoizedState:et.next)===null&&(o=o.alternate,H.H=o===null||o.memoizedState===null?_p:$u),n}function ca(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Fs(n);if(n.$$typeof===F)return ut(n)}throw Error(s(438,String(n)))}function Pu(n){var o=null,r=me.updateQueue;if(r!==null&&(o=r.memoCache),o==null){var l=me.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(o={data:l.data.map(function(h){return h.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),r===null&&(r=ua(),me.updateQueue=r),r.memoCache=o,r=o.data[o.index],r===void 0)for(r=o.data[o.index]=Array(n),l=0;l<n;l++)r[l]=de;return o.index++,r}function Dn(n,o){return typeof o=="function"?o(n):o}function da(n){var o=We();return Ou(o,Oe,n)}function Ou(n,o,r){var l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=r;var h=n.baseQueue,g=l.pending;if(g!==null){if(h!==null){var T=h.next;h.next=g.next,g.next=T}o.baseQueue=h=g,l.pending=null}if(g=n.baseState,h===null)n.memoizedState=g;else{o=h.next;var C=T=null,A=null,M=o,G=!1;do{var B=M.lane&-536870913;if(B!==M.lane?(xe&B)===B:(Mn&B)===B){var D=M.revertLane;if(D===0)A!==null&&(A=A.next={lane:0,revertLane:0,gesture:null,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null}),B===Po&&(G=!0);else if((Mn&D)===D){M=M.next,D===Po&&(G=!0);continue}else B={lane:0,revertLane:M.revertLane,gesture:null,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null},A===null?(C=A=B,T=g):A=A.next=B,me.lanes|=D,gi|=D;B=M.action,eo&&r(g,B),g=M.hasEagerState?M.eagerState:r(g,B)}else D={lane:B,revertLane:M.revertLane,gesture:M.gesture,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null},A===null?(C=A=D,T=g):A=A.next=D,me.lanes|=B,gi|=B;M=M.next}while(M!==null&&M!==o);if(A===null?T=g:A.next=C,!Nt(g,n.memoizedState)&&(tt=!0,G&&(r=Oo,r!==null)))throw r;n.memoizedState=g,n.baseState=T,n.baseQueue=A,l.lastRenderedState=g}return h===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function Hu(n){var o=We(),r=o.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=n;var l=r.dispatch,h=r.pending,g=o.memoizedState;if(h!==null){r.pending=null;var T=h=h.next;do g=n(g,T.action),T=T.next;while(T!==h);Nt(g,o.memoizedState)||(tt=!0),o.memoizedState=g,o.baseQueue===null&&(o.baseState=g),r.lastRenderedState=g}return[g,l]}function Gh(n,o,r){var l=me,h=We(),g=we;if(g){if(r===void 0)throw Error(s(407));r=r()}else r=o();var T=!Nt((Oe||h).memoizedState,r);if(T&&(h.memoizedState=r,tt=!0),h=h.queue,Vu(Bh.bind(null,l,h,n),[n]),h.getSnapshot!==o||T||et!==null&&et.memoizedState.tag&1){if(l.flags|=2048,qo(9,{destroy:void 0},Vh.bind(null,l,h,r,o),null),ze===null)throw Error(s(349));g||(Mn&127)!==0||zh(l,o,r)}return r}function zh(n,o,r){n.flags|=16384,n={getSnapshot:o,value:r},o=me.updateQueue,o===null?(o=ua(),me.updateQueue=o,o.stores=[n]):(r=o.stores,r===null?o.stores=[n]:r.push(n))}function Vh(n,o,r,l){o.value=r,o.getSnapshot=l,qh(o)&&Fh(n)}function Bh(n,o,r){return r(function(){qh(o)&&Fh(n)})}function qh(n){var o=n.getSnapshot;n=n.value;try{var r=o();return!Nt(n,r)}catch{return!0}}function Fh(n){var o=Yi(n,2);o!==null&&At(o,n,2)}function Gu(n){var o=pt();if(typeof n=="function"){var r=n;if(n=r(),eo){ni(!0);try{r()}finally{ni(!1)}}}return o.memoizedState=o.baseState=n,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dn,lastRenderedState:n},o}function Yh(n,o,r,l){return n.baseState=r,Ou(n,Oe,typeof l=="function"?l:Dn)}function RS(n,o,r,l,h){if(pa(n))throw Error(s(485));if(n=o.action,n!==null){var g={payload:h,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){g.listeners.push(T)}};H.T!==null?r(!0):g.isTransition=!1,l(g),r=o.pending,r===null?(g.next=o.pending=g,Jh(o,g)):(g.next=r.next,o.pending=r.next=g)}}function Jh(n,o){var r=o.action,l=o.payload,h=n.state;if(o.isTransition){var g=H.T,T={};H.T=T;try{var C=r(h,l),A=H.S;A!==null&&A(T,C),$h(n,o,C)}catch(M){zu(n,o,M)}finally{g!==null&&T.types!==null&&(g.types=T.types),H.T=g}}else try{g=r(h,l),$h(n,o,g)}catch(M){zu(n,o,M)}}function $h(n,o,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){Kh(n,o,l)},function(l){return zu(n,o,l)}):Kh(n,o,r)}function Kh(n,o,r){o.status="fulfilled",o.value=r,Xh(o),n.state=r,o=n.pending,o!==null&&(r=o.next,r===o?n.pending=null:(r=r.next,o.next=r,Jh(n,r)))}function zu(n,o,r){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do o.status="rejected",o.reason=r,Xh(o),o=o.next;while(o!==l)}n.action=null}function Xh(n){n=n.listeners;for(var o=0;o<n.length;o++)(0,n[o])()}function Qh(n,o){return o}function Wh(n,o){if(we){var r=ze.formState;if(r!==null){e:{var l=me;if(we){if(qe){t:{for(var h=qe,g=Yt;h.nodeType!==8;){if(!g){h=null;break t}if(h=$t(h.nextSibling),h===null){h=null;break t}}g=h.data,h=g==="F!"||g==="F"?h:null}if(h){qe=$t(h.nextSibling),l=h.data==="F!";break e}}ai(l)}l=!1}l&&(o=r[0])}}return r=pt(),r.memoizedState=r.baseState=o,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qh,lastRenderedState:o},r.queue=l,r=gp.bind(null,me,l),l.dispatch=r,l=Gu(!1),g=Ju.bind(null,me,!1,l.queue),l=pt(),h={state:o,dispatch:null,action:n,pending:null},l.queue=h,r=RS.bind(null,me,h,g,r),h.dispatch=r,l.memoizedState=n,[o,r,!1]}function Zh(n){var o=We();return jh(o,Oe,n)}function jh(n,o,r){if(o=Ou(n,o,Qh)[0],n=da(Dn)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var l=Fs(o)}catch(T){throw T===Ho?ta:T}else l=o;o=We();var h=o.queue,g=h.dispatch;return r!==o.memoizedState&&(me.flags|=2048,qo(9,{destroy:void 0},MS.bind(null,h,r),null)),[l,g,n]}function MS(n,o){n.action=o}function ep(n){var o=We(),r=Oe;if(r!==null)return jh(o,r,n);We(),o=o.memoizedState,r=We();var l=r.queue.dispatch;return r.memoizedState=n,[o,l,!1]}function qo(n,o,r,l){return n={tag:n,create:r,deps:l,inst:o,next:null},o=me.updateQueue,o===null&&(o=ua(),me.updateQueue=o),r=o.lastEffect,r===null?o.lastEffect=n.next=n:(l=r.next,r.next=n,n.next=l,o.lastEffect=n),n}function tp(){return We().memoizedState}function fa(n,o,r,l){var h=pt();me.flags|=n,h.memoizedState=qo(1|o,{destroy:void 0},r,l===void 0?null:l)}function ha(n,o,r,l){var h=We();l=l===void 0?null:l;var g=h.memoizedState.inst;Oe!==null&&l!==null&&Mu(l,Oe.memoizedState.deps)?h.memoizedState=qo(o,g,r,l):(me.flags|=n,h.memoizedState=qo(1|o,g,r,l))}function np(n,o){fa(8390656,8,n,o)}function Vu(n,o){ha(2048,8,n,o)}function DS(n){me.flags|=4;var o=me.updateQueue;if(o===null)o=ua(),me.updateQueue=o,o.events=[n];else{var r=o.events;r===null?o.events=[n]:r.push(n)}}function ip(n){var o=We().memoizedState;return DS({ref:o,nextImpl:n}),function(){if((Ue&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}function op(n,o){return ha(4,2,n,o)}function sp(n,o){return ha(4,4,n,o)}function rp(n,o){if(typeof o=="function"){n=n();var r=o(n);return function(){typeof r=="function"?r():o(null)}}if(o!=null)return n=n(),o.current=n,function(){o.current=null}}function ap(n,o,r){r=r!=null?r.concat([n]):null,ha(4,4,rp.bind(null,o,n),r)}function Bu(){}function lp(n,o){var r=We();o=o===void 0?null:o;var l=r.memoizedState;return o!==null&&Mu(o,l[1])?l[0]:(r.memoizedState=[n,o],n)}function up(n,o){var r=We();o=o===void 0?null:o;var l=r.memoizedState;if(o!==null&&Mu(o,l[1]))return l[0];if(l=n(),eo){ni(!0);try{n()}finally{ni(!1)}}return r.memoizedState=[l,o],l}function qu(n,o,r){return r===void 0||(Mn&1073741824)!==0&&(xe&261930)===0?n.memoizedState=o:(n.memoizedState=r,n=cm(),me.lanes|=n,gi|=n,r)}function cp(n,o,r,l){return Nt(r,o)?r:zo.current!==null?(n=qu(n,r,l),Nt(n,o)||(tt=!0),n):(Mn&42)===0||(Mn&1073741824)!==0&&(xe&261930)===0?(tt=!0,n.memoizedState=r):(n=cm(),me.lanes|=n,gi|=n,o)}function dp(n,o,r,l,h){var g=J.p;J.p=g!==0&&8>g?g:8;var T=H.T,C={};H.T=C,Ju(n,!1,o,r);try{var A=h(),M=H.S;if(M!==null&&M(C,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var G=wS(A,l);Ys(n,o,G,kt(n))}else Ys(n,o,l,kt(n))}catch(B){Ys(n,o,{then:function(){},status:"rejected",reason:B},kt())}finally{J.p=g,T!==null&&C.types!==null&&(T.types=C.types),H.T=T}}function US(){}function Fu(n,o,r,l){if(n.tag!==5)throw Error(s(476));var h=fp(n).queue;dp(n,h,o,se,r===null?US:function(){return hp(n),r(l)})}function fp(n){var o=n.memoizedState;if(o!==null)return o;o={memoizedState:se,baseState:se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dn,lastRenderedState:se},next:null};var r={};return o.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dn,lastRenderedState:r},next:null},n.memoizedState=o,n=n.alternate,n!==null&&(n.memoizedState=o),o}function hp(n){var o=fp(n);o.next===null&&(o=n.alternate.memoizedState),Ys(n,o.next.queue,{},kt())}function Yu(){return ut(lr)}function pp(){return We().memoizedState}function mp(){return We().memoizedState}function kS(n){for(var o=n.return;o!==null;){switch(o.tag){case 24:case 3:var r=kt();n=ci(r);var l=di(o,n,r);l!==null&&(At(l,o,r),zs(l,o,r)),o={cache:Tu()},n.payload=o;return}o=o.return}}function LS(n,o,r){var l=kt();r={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},pa(n)?yp(o,r):(r=uu(n,o,r,l),r!==null&&(At(r,n,l),vp(r,o,l)))}function gp(n,o,r){var l=kt();Ys(n,o,r,l)}function Ys(n,o,r,l){var h={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(pa(n))yp(o,h);else{var g=n.alternate;if(n.lanes===0&&(g===null||g.lanes===0)&&(g=o.lastRenderedReducer,g!==null))try{var T=o.lastRenderedState,C=g(T,r);if(h.hasEagerState=!0,h.eagerState=C,Nt(C,T))return Kr(n,o,h,0),ze===null&&$r(),!1}catch{}finally{}if(r=uu(n,o,h,l),r!==null)return At(r,n,l),vp(r,o,l),!0}return!1}function Ju(n,o,r,l){if(l={lane:2,revertLane:xc(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},pa(n)){if(o)throw Error(s(479))}else o=uu(n,r,l,2),o!==null&&At(o,n,2)}function pa(n){var o=n.alternate;return n===me||o!==null&&o===me}function yp(n,o){Vo=aa=!0;var r=n.pending;r===null?o.next=o:(o.next=r.next,r.next=o),n.pending=o}function vp(n,o,r){if((r&4194048)!==0){var l=o.lanes;l&=n.pendingLanes,r|=l,o.lanes=r,Cf(n,r)}}var Js={readContext:ut,use:ca,useCallback:Ke,useContext:Ke,useEffect:Ke,useImperativeHandle:Ke,useLayoutEffect:Ke,useInsertionEffect:Ke,useMemo:Ke,useReducer:Ke,useRef:Ke,useState:Ke,useDebugValue:Ke,useDeferredValue:Ke,useTransition:Ke,useSyncExternalStore:Ke,useId:Ke,useHostTransitionStatus:Ke,useFormState:Ke,useActionState:Ke,useOptimistic:Ke,useMemoCache:Ke,useCacheRefresh:Ke};Js.useEffectEvent=Ke;var _p={readContext:ut,use:ca,useCallback:function(n,o){return pt().memoizedState=[n,o===void 0?null:o],n},useContext:ut,useEffect:np,useImperativeHandle:function(n,o,r){r=r!=null?r.concat([n]):null,fa(4194308,4,rp.bind(null,o,n),r)},useLayoutEffect:function(n,o){return fa(4194308,4,n,o)},useInsertionEffect:function(n,o){fa(4,2,n,o)},useMemo:function(n,o){var r=pt();o=o===void 0?null:o;var l=n();if(eo){ni(!0);try{n()}finally{ni(!1)}}return r.memoizedState=[l,o],l},useReducer:function(n,o,r){var l=pt();if(r!==void 0){var h=r(o);if(eo){ni(!0);try{r(o)}finally{ni(!1)}}}else h=o;return l.memoizedState=l.baseState=h,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:h},l.queue=n,n=n.dispatch=LS.bind(null,me,n),[l.memoizedState,n]},useRef:function(n){var o=pt();return n={current:n},o.memoizedState=n},useState:function(n){n=Gu(n);var o=n.queue,r=gp.bind(null,me,o);return o.dispatch=r,[n.memoizedState,r]},useDebugValue:Bu,useDeferredValue:function(n,o){var r=pt();return qu(r,n,o)},useTransition:function(){var n=Gu(!1);return n=dp.bind(null,me,n.queue,!0,!1),pt().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,o,r){var l=me,h=pt();if(we){if(r===void 0)throw Error(s(407));r=r()}else{if(r=o(),ze===null)throw Error(s(349));(xe&127)!==0||zh(l,o,r)}h.memoizedState=r;var g={value:r,getSnapshot:o};return h.queue=g,np(Bh.bind(null,l,g,n),[n]),l.flags|=2048,qo(9,{destroy:void 0},Vh.bind(null,l,g,r,o),null),r},useId:function(){var n=pt(),o=ze.identifierPrefix;if(we){var r=fn,l=dn;r=(l&~(1<<32-wt(l)-1)).toString(32)+r,o="_"+o+"R_"+r,r=la++,0<r&&(o+="H"+r.toString(32)),o+="_"}else r=NS++,o="_"+o+"r_"+r.toString(32)+"_";return n.memoizedState=o},useHostTransitionStatus:Yu,useFormState:Wh,useActionState:Wh,useOptimistic:function(n){var o=pt();o.memoizedState=o.baseState=n;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=r,o=Ju.bind(null,me,!0,r),r.dispatch=o,[n,o]},useMemoCache:Pu,useCacheRefresh:function(){return pt().memoizedState=kS.bind(null,me)},useEffectEvent:function(n){var o=pt(),r={impl:n};return o.memoizedState=r,function(){if((Ue&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}},$u={readContext:ut,use:ca,useCallback:lp,useContext:ut,useEffect:Vu,useImperativeHandle:ap,useInsertionEffect:op,useLayoutEffect:sp,useMemo:up,useReducer:da,useRef:tp,useState:function(){return da(Dn)},useDebugValue:Bu,useDeferredValue:function(n,o){var r=We();return cp(r,Oe.memoizedState,n,o)},useTransition:function(){var n=da(Dn)[0],o=We().memoizedState;return[typeof n=="boolean"?n:Fs(n),o]},useSyncExternalStore:Gh,useId:pp,useHostTransitionStatus:Yu,useFormState:Zh,useActionState:Zh,useOptimistic:function(n,o){var r=We();return Yh(r,Oe,n,o)},useMemoCache:Pu,useCacheRefresh:mp};$u.useEffectEvent=ip;var Tp={readContext:ut,use:ca,useCallback:lp,useContext:ut,useEffect:Vu,useImperativeHandle:ap,useInsertionEffect:op,useLayoutEffect:sp,useMemo:up,useReducer:Hu,useRef:tp,useState:function(){return Hu(Dn)},useDebugValue:Bu,useDeferredValue:function(n,o){var r=We();return Oe===null?qu(r,n,o):cp(r,Oe.memoizedState,n,o)},useTransition:function(){var n=Hu(Dn)[0],o=We().memoizedState;return[typeof n=="boolean"?n:Fs(n),o]},useSyncExternalStore:Gh,useId:pp,useHostTransitionStatus:Yu,useFormState:ep,useActionState:ep,useOptimistic:function(n,o){var r=We();return Oe!==null?Yh(r,Oe,n,o):(r.baseState=n,[n,r.queue.dispatch])},useMemoCache:Pu,useCacheRefresh:mp};Tp.useEffectEvent=ip;function Ku(n,o,r,l){o=n.memoizedState,r=r(l,o),r=r==null?o:S({},o,r),n.memoizedState=r,n.lanes===0&&(n.updateQueue.baseState=r)}var Xu={enqueueSetState:function(n,o,r){n=n._reactInternals;var l=kt(),h=ci(l);h.payload=o,r!=null&&(h.callback=r),o=di(n,h,l),o!==null&&(At(o,n,l),zs(o,n,l))},enqueueReplaceState:function(n,o,r){n=n._reactInternals;var l=kt(),h=ci(l);h.tag=1,h.payload=o,r!=null&&(h.callback=r),o=di(n,h,l),o!==null&&(At(o,n,l),zs(o,n,l))},enqueueForceUpdate:function(n,o){n=n._reactInternals;var r=kt(),l=ci(r);l.tag=2,o!=null&&(l.callback=o),o=di(n,l,r),o!==null&&(At(o,n,r),zs(o,n,r))}};function Sp(n,o,r,l,h,g,T){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,g,T):o.prototype&&o.prototype.isPureReactComponent?!Ds(r,l)||!Ds(h,g):!0}function Ep(n,o,r,l){n=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(r,l),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(r,l),o.state!==n&&Xu.enqueueReplaceState(o,o.state,null)}function to(n,o){var r=o;if("ref"in o){r={};for(var l in o)l!=="ref"&&(r[l]=o[l])}if(n=n.defaultProps){r===o&&(r=S({},r));for(var h in n)r[h]===void 0&&(r[h]=n[h])}return r}function Cp(n){Jr(n)}function xp(n){console.error(n)}function Ap(n){Jr(n)}function ma(n,o){try{var r=n.onUncaughtError;r(o.value,{componentStack:o.stack})}catch(l){setTimeout(function(){throw l})}}function bp(n,o,r){try{var l=n.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Qu(n,o,r){return r=ci(r),r.tag=3,r.payload={element:null},r.callback=function(){ma(n,o)},r}function wp(n){return n=ci(n),n.tag=3,n}function Np(n,o,r,l){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var g=l.value;n.payload=function(){return h(g)},n.callback=function(){bp(o,r,l)}}var T=r.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(n.callback=function(){bp(o,r,l),typeof h!="function"&&(yi===null?yi=new Set([this]):yi.add(this));var C=l.stack;this.componentDidCatch(l.value,{componentStack:C!==null?C:""})})}function PS(n,o,r,l,h){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(o=r.alternate,o!==null&&Lo(o,r,h,!0),r=Rt.current,r!==null){switch(r.tag){case 31:case 13:return Jt===null?wa():r.alternate===null&&Xe===0&&(Xe=3),r.flags&=-257,r.flags|=65536,r.lanes=h,l===na?r.flags|=16384:(o=r.updateQueue,o===null?r.updateQueue=new Set([l]):o.add(l),Sc(n,l,h)),!1;case 22:return r.flags|=65536,l===na?r.flags|=16384:(o=r.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=o):(r=o.retryQueue,r===null?o.retryQueue=new Set([l]):r.add(l)),Sc(n,l,h)),!1}throw Error(s(435,r.tag))}return Sc(n,l,h),wa(),!1}if(we)return o=Rt.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=h,l!==mu&&(n=Error(s(422),{cause:l}),Ls(Bt(n,r)))):(l!==mu&&(o=Error(s(423),{cause:l}),Ls(Bt(o,r))),n=n.current.alternate,n.flags|=65536,h&=-h,n.lanes|=h,l=Bt(l,r),h=Qu(n.stateNode,l,h),bu(n,h),Xe!==4&&(Xe=2)),!1;var g=Error(s(520),{cause:l});if(g=Bt(g,r),er===null?er=[g]:er.push(g),Xe!==4&&(Xe=2),o===null)return!0;l=Bt(l,r),r=o;do{switch(r.tag){case 3:return r.flags|=65536,n=h&-h,r.lanes|=n,n=Qu(r.stateNode,l,n),bu(r,n),!1;case 1:if(o=r.type,g=r.stateNode,(r.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(yi===null||!yi.has(g))))return r.flags|=65536,h&=-h,r.lanes|=h,h=wp(h),Np(h,n,r,l),bu(r,h),!1}r=r.return}while(r!==null);return!1}var Wu=Error(s(461)),tt=!1;function ct(n,o,r,l){o.child=n===null?Dh(o,null,r,l):ji(o,n.child,r,l)}function Ip(n,o,r,l,h){r=r.render;var g=o.ref;if("ref"in l){var T={};for(var C in l)C!=="ref"&&(T[C]=l[C])}else T=l;return Xi(o),l=Du(n,o,r,T,g,h),C=Uu(),n!==null&&!tt?(ku(n,o,h),Un(n,o,h)):(we&&C&&hu(o),o.flags|=1,ct(n,o,l,h),o.child)}function Rp(n,o,r,l,h){if(n===null){var g=r.type;return typeof g=="function"&&!cu(g)&&g.defaultProps===void 0&&r.compare===null?(o.tag=15,o.type=g,Mp(n,o,g,l,h)):(n=Qr(r.type,null,l,o,o.mode,h),n.ref=o.ref,n.return=o,o.child=n)}if(g=n.child,!sc(n,h)){var T=g.memoizedProps;if(r=r.compare,r=r!==null?r:Ds,r(T,l)&&n.ref===o.ref)return Un(n,o,h)}return o.flags|=1,n=wn(g,l),n.ref=o.ref,n.return=o,o.child=n}function Mp(n,o,r,l,h){if(n!==null){var g=n.memoizedProps;if(Ds(g,l)&&n.ref===o.ref)if(tt=!1,o.pendingProps=l=g,sc(n,h))(n.flags&131072)!==0&&(tt=!0);else return o.lanes=n.lanes,Un(n,o,h)}return Zu(n,o,r,l,h)}function Dp(n,o,r,l){var h=l.children,g=n!==null?n.memoizedState:null;if(n===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((o.flags&128)!==0){if(g=g!==null?g.baseLanes|r:r,n!==null){for(l=o.child=n.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~g}else l=0,o.child=null;return Up(n,o,g,r,l)}if((r&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},n!==null&&ea(o,g!==null?g.cachePool:null),g!==null?Lh(o,g):Nu(),Ph(o);else return l=o.lanes=536870912,Up(n,o,g!==null?g.baseLanes|r:r,r,l)}else g!==null?(ea(o,g.cachePool),Lh(o,g),hi(),o.memoizedState=null):(n!==null&&ea(o,null),Nu(),hi());return ct(n,o,h,r),o.child}function $s(n,o){return n!==null&&n.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function Up(n,o,r,l,h){var g=Eu();return g=g===null?null:{parent:je._currentValue,pool:g},o.memoizedState={baseLanes:r,cachePool:g},n!==null&&ea(o,null),Nu(),Ph(o),n!==null&&Lo(n,o,l,!0),o.childLanes=h,null}function ga(n,o){return o=va({mode:o.mode,children:o.children},n.mode),o.ref=n.ref,n.child=o,o.return=n,o}function kp(n,o,r){return ji(o,n.child,null,r),n=ga(o,o.pendingProps),n.flags|=2,Mt(o),o.memoizedState=null,n}function OS(n,o,r){var l=o.pendingProps,h=(o.flags&128)!==0;if(o.flags&=-129,n===null){if(we){if(l.mode==="hidden")return n=ga(o,l),o.lanes=536870912,$s(null,n);if(Ru(o),(n=qe)?(n=Jm(n,Yt),n=n!==null&&n.data==="&"?n:null,n!==null&&(o.memoizedState={dehydrated:n,treeContext:si!==null?{id:dn,overflow:fn}:null,retryLane:536870912,hydrationErrors:null},r=yh(n),r.return=o,o.child=r,lt=o,qe=null)):n=null,n===null)throw ai(o);return o.lanes=536870912,null}return ga(o,l)}var g=n.memoizedState;if(g!==null){var T=g.dehydrated;if(Ru(o),h)if(o.flags&256)o.flags&=-257,o=kp(n,o,r);else if(o.memoizedState!==null)o.child=n.child,o.flags|=128,o=null;else throw Error(s(558));else if(tt||Lo(n,o,r,!1),h=(r&n.childLanes)!==0,tt||h){if(l=ze,l!==null&&(T=xf(l,r),T!==0&&T!==g.retryLane))throw g.retryLane=T,Yi(n,T),At(l,n,T),Wu;wa(),o=kp(n,o,r)}else n=g.treeContext,qe=$t(T.nextSibling),lt=o,we=!0,ri=null,Yt=!1,n!==null&&Th(o,n),o=ga(o,l),o.flags|=4096;return o}return n=wn(n.child,{mode:l.mode,children:l.children}),n.ref=o.ref,o.child=n,n.return=o,n}function ya(n,o){var r=o.ref;if(r===null)n!==null&&n.ref!==null&&(o.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(n===null||n.ref!==r)&&(o.flags|=4194816)}}function Zu(n,o,r,l,h){return Xi(o),r=Du(n,o,r,l,void 0,h),l=Uu(),n!==null&&!tt?(ku(n,o,h),Un(n,o,h)):(we&&l&&hu(o),o.flags|=1,ct(n,o,r,h),o.child)}function Lp(n,o,r,l,h,g){return Xi(o),o.updateQueue=null,r=Hh(o,l,r,h),Oh(n),l=Uu(),n!==null&&!tt?(ku(n,o,g),Un(n,o,g)):(we&&l&&hu(o),o.flags|=1,ct(n,o,r,g),o.child)}function Pp(n,o,r,l,h){if(Xi(o),o.stateNode===null){var g=Mo,T=r.contextType;typeof T=="object"&&T!==null&&(g=ut(T)),g=new r(l,g),o.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Xu,o.stateNode=g,g._reactInternals=o,g=o.stateNode,g.props=l,g.state=o.memoizedState,g.refs={},xu(o),T=r.contextType,g.context=typeof T=="object"&&T!==null?ut(T):Mo,g.state=o.memoizedState,T=r.getDerivedStateFromProps,typeof T=="function"&&(Ku(o,r,T,l),g.state=o.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(T=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),T!==g.state&&Xu.enqueueReplaceState(g,g.state,null),Bs(o,l,g,h),Vs(),g.state=o.memoizedState),typeof g.componentDidMount=="function"&&(o.flags|=4194308),l=!0}else if(n===null){g=o.stateNode;var C=o.memoizedProps,A=to(r,C);g.props=A;var M=g.context,G=r.contextType;T=Mo,typeof G=="object"&&G!==null&&(T=ut(G));var B=r.getDerivedStateFromProps;G=typeof B=="function"||typeof g.getSnapshotBeforeUpdate=="function",C=o.pendingProps!==C,G||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(C||M!==T)&&Ep(o,g,l,T),ui=!1;var D=o.memoizedState;g.state=D,Bs(o,l,g,h),Vs(),M=o.memoizedState,C||D!==M||ui?(typeof B=="function"&&(Ku(o,r,B,l),M=o.memoizedState),(A=ui||Sp(o,r,A,l,D,M,T))?(G||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(o.flags|=4194308)):(typeof g.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=l,o.memoizedState=M),g.props=l,g.state=M,g.context=T,l=A):(typeof g.componentDidMount=="function"&&(o.flags|=4194308),l=!1)}else{g=o.stateNode,Au(n,o),T=o.memoizedProps,G=to(r,T),g.props=G,B=o.pendingProps,D=g.context,M=r.contextType,A=Mo,typeof M=="object"&&M!==null&&(A=ut(M)),C=r.getDerivedStateFromProps,(M=typeof C=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(T!==B||D!==A)&&Ep(o,g,l,A),ui=!1,D=o.memoizedState,g.state=D,Bs(o,l,g,h),Vs();var O=o.memoizedState;T!==B||D!==O||ui||n!==null&&n.dependencies!==null&&Zr(n.dependencies)?(typeof C=="function"&&(Ku(o,r,C,l),O=o.memoizedState),(G=ui||Sp(o,r,G,l,D,O,A)||n!==null&&n.dependencies!==null&&Zr(n.dependencies))?(M||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(l,O,A),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(l,O,A)),typeof g.componentDidUpdate=="function"&&(o.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof g.componentDidUpdate!="function"||T===n.memoizedProps&&D===n.memoizedState||(o.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&D===n.memoizedState||(o.flags|=1024),o.memoizedProps=l,o.memoizedState=O),g.props=l,g.state=O,g.context=A,l=G):(typeof g.componentDidUpdate!="function"||T===n.memoizedProps&&D===n.memoizedState||(o.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&D===n.memoizedState||(o.flags|=1024),l=!1)}return g=l,ya(n,o),l=(o.flags&128)!==0,g||l?(g=o.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:g.render(),o.flags|=1,n!==null&&l?(o.child=ji(o,n.child,null,h),o.child=ji(o,null,r,h)):ct(n,o,r,h),o.memoizedState=g.state,n=o.child):n=Un(n,o,h),n}function Op(n,o,r,l){return $i(),o.flags|=256,ct(n,o,r,l),o.child}var ju={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ec(n){return{baseLanes:n,cachePool:bh()}}function tc(n,o,r){return n=n!==null?n.childLanes&~r:0,o&&(n|=Ut),n}function Hp(n,o,r){var l=o.pendingProps,h=!1,g=(o.flags&128)!==0,T;if((T=g)||(T=n!==null&&n.memoizedState===null?!1:(Qe.current&2)!==0),T&&(h=!0,o.flags&=-129),T=(o.flags&32)!==0,o.flags&=-33,n===null){if(we){if(h?fi(o):hi(),(n=qe)?(n=Jm(n,Yt),n=n!==null&&n.data!=="&"?n:null,n!==null&&(o.memoizedState={dehydrated:n,treeContext:si!==null?{id:dn,overflow:fn}:null,retryLane:536870912,hydrationErrors:null},r=yh(n),r.return=o,o.child=r,lt=o,qe=null)):n=null,n===null)throw ai(o);return Oc(n)?o.lanes=32:o.lanes=536870912,null}var C=l.children;return l=l.fallback,h?(hi(),h=o.mode,C=va({mode:"hidden",children:C},h),l=Ji(l,h,r,null),C.return=o,l.return=o,C.sibling=l,o.child=C,l=o.child,l.memoizedState=ec(r),l.childLanes=tc(n,T,r),o.memoizedState=ju,$s(null,l)):(fi(o),nc(o,C))}var A=n.memoizedState;if(A!==null&&(C=A.dehydrated,C!==null)){if(g)o.flags&256?(fi(o),o.flags&=-257,o=ic(n,o,r)):o.memoizedState!==null?(hi(),o.child=n.child,o.flags|=128,o=null):(hi(),C=l.fallback,h=o.mode,l=va({mode:"visible",children:l.children},h),C=Ji(C,h,r,null),C.flags|=2,l.return=o,C.return=o,l.sibling=C,o.child=l,ji(o,n.child,null,r),l=o.child,l.memoizedState=ec(r),l.childLanes=tc(n,T,r),o.memoizedState=ju,o=$s(null,l));else if(fi(o),Oc(C)){if(T=C.nextSibling&&C.nextSibling.dataset,T)var M=T.dgst;T=M,l=Error(s(419)),l.stack="",l.digest=T,Ls({value:l,source:null,stack:null}),o=ic(n,o,r)}else if(tt||Lo(n,o,r,!1),T=(r&n.childLanes)!==0,tt||T){if(T=ze,T!==null&&(l=xf(T,r),l!==0&&l!==A.retryLane))throw A.retryLane=l,Yi(n,l),At(T,n,l),Wu;Pc(C)||wa(),o=ic(n,o,r)}else Pc(C)?(o.flags|=192,o.child=n.child,o=null):(n=A.treeContext,qe=$t(C.nextSibling),lt=o,we=!0,ri=null,Yt=!1,n!==null&&Th(o,n),o=nc(o,l.children),o.flags|=4096);return o}return h?(hi(),C=l.fallback,h=o.mode,A=n.child,M=A.sibling,l=wn(A,{mode:"hidden",children:l.children}),l.subtreeFlags=A.subtreeFlags&65011712,M!==null?C=wn(M,C):(C=Ji(C,h,r,null),C.flags|=2),C.return=o,l.return=o,l.sibling=C,o.child=l,$s(null,l),l=o.child,C=n.child.memoizedState,C===null?C=ec(r):(h=C.cachePool,h!==null?(A=je._currentValue,h=h.parent!==A?{parent:A,pool:A}:h):h=bh(),C={baseLanes:C.baseLanes|r,cachePool:h}),l.memoizedState=C,l.childLanes=tc(n,T,r),o.memoizedState=ju,$s(n.child,l)):(fi(o),r=n.child,n=r.sibling,r=wn(r,{mode:"visible",children:l.children}),r.return=o,r.sibling=null,n!==null&&(T=o.deletions,T===null?(o.deletions=[n],o.flags|=16):T.push(n)),o.child=r,o.memoizedState=null,r)}function nc(n,o){return o=va({mode:"visible",children:o},n.mode),o.return=n,n.child=o}function va(n,o){return n=It(22,n,null,o),n.lanes=0,n}function ic(n,o,r){return ji(o,n.child,null,r),n=nc(o,o.pendingProps.children),n.flags|=2,o.memoizedState=null,n}function Gp(n,o,r){n.lanes|=o;var l=n.alternate;l!==null&&(l.lanes|=o),vu(n.return,o,r)}function oc(n,o,r,l,h,g){var T=n.memoizedState;T===null?n.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:h,treeForkCount:g}:(T.isBackwards=o,T.rendering=null,T.renderingStartTime=0,T.last=l,T.tail=r,T.tailMode=h,T.treeForkCount=g)}function zp(n,o,r){var l=o.pendingProps,h=l.revealOrder,g=l.tail;l=l.children;var T=Qe.current,C=(T&2)!==0;if(C?(T=T&1|2,o.flags|=128):T&=1,X(Qe,T),ct(n,o,l,r),l=we?ks:0,!C&&n!==null&&(n.flags&128)!==0)e:for(n=o.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Gp(n,r,o);else if(n.tag===19)Gp(n,r,o);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===o)break e;for(;n.sibling===null;){if(n.return===null||n.return===o)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(h){case"forwards":for(r=o.child,h=null;r!==null;)n=r.alternate,n!==null&&ra(n)===null&&(h=r),r=r.sibling;r=h,r===null?(h=o.child,o.child=null):(h=r.sibling,r.sibling=null),oc(o,!1,h,r,g,l);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=o.child,o.child=null;h!==null;){if(n=h.alternate,n!==null&&ra(n)===null){o.child=h;break}n=h.sibling,h.sibling=r,r=h,h=n}oc(o,!0,r,null,g,l);break;case"together":oc(o,!1,null,null,void 0,l);break;default:o.memoizedState=null}return o.child}function Un(n,o,r){if(n!==null&&(o.dependencies=n.dependencies),gi|=o.lanes,(r&o.childLanes)===0)if(n!==null){if(Lo(n,o,r,!1),(r&o.childLanes)===0)return null}else return null;if(n!==null&&o.child!==n.child)throw Error(s(153));if(o.child!==null){for(n=o.child,r=wn(n,n.pendingProps),o.child=r,r.return=o;n.sibling!==null;)n=n.sibling,r=r.sibling=wn(n,n.pendingProps),r.return=o;r.sibling=null}return o.child}function sc(n,o){return(n.lanes&o)!==0?!0:(n=n.dependencies,!!(n!==null&&Zr(n)))}function HS(n,o,r){switch(o.tag){case 3:Ze(o,o.stateNode.containerInfo),li(o,je,n.memoizedState.cache),$i();break;case 27:case 5:En(o);break;case 4:Ze(o,o.stateNode.containerInfo);break;case 10:li(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,Ru(o),null;break;case 13:var l=o.memoizedState;if(l!==null)return l.dehydrated!==null?(fi(o),o.flags|=128,null):(r&o.child.childLanes)!==0?Hp(n,o,r):(fi(o),n=Un(n,o,r),n!==null?n.sibling:null);fi(o);break;case 19:var h=(n.flags&128)!==0;if(l=(r&o.childLanes)!==0,l||(Lo(n,o,r,!1),l=(r&o.childLanes)!==0),h){if(l)return zp(n,o,r);o.flags|=128}if(h=o.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),X(Qe,Qe.current),l)break;return null;case 22:return o.lanes=0,Dp(n,o,r,o.pendingProps);case 24:li(o,je,n.memoizedState.cache)}return Un(n,o,r)}function Vp(n,o,r){if(n!==null)if(n.memoizedProps!==o.pendingProps)tt=!0;else{if(!sc(n,r)&&(o.flags&128)===0)return tt=!1,HS(n,o,r);tt=(n.flags&131072)!==0}else tt=!1,we&&(o.flags&1048576)!==0&&_h(o,ks,o.index);switch(o.lanes=0,o.tag){case 16:e:{var l=o.pendingProps;if(n=Wi(o.elementType),o.type=n,typeof n=="function")cu(n)?(l=to(n,l),o.tag=1,o=Pp(null,o,n,l,r)):(o.tag=0,o=Zu(null,o,n,l,r));else{if(n!=null){var h=n.$$typeof;if(h===$){o.tag=11,o=Ip(null,o,n,l,r);break e}else if(h===K){o.tag=14,o=Rp(null,o,n,l,r);break e}}throw o=Ye(n)||n,Error(s(306,o,""))}}return o;case 0:return Zu(n,o,o.type,o.pendingProps,r);case 1:return l=o.type,h=to(l,o.pendingProps),Pp(n,o,l,h,r);case 3:e:{if(Ze(o,o.stateNode.containerInfo),n===null)throw Error(s(387));l=o.pendingProps;var g=o.memoizedState;h=g.element,Au(n,o),Bs(o,l,null,r);var T=o.memoizedState;if(l=T.cache,li(o,je,l),l!==g.cache&&_u(o,[je],r,!0),Vs(),l=T.element,g.isDehydrated)if(g={element:l,isDehydrated:!1,cache:T.cache},o.updateQueue.baseState=g,o.memoizedState=g,o.flags&256){o=Op(n,o,l,r);break e}else if(l!==h){h=Bt(Error(s(424)),o),Ls(h),o=Op(n,o,l,r);break e}else{switch(n=o.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(qe=$t(n.firstChild),lt=o,we=!0,ri=null,Yt=!0,r=Dh(o,null,l,r),o.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if($i(),l===h){o=Un(n,o,r);break e}ct(n,o,l,r)}o=o.child}return o;case 26:return ya(n,o),n===null?(r=Zm(o.type,null,o.pendingProps,null))?o.memoizedState=r:we||(r=o.type,n=o.pendingProps,l=ka(ve.current).createElement(r),l[at]=o,l[_t]=n,dt(l,r,n),ot(l),o.stateNode=l):o.memoizedState=Zm(o.type,n.memoizedProps,o.pendingProps,n.memoizedState),null;case 27:return En(o),n===null&&we&&(l=o.stateNode=Xm(o.type,o.pendingProps,ve.current),lt=o,Yt=!0,h=qe,Si(o.type)?(Hc=h,qe=$t(l.firstChild)):qe=h),ct(n,o,o.pendingProps.children,r),ya(n,o),n===null&&(o.flags|=4194304),o.child;case 5:return n===null&&we&&((h=l=qe)&&(l=pE(l,o.type,o.pendingProps,Yt),l!==null?(o.stateNode=l,lt=o,qe=$t(l.firstChild),Yt=!1,h=!0):h=!1),h||ai(o)),En(o),h=o.type,g=o.pendingProps,T=n!==null?n.memoizedProps:null,l=g.children,Uc(h,g)?l=null:T!==null&&Uc(h,T)&&(o.flags|=32),o.memoizedState!==null&&(h=Du(n,o,IS,null,null,r),lr._currentValue=h),ya(n,o),ct(n,o,l,r),o.child;case 6:return n===null&&we&&((n=r=qe)&&(r=mE(r,o.pendingProps,Yt),r!==null?(o.stateNode=r,lt=o,qe=null,n=!0):n=!1),n||ai(o)),null;case 13:return Hp(n,o,r);case 4:return Ze(o,o.stateNode.containerInfo),l=o.pendingProps,n===null?o.child=ji(o,null,l,r):ct(n,o,l,r),o.child;case 11:return Ip(n,o,o.type,o.pendingProps,r);case 7:return ct(n,o,o.pendingProps,r),o.child;case 8:return ct(n,o,o.pendingProps.children,r),o.child;case 12:return ct(n,o,o.pendingProps.children,r),o.child;case 10:return l=o.pendingProps,li(o,o.type,l.value),ct(n,o,l.children,r),o.child;case 9:return h=o.type._context,l=o.pendingProps.children,Xi(o),h=ut(h),l=l(h),o.flags|=1,ct(n,o,l,r),o.child;case 14:return Rp(n,o,o.type,o.pendingProps,r);case 15:return Mp(n,o,o.type,o.pendingProps,r);case 19:return zp(n,o,r);case 31:return OS(n,o,r);case 22:return Dp(n,o,r,o.pendingProps);case 24:return Xi(o),l=ut(je),n===null?(h=Eu(),h===null&&(h=ze,g=Tu(),h.pooledCache=g,g.refCount++,g!==null&&(h.pooledCacheLanes|=r),h=g),o.memoizedState={parent:l,cache:h},xu(o),li(o,je,h)):((n.lanes&r)!==0&&(Au(n,o),Bs(o,null,null,r),Vs()),h=n.memoizedState,g=o.memoizedState,h.parent!==l?(h={parent:l,cache:l},o.memoizedState=h,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=h),li(o,je,l)):(l=g.cache,li(o,je,l),l!==h.cache&&_u(o,[je],r,!0))),ct(n,o,o.pendingProps.children,r),o.child;case 29:throw o.pendingProps}throw Error(s(156,o.tag))}function kn(n){n.flags|=4}function rc(n,o,r,l,h){if((o=(n.mode&32)!==0)&&(o=!1),o){if(n.flags|=16777216,(h&335544128)===h)if(n.stateNode.complete)n.flags|=8192;else if(pm())n.flags|=8192;else throw Zi=na,Cu}else n.flags&=-16777217}function Bp(n,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!ig(o))if(pm())n.flags|=8192;else throw Zi=na,Cu}function _a(n,o){o!==null&&(n.flags|=4),n.flags&16384&&(o=n.tag!==22?Sf():536870912,n.lanes|=o,$o|=o)}function Ks(n,o){if(!we)switch(n.tailMode){case"hidden":o=n.tail;for(var r=null;o!==null;)o.alternate!==null&&(r=o),o=o.sibling;r===null?n.tail=null:r.sibling=null;break;case"collapsed":r=n.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?o||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function Fe(n){var o=n.alternate!==null&&n.alternate.child===n.child,r=0,l=0;if(o)for(var h=n.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=n,h=h.sibling;else for(h=n.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=n,h=h.sibling;return n.subtreeFlags|=l,n.childLanes=r,o}function GS(n,o,r){var l=o.pendingProps;switch(pu(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fe(o),null;case 1:return Fe(o),null;case 3:return r=o.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),o.memoizedState.cache!==l&&(o.flags|=2048),Rn(je),Be(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(ko(o)?kn(o):n===null||n.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,gu())),Fe(o),null;case 26:var h=o.type,g=o.memoizedState;return n===null?(kn(o),g!==null?(Fe(o),Bp(o,g)):(Fe(o),rc(o,h,null,l,r))):g?g!==n.memoizedState?(kn(o),Fe(o),Bp(o,g)):(Fe(o),o.flags&=-16777217):(n=n.memoizedProps,n!==l&&kn(o),Fe(o),rc(o,h,n,l,r)),null;case 27:if(ei(o),r=ve.current,h=o.type,n!==null&&o.stateNode!=null)n.memoizedProps!==l&&kn(o);else{if(!l){if(o.stateNode===null)throw Error(s(166));return Fe(o),null}n=j.current,ko(o)?Sh(o):(n=Xm(h,l,r),o.stateNode=n,kn(o))}return Fe(o),null;case 5:if(ei(o),h=o.type,n!==null&&o.stateNode!=null)n.memoizedProps!==l&&kn(o);else{if(!l){if(o.stateNode===null)throw Error(s(166));return Fe(o),null}if(g=j.current,ko(o))Sh(o);else{var T=ka(ve.current);switch(g){case 1:g=T.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:g=T.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":g=T.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":g=T.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":g=T.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof l.is=="string"?T.createElement("select",{is:l.is}):T.createElement("select"),l.multiple?g.multiple=!0:l.size&&(g.size=l.size);break;default:g=typeof l.is=="string"?T.createElement(h,{is:l.is}):T.createElement(h)}}g[at]=o,g[_t]=l;e:for(T=o.child;T!==null;){if(T.tag===5||T.tag===6)g.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===o)break e;for(;T.sibling===null;){if(T.return===null||T.return===o)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}o.stateNode=g;e:switch(dt(g,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&kn(o)}}return Fe(o),rc(o,o.type,n===null?null:n.memoizedProps,o.pendingProps,r),null;case 6:if(n&&o.stateNode!=null)n.memoizedProps!==l&&kn(o);else{if(typeof l!="string"&&o.stateNode===null)throw Error(s(166));if(n=ve.current,ko(o)){if(n=o.stateNode,r=o.memoizedProps,l=null,h=lt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}n[at]=o,n=!!(n.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||Hm(n.nodeValue,r)),n||ai(o,!0)}else n=ka(n).createTextNode(l),n[at]=o,o.stateNode=n}return Fe(o),null;case 31:if(r=o.memoizedState,n===null||n.memoizedState!==null){if(l=ko(o),r!==null){if(n===null){if(!l)throw Error(s(318));if(n=o.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(557));n[at]=o}else $i(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Fe(o),n=!1}else r=gu(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=r),n=!0;if(!n)return o.flags&256?(Mt(o),o):(Mt(o),null);if((o.flags&128)!==0)throw Error(s(558))}return Fe(o),null;case 13:if(l=o.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(h=ko(o),l!==null&&l.dehydrated!==null){if(n===null){if(!h)throw Error(s(318));if(h=o.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[at]=o}else $i(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Fe(o),h=!1}else h=gu(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=h),h=!0;if(!h)return o.flags&256?(Mt(o),o):(Mt(o),null)}return Mt(o),(o.flags&128)!==0?(o.lanes=r,o):(r=l!==null,n=n!==null&&n.memoizedState!==null,r&&(l=o.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),g=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(g=l.memoizedState.cachePool.pool),g!==h&&(l.flags|=2048)),r!==n&&r&&(o.child.flags|=8192),_a(o,o.updateQueue),Fe(o),null);case 4:return Be(),n===null&&Nc(o.stateNode.containerInfo),Fe(o),null;case 10:return Rn(o.type),Fe(o),null;case 19:if(V(Qe),l=o.memoizedState,l===null)return Fe(o),null;if(h=(o.flags&128)!==0,g=l.rendering,g===null)if(h)Ks(l,!1);else{if(Xe!==0||n!==null&&(n.flags&128)!==0)for(n=o.child;n!==null;){if(g=ra(n),g!==null){for(o.flags|=128,Ks(l,!1),n=g.updateQueue,o.updateQueue=n,_a(o,n),o.subtreeFlags=0,n=r,r=o.child;r!==null;)gh(r,n),r=r.sibling;return X(Qe,Qe.current&1|2),we&&Nn(o,l.treeForkCount),o.child}n=n.sibling}l.tail!==null&&ee()>xa&&(o.flags|=128,h=!0,Ks(l,!1),o.lanes=4194304)}else{if(!h)if(n=ra(g),n!==null){if(o.flags|=128,h=!0,n=n.updateQueue,o.updateQueue=n,_a(o,n),Ks(l,!0),l.tail===null&&l.tailMode==="hidden"&&!g.alternate&&!we)return Fe(o),null}else 2*ee()-l.renderingStartTime>xa&&r!==536870912&&(o.flags|=128,h=!0,Ks(l,!1),o.lanes=4194304);l.isBackwards?(g.sibling=o.child,o.child=g):(n=l.last,n!==null?n.sibling=g:o.child=g,l.last=g)}return l.tail!==null?(n=l.tail,l.rendering=n,l.tail=n.sibling,l.renderingStartTime=ee(),n.sibling=null,r=Qe.current,X(Qe,h?r&1|2:r&1),we&&Nn(o,l.treeForkCount),n):(Fe(o),null);case 22:case 23:return Mt(o),Iu(),l=o.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(o.flags|=8192):l&&(o.flags|=8192),l?(r&536870912)!==0&&(o.flags&128)===0&&(Fe(o),o.subtreeFlags&6&&(o.flags|=8192)):Fe(o),r=o.updateQueue,r!==null&&_a(o,r.retryQueue),r=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(r=n.memoizedState.cachePool.pool),l=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(l=o.memoizedState.cachePool.pool),l!==r&&(o.flags|=2048),n!==null&&V(Qi),null;case 24:return r=null,n!==null&&(r=n.memoizedState.cache),o.memoizedState.cache!==r&&(o.flags|=2048),Rn(je),Fe(o),null;case 25:return null;case 30:return null}throw Error(s(156,o.tag))}function zS(n,o){switch(pu(o),o.tag){case 1:return n=o.flags,n&65536?(o.flags=n&-65537|128,o):null;case 3:return Rn(je),Be(),n=o.flags,(n&65536)!==0&&(n&128)===0?(o.flags=n&-65537|128,o):null;case 26:case 27:case 5:return ei(o),null;case 31:if(o.memoizedState!==null){if(Mt(o),o.alternate===null)throw Error(s(340));$i()}return n=o.flags,n&65536?(o.flags=n&-65537|128,o):null;case 13:if(Mt(o),n=o.memoizedState,n!==null&&n.dehydrated!==null){if(o.alternate===null)throw Error(s(340));$i()}return n=o.flags,n&65536?(o.flags=n&-65537|128,o):null;case 19:return V(Qe),null;case 4:return Be(),null;case 10:return Rn(o.type),null;case 22:case 23:return Mt(o),Iu(),n!==null&&V(Qi),n=o.flags,n&65536?(o.flags=n&-65537|128,o):null;case 24:return Rn(je),null;case 25:return null;default:return null}}function qp(n,o){switch(pu(o),o.tag){case 3:Rn(je),Be();break;case 26:case 27:case 5:ei(o);break;case 4:Be();break;case 31:o.memoizedState!==null&&Mt(o);break;case 13:Mt(o);break;case 19:V(Qe);break;case 10:Rn(o.type);break;case 22:case 23:Mt(o),Iu(),n!==null&&V(Qi);break;case 24:Rn(je)}}function Xs(n,o){try{var r=o.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var h=l.next;r=h;do{if((r.tag&n)===n){l=void 0;var g=r.create,T=r.inst;l=g(),T.destroy=l}r=r.next}while(r!==h)}}catch(C){Pe(o,o.return,C)}}function pi(n,o,r){try{var l=o.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var g=h.next;l=g;do{if((l.tag&n)===n){var T=l.inst,C=T.destroy;if(C!==void 0){T.destroy=void 0,h=o;var A=r,M=C;try{M()}catch(G){Pe(h,A,G)}}}l=l.next}while(l!==g)}}catch(G){Pe(o,o.return,G)}}function Fp(n){var o=n.updateQueue;if(o!==null){var r=n.stateNode;try{kh(o,r)}catch(l){Pe(n,n.return,l)}}}function Yp(n,o,r){r.props=to(n.type,n.memoizedProps),r.state=n.memoizedState;try{r.componentWillUnmount()}catch(l){Pe(n,o,l)}}function Qs(n,o){try{var r=n.ref;if(r!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof r=="function"?n.refCleanup=r(l):r.current=l}}catch(h){Pe(n,o,h)}}function hn(n,o){var r=n.ref,l=n.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(h){Pe(n,o,h)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){Pe(n,o,h)}else r.current=null}function Jp(n){var o=n.type,r=n.memoizedProps,l=n.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(h){Pe(n,n.return,h)}}function ac(n,o,r){try{var l=n.stateNode;lE(l,n.type,r,o),l[_t]=o}catch(h){Pe(n,n.return,h)}}function $p(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Si(n.type)||n.tag===4}function lc(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||$p(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Si(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function uc(n,o,r){var l=n.tag;if(l===5||l===6)n=n.stateNode,o?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(n,o):(o=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.appendChild(n),r=r._reactRootContainer,r!=null||o.onclick!==null||(o.onclick=An));else if(l!==4&&(l===27&&Si(n.type)&&(r=n.stateNode,o=null),n=n.child,n!==null))for(uc(n,o,r),n=n.sibling;n!==null;)uc(n,o,r),n=n.sibling}function Ta(n,o,r){var l=n.tag;if(l===5||l===6)n=n.stateNode,o?r.insertBefore(n,o):r.appendChild(n);else if(l!==4&&(l===27&&Si(n.type)&&(r=n.stateNode),n=n.child,n!==null))for(Ta(n,o,r),n=n.sibling;n!==null;)Ta(n,o,r),n=n.sibling}function Kp(n){var o=n.stateNode,r=n.memoizedProps;try{for(var l=n.type,h=o.attributes;h.length;)o.removeAttributeNode(h[0]);dt(o,l,r),o[at]=n,o[_t]=r}catch(g){Pe(n,n.return,g)}}var Ln=!1,nt=!1,cc=!1,Xp=typeof WeakSet=="function"?WeakSet:Set,st=null;function VS(n,o){if(n=n.containerInfo,Mc=Va,n=ah(n),iu(n)){if("selectionStart"in n)var r={start:n.selectionStart,end:n.selectionEnd};else e:{r=(r=n.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var h=l.anchorOffset,g=l.focusNode;l=l.focusOffset;try{r.nodeType,g.nodeType}catch{r=null;break e}var T=0,C=-1,A=-1,M=0,G=0,B=n,D=null;t:for(;;){for(var O;B!==r||h!==0&&B.nodeType!==3||(C=T+h),B!==g||l!==0&&B.nodeType!==3||(A=T+l),B.nodeType===3&&(T+=B.nodeValue.length),(O=B.firstChild)!==null;)D=B,B=O;for(;;){if(B===n)break t;if(D===r&&++M===h&&(C=T),D===g&&++G===l&&(A=T),(O=B.nextSibling)!==null)break;B=D,D=B.parentNode}B=O}r=C===-1||A===-1?null:{start:C,end:A}}else r=null}r=r||{start:0,end:0}}else r=null;for(Dc={focusedElem:n,selectionRange:r},Va=!1,st=o;st!==null;)if(o=st,n=o.child,(o.subtreeFlags&1028)!==0&&n!==null)n.return=o,st=n;else for(;st!==null;){switch(o=st,g=o.alternate,n=o.flags,o.tag){case 0:if((n&4)!==0&&(n=o.updateQueue,n=n!==null?n.events:null,n!==null))for(r=0;r<n.length;r++)h=n[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&g!==null){n=void 0,r=o,h=g.memoizedProps,g=g.memoizedState,l=r.stateNode;try{var ne=to(r.type,h);n=l.getSnapshotBeforeUpdate(ne,g),l.__reactInternalSnapshotBeforeUpdate=n}catch(ae){Pe(r,r.return,ae)}}break;case 3:if((n&1024)!==0){if(n=o.stateNode.containerInfo,r=n.nodeType,r===9)Lc(n);else if(r===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Lc(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=o.sibling,n!==null){n.return=o.return,st=n;break}st=o.return}}function Qp(n,o,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:On(n,r),l&4&&Xs(5,r);break;case 1:if(On(n,r),l&4)if(n=r.stateNode,o===null)try{n.componentDidMount()}catch(T){Pe(r,r.return,T)}else{var h=to(r.type,o.memoizedProps);o=o.memoizedState;try{n.componentDidUpdate(h,o,n.__reactInternalSnapshotBeforeUpdate)}catch(T){Pe(r,r.return,T)}}l&64&&Fp(r),l&512&&Qs(r,r.return);break;case 3:if(On(n,r),l&64&&(n=r.updateQueue,n!==null)){if(o=null,r.child!==null)switch(r.child.tag){case 27:case 5:o=r.child.stateNode;break;case 1:o=r.child.stateNode}try{kh(n,o)}catch(T){Pe(r,r.return,T)}}break;case 27:o===null&&l&4&&Kp(r);case 26:case 5:On(n,r),o===null&&l&4&&Jp(r),l&512&&Qs(r,r.return);break;case 12:On(n,r);break;case 31:On(n,r),l&4&&jp(n,r);break;case 13:On(n,r),l&4&&em(n,r),l&64&&(n=r.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(r=QS.bind(null,r),gE(n,r))));break;case 22:if(l=r.memoizedState!==null||Ln,!l){o=o!==null&&o.memoizedState!==null||nt,h=Ln;var g=nt;Ln=l,(nt=o)&&!g?Hn(n,r,(r.subtreeFlags&8772)!==0):On(n,r),Ln=h,nt=g}break;case 30:break;default:On(n,r)}}function Wp(n){var o=n.alternate;o!==null&&(n.alternate=null,Wp(o)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(o=n.stateNode,o!==null&&zl(o)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Je=null,St=!1;function Pn(n,o,r){for(r=r.child;r!==null;)Zp(n,o,r),r=r.sibling}function Zp(n,o,r){if(bt&&typeof bt.onCommitFiberUnmount=="function")try{bt.onCommitFiberUnmount(Ts,r)}catch{}switch(r.tag){case 26:nt||hn(r,o),Pn(n,o,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:nt||hn(r,o);var l=Je,h=St;Si(r.type)&&(Je=r.stateNode,St=!1),Pn(n,o,r),sr(r.stateNode),Je=l,St=h;break;case 5:nt||hn(r,o);case 6:if(l=Je,h=St,Je=null,Pn(n,o,r),Je=l,St=h,Je!==null)if(St)try{(Je.nodeType===9?Je.body:Je.nodeName==="HTML"?Je.ownerDocument.body:Je).removeChild(r.stateNode)}catch(g){Pe(r,o,g)}else try{Je.removeChild(r.stateNode)}catch(g){Pe(r,o,g)}break;case 18:Je!==null&&(St?(n=Je,Fm(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,r.stateNode),ts(n)):Fm(Je,r.stateNode));break;case 4:l=Je,h=St,Je=r.stateNode.containerInfo,St=!0,Pn(n,o,r),Je=l,St=h;break;case 0:case 11:case 14:case 15:pi(2,r,o),nt||pi(4,r,o),Pn(n,o,r);break;case 1:nt||(hn(r,o),l=r.stateNode,typeof l.componentWillUnmount=="function"&&Yp(r,o,l)),Pn(n,o,r);break;case 21:Pn(n,o,r);break;case 22:nt=(l=nt)||r.memoizedState!==null,Pn(n,o,r),nt=l;break;default:Pn(n,o,r)}}function jp(n,o){if(o.memoizedState===null&&(n=o.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{ts(n)}catch(r){Pe(o,o.return,r)}}}function em(n,o){if(o.memoizedState===null&&(n=o.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{ts(n)}catch(r){Pe(o,o.return,r)}}function BS(n){switch(n.tag){case 31:case 13:case 19:var o=n.stateNode;return o===null&&(o=n.stateNode=new Xp),o;case 22:return n=n.stateNode,o=n._retryCache,o===null&&(o=n._retryCache=new Xp),o;default:throw Error(s(435,n.tag))}}function Sa(n,o){var r=BS(n);o.forEach(function(l){if(!r.has(l)){r.add(l);var h=WS.bind(null,n,l);l.then(h,h)}})}function Et(n,o){var r=o.deletions;if(r!==null)for(var l=0;l<r.length;l++){var h=r[l],g=n,T=o,C=T;e:for(;C!==null;){switch(C.tag){case 27:if(Si(C.type)){Je=C.stateNode,St=!1;break e}break;case 5:Je=C.stateNode,St=!1;break e;case 3:case 4:Je=C.stateNode.containerInfo,St=!0;break e}C=C.return}if(Je===null)throw Error(s(160));Zp(g,T,h),Je=null,St=!1,g=h.alternate,g!==null&&(g.return=null),h.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)tm(o,n),o=o.sibling}var en=null;function tm(n,o){var r=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Et(o,n),Ct(n),l&4&&(pi(3,n,n.return),Xs(3,n),pi(5,n,n.return));break;case 1:Et(o,n),Ct(n),l&512&&(nt||r===null||hn(r,r.return)),l&64&&Ln&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(r=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var h=en;if(Et(o,n),Ct(n),l&512&&(nt||r===null||hn(r,r.return)),l&4){var g=r!==null?r.memoizedState:null;if(l=n.memoizedState,r===null)if(l===null)if(n.stateNode===null){e:{l=n.type,r=n.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":g=h.getElementsByTagName("title")[0],(!g||g[Cs]||g[at]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=h.createElement(l),h.head.insertBefore(g,h.querySelector("head > title"))),dt(g,l,r),g[at]=n,ot(g),l=g;break e;case"link":var T=tg("link","href",h).get(l+(r.href||""));if(T){for(var C=0;C<T.length;C++)if(g=T[C],g.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&g.getAttribute("rel")===(r.rel==null?null:r.rel)&&g.getAttribute("title")===(r.title==null?null:r.title)&&g.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){T.splice(C,1);break t}}g=h.createElement(l),dt(g,l,r),h.head.appendChild(g);break;case"meta":if(T=tg("meta","content",h).get(l+(r.content||""))){for(C=0;C<T.length;C++)if(g=T[C],g.getAttribute("content")===(r.content==null?null:""+r.content)&&g.getAttribute("name")===(r.name==null?null:r.name)&&g.getAttribute("property")===(r.property==null?null:r.property)&&g.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&g.getAttribute("charset")===(r.charSet==null?null:r.charSet)){T.splice(C,1);break t}}g=h.createElement(l),dt(g,l,r),h.head.appendChild(g);break;default:throw Error(s(468,l))}g[at]=n,ot(g),l=g}n.stateNode=l}else ng(h,n.type,n.stateNode);else n.stateNode=eg(h,l,n.memoizedProps);else g!==l?(g===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):g.count--,l===null?ng(h,n.type,n.stateNode):eg(h,l,n.memoizedProps)):l===null&&n.stateNode!==null&&ac(n,n.memoizedProps,r.memoizedProps)}break;case 27:Et(o,n),Ct(n),l&512&&(nt||r===null||hn(r,r.return)),r!==null&&l&4&&ac(n,n.memoizedProps,r.memoizedProps);break;case 5:if(Et(o,n),Ct(n),l&512&&(nt||r===null||hn(r,r.return)),n.flags&32){h=n.stateNode;try{xo(h,"")}catch(ne){Pe(n,n.return,ne)}}l&4&&n.stateNode!=null&&(h=n.memoizedProps,ac(n,h,r!==null?r.memoizedProps:h)),l&1024&&(cc=!0);break;case 6:if(Et(o,n),Ct(n),l&4){if(n.stateNode===null)throw Error(s(162));l=n.memoizedProps,r=n.stateNode;try{r.nodeValue=l}catch(ne){Pe(n,n.return,ne)}}break;case 3:if(Oa=null,h=en,en=La(o.containerInfo),Et(o,n),en=h,Ct(n),l&4&&r!==null&&r.memoizedState.isDehydrated)try{ts(o.containerInfo)}catch(ne){Pe(n,n.return,ne)}cc&&(cc=!1,nm(n));break;case 4:l=en,en=La(n.stateNode.containerInfo),Et(o,n),Ct(n),en=l;break;case 12:Et(o,n),Ct(n);break;case 31:Et(o,n),Ct(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Sa(n,l)));break;case 13:Et(o,n),Ct(n),n.child.flags&8192&&n.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Ca=ee()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Sa(n,l)));break;case 22:h=n.memoizedState!==null;var A=r!==null&&r.memoizedState!==null,M=Ln,G=nt;if(Ln=M||h,nt=G||A,Et(o,n),nt=G,Ln=M,Ct(n),l&8192)e:for(o=n.stateNode,o._visibility=h?o._visibility&-2:o._visibility|1,h&&(r===null||A||Ln||nt||no(n)),r=null,o=n;;){if(o.tag===5||o.tag===26){if(r===null){A=r=o;try{if(g=A.stateNode,h)T=g.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{C=A.stateNode;var B=A.memoizedProps.style,D=B!=null&&B.hasOwnProperty("display")?B.display:null;C.style.display=D==null||typeof D=="boolean"?"":(""+D).trim()}}catch(ne){Pe(A,A.return,ne)}}}else if(o.tag===6){if(r===null){A=o;try{A.stateNode.nodeValue=h?"":A.memoizedProps}catch(ne){Pe(A,A.return,ne)}}}else if(o.tag===18){if(r===null){A=o;try{var O=A.stateNode;h?Ym(O,!0):Ym(A.stateNode,!1)}catch(ne){Pe(A,A.return,ne)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===n)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===n)break e;for(;o.sibling===null;){if(o.return===null||o.return===n)break e;r===o&&(r=null),o=o.return}r===o&&(r=null),o.sibling.return=o.return,o=o.sibling}l&4&&(l=n.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,Sa(n,r))));break;case 19:Et(o,n),Ct(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Sa(n,l)));break;case 30:break;case 21:break;default:Et(o,n),Ct(n)}}function Ct(n){var o=n.flags;if(o&2){try{for(var r,l=n.return;l!==null;){if($p(l)){r=l;break}l=l.return}if(r==null)throw Error(s(160));switch(r.tag){case 27:var h=r.stateNode,g=lc(n);Ta(n,g,h);break;case 5:var T=r.stateNode;r.flags&32&&(xo(T,""),r.flags&=-33);var C=lc(n);Ta(n,C,T);break;case 3:case 4:var A=r.stateNode.containerInfo,M=lc(n);uc(n,M,A);break;default:throw Error(s(161))}}catch(G){Pe(n,n.return,G)}n.flags&=-3}o&4096&&(n.flags&=-4097)}function nm(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var o=n;nm(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),n=n.sibling}}function On(n,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)Qp(n,o.alternate,o),o=o.sibling}function no(n){for(n=n.child;n!==null;){var o=n;switch(o.tag){case 0:case 11:case 14:case 15:pi(4,o,o.return),no(o);break;case 1:hn(o,o.return);var r=o.stateNode;typeof r.componentWillUnmount=="function"&&Yp(o,o.return,r),no(o);break;case 27:sr(o.stateNode);case 26:case 5:hn(o,o.return),no(o);break;case 22:o.memoizedState===null&&no(o);break;case 30:no(o);break;default:no(o)}n=n.sibling}}function Hn(n,o,r){for(r=r&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var l=o.alternate,h=n,g=o,T=g.flags;switch(g.tag){case 0:case 11:case 15:Hn(h,g,r),Xs(4,g);break;case 1:if(Hn(h,g,r),l=g,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(M){Pe(l,l.return,M)}if(l=g,h=l.updateQueue,h!==null){var C=l.stateNode;try{var A=h.shared.hiddenCallbacks;if(A!==null)for(h.shared.hiddenCallbacks=null,h=0;h<A.length;h++)Uh(A[h],C)}catch(M){Pe(l,l.return,M)}}r&&T&64&&Fp(g),Qs(g,g.return);break;case 27:Kp(g);case 26:case 5:Hn(h,g,r),r&&l===null&&T&4&&Jp(g),Qs(g,g.return);break;case 12:Hn(h,g,r);break;case 31:Hn(h,g,r),r&&T&4&&jp(h,g);break;case 13:Hn(h,g,r),r&&T&4&&em(h,g);break;case 22:g.memoizedState===null&&Hn(h,g,r),Qs(g,g.return);break;case 30:break;default:Hn(h,g,r)}o=o.sibling}}function dc(n,o){var r=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(r=n.memoizedState.cachePool.pool),n=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(n=o.memoizedState.cachePool.pool),n!==r&&(n!=null&&n.refCount++,r!=null&&Ps(r))}function fc(n,o){n=null,o.alternate!==null&&(n=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==n&&(o.refCount++,n!=null&&Ps(n))}function tn(n,o,r,l){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)im(n,o,r,l),o=o.sibling}function im(n,o,r,l){var h=o.flags;switch(o.tag){case 0:case 11:case 15:tn(n,o,r,l),h&2048&&Xs(9,o);break;case 1:tn(n,o,r,l);break;case 3:tn(n,o,r,l),h&2048&&(n=null,o.alternate!==null&&(n=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==n&&(o.refCount++,n!=null&&Ps(n)));break;case 12:if(h&2048){tn(n,o,r,l),n=o.stateNode;try{var g=o.memoizedProps,T=g.id,C=g.onPostCommit;typeof C=="function"&&C(T,o.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(A){Pe(o,o.return,A)}}else tn(n,o,r,l);break;case 31:tn(n,o,r,l);break;case 13:tn(n,o,r,l);break;case 23:break;case 22:g=o.stateNode,T=o.alternate,o.memoizedState!==null?g._visibility&2?tn(n,o,r,l):Ws(n,o):g._visibility&2?tn(n,o,r,l):(g._visibility|=2,Fo(n,o,r,l,(o.subtreeFlags&10256)!==0||!1)),h&2048&&dc(T,o);break;case 24:tn(n,o,r,l),h&2048&&fc(o.alternate,o);break;default:tn(n,o,r,l)}}function Fo(n,o,r,l,h){for(h=h&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var g=n,T=o,C=r,A=l,M=T.flags;switch(T.tag){case 0:case 11:case 15:Fo(g,T,C,A,h),Xs(8,T);break;case 23:break;case 22:var G=T.stateNode;T.memoizedState!==null?G._visibility&2?Fo(g,T,C,A,h):Ws(g,T):(G._visibility|=2,Fo(g,T,C,A,h)),h&&M&2048&&dc(T.alternate,T);break;case 24:Fo(g,T,C,A,h),h&&M&2048&&fc(T.alternate,T);break;default:Fo(g,T,C,A,h)}o=o.sibling}}function Ws(n,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var r=n,l=o,h=l.flags;switch(l.tag){case 22:Ws(r,l),h&2048&&dc(l.alternate,l);break;case 24:Ws(r,l),h&2048&&fc(l.alternate,l);break;default:Ws(r,l)}o=o.sibling}}var Zs=8192;function Yo(n,o,r){if(n.subtreeFlags&Zs)for(n=n.child;n!==null;)om(n,o,r),n=n.sibling}function om(n,o,r){switch(n.tag){case 26:Yo(n,o,r),n.flags&Zs&&n.memoizedState!==null&&NE(r,en,n.memoizedState,n.memoizedProps);break;case 5:Yo(n,o,r);break;case 3:case 4:var l=en;en=La(n.stateNode.containerInfo),Yo(n,o,r),en=l;break;case 22:n.memoizedState===null&&(l=n.alternate,l!==null&&l.memoizedState!==null?(l=Zs,Zs=16777216,Yo(n,o,r),Zs=l):Yo(n,o,r));break;default:Yo(n,o,r)}}function sm(n){var o=n.alternate;if(o!==null&&(n=o.child,n!==null)){o.child=null;do o=n.sibling,n.sibling=null,n=o;while(n!==null)}}function js(n){var o=n.deletions;if((n.flags&16)!==0){if(o!==null)for(var r=0;r<o.length;r++){var l=o[r];st=l,am(l,n)}sm(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)rm(n),n=n.sibling}function rm(n){switch(n.tag){case 0:case 11:case 15:js(n),n.flags&2048&&pi(9,n,n.return);break;case 3:js(n);break;case 12:js(n);break;case 22:var o=n.stateNode;n.memoizedState!==null&&o._visibility&2&&(n.return===null||n.return.tag!==13)?(o._visibility&=-3,Ea(n)):js(n);break;default:js(n)}}function Ea(n){var o=n.deletions;if((n.flags&16)!==0){if(o!==null)for(var r=0;r<o.length;r++){var l=o[r];st=l,am(l,n)}sm(n)}for(n=n.child;n!==null;){switch(o=n,o.tag){case 0:case 11:case 15:pi(8,o,o.return),Ea(o);break;case 22:r=o.stateNode,r._visibility&2&&(r._visibility&=-3,Ea(o));break;default:Ea(o)}n=n.sibling}}function am(n,o){for(;st!==null;){var r=st;switch(r.tag){case 0:case 11:case 15:pi(8,r,o);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ps(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,st=l;else e:for(r=n;st!==null;){l=st;var h=l.sibling,g=l.return;if(Wp(l),l===r){st=null;break e}if(h!==null){h.return=g,st=h;break e}st=g}}}var qS={getCacheForType:function(n){var o=ut(je),r=o.data.get(n);return r===void 0&&(r=n(),o.data.set(n,r)),r},cacheSignal:function(){return ut(je).controller.signal}},FS=typeof WeakMap=="function"?WeakMap:Map,Ue=0,ze=null,Ee=null,xe=0,Le=0,Dt=null,mi=!1,Jo=!1,hc=!1,Gn=0,Xe=0,gi=0,io=0,pc=0,Ut=0,$o=0,er=null,xt=null,mc=!1,Ca=0,lm=0,xa=1/0,Aa=null,yi=null,it=0,vi=null,Ko=null,zn=0,gc=0,yc=null,um=null,tr=0,vc=null;function kt(){return(Ue&2)!==0&&xe!==0?xe&-xe:H.T!==null?xc():Af()}function cm(){if(Ut===0)if((xe&536870912)===0||we){var n=Ur;Ur<<=1,(Ur&3932160)===0&&(Ur=262144),Ut=n}else Ut=536870912;return n=Rt.current,n!==null&&(n.flags|=32),Ut}function At(n,o,r){(n===ze&&(Le===2||Le===9)||n.cancelPendingCommit!==null)&&(Xo(n,0),_i(n,xe,Ut,!1)),Es(n,r),((Ue&2)===0||n!==ze)&&(n===ze&&((Ue&2)===0&&(io|=r),Xe===4&&_i(n,xe,Ut,!1)),pn(n))}function dm(n,o,r){if((Ue&6)!==0)throw Error(s(327));var l=!r&&(o&127)===0&&(o&n.expiredLanes)===0||Ss(n,o),h=l?$S(n,o):Tc(n,o,!0),g=l;do{if(h===0){Jo&&!l&&_i(n,o,0,!1);break}else{if(r=n.current.alternate,g&&!YS(r)){h=Tc(n,o,!1),g=!1;continue}if(h===2){if(g=o,n.errorRecoveryDisabledLanes&g)var T=0;else T=n.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){o=T;e:{var C=n;h=er;var A=C.current.memoizedState.isDehydrated;if(A&&(Xo(C,T).flags|=256),T=Tc(C,T,!1),T!==2){if(hc&&!A){C.errorRecoveryDisabledLanes|=g,io|=g,h=4;break e}g=xt,xt=h,g!==null&&(xt===null?xt=g:xt.push.apply(xt,g))}h=T}if(g=!1,h!==2)continue}}if(h===1){Xo(n,0),_i(n,o,0,!0);break}e:{switch(l=n,g=h,g){case 0:case 1:throw Error(s(345));case 4:if((o&4194048)!==o)break;case 6:_i(l,o,Ut,!mi);break e;case 2:xt=null;break;case 3:case 5:break;default:throw Error(s(329))}if((o&62914560)===o&&(h=Ca+300-ee(),10<h)){if(_i(l,o,Ut,!mi),Lr(l,0,!0)!==0)break e;zn=o,l.timeoutHandle=Bm(fm.bind(null,l,r,xt,Aa,mc,o,Ut,io,$o,mi,g,"Throttled",-0,0),h);break e}fm(l,r,xt,Aa,mc,o,Ut,io,$o,mi,g,null,-0,0)}}break}while(!0);pn(n)}function fm(n,o,r,l,h,g,T,C,A,M,G,B,D,O){if(n.timeoutHandle=-1,B=o.subtreeFlags,B&8192||(B&16785408)===16785408){B={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:An},om(o,g,B);var ne=(g&62914560)===g?Ca-ee():(g&4194048)===g?lm-ee():0;if(ne=IE(B,ne),ne!==null){zn=g,n.cancelPendingCommit=ne(Tm.bind(null,n,o,g,r,l,h,T,C,A,G,B,null,D,O)),_i(n,g,T,!M);return}}Tm(n,o,g,r,l,h,T,C,A)}function YS(n){for(var o=n;;){var r=o.tag;if((r===0||r===11||r===15)&&o.flags&16384&&(r=o.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var h=r[l],g=h.getSnapshot;h=h.value;try{if(!Nt(g(),h))return!1}catch{return!1}}if(r=o.child,o.subtreeFlags&16384&&r!==null)r.return=o,o=r;else{if(o===n)break;for(;o.sibling===null;){if(o.return===null||o.return===n)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function _i(n,o,r,l){o&=~pc,o&=~io,n.suspendedLanes|=o,n.pingedLanes&=~o,l&&(n.warmLanes|=o),l=n.expirationTimes;for(var h=o;0<h;){var g=31-wt(h),T=1<<g;l[g]=-1,h&=~T}r!==0&&Ef(n,r,o)}function ba(){return(Ue&6)===0?(nr(0),!1):!0}function _c(){if(Ee!==null){if(Le===0)var n=Ee.return;else n=Ee,In=Ki=null,Lu(n),Go=null,Hs=0,n=Ee;for(;n!==null;)qp(n.alternate,n),n=n.return;Ee=null}}function Xo(n,o){var r=n.timeoutHandle;r!==-1&&(n.timeoutHandle=-1,dE(r)),r=n.cancelPendingCommit,r!==null&&(n.cancelPendingCommit=null,r()),zn=0,_c(),ze=n,Ee=r=wn(n.current,null),xe=o,Le=0,Dt=null,mi=!1,Jo=Ss(n,o),hc=!1,$o=Ut=pc=io=gi=Xe=0,xt=er=null,mc=!1,(o&8)!==0&&(o|=o&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=o;0<l;){var h=31-wt(l),g=1<<h;o|=n[h],l&=~g}return Gn=o,$r(),r}function hm(n,o){me=null,H.H=Js,o===Ho||o===ta?(o=Ih(),Le=3):o===Cu?(o=Ih(),Le=4):Le=o===Wu?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Dt=o,Ee===null&&(Xe=1,ma(n,Bt(o,n.current)))}function pm(){var n=Rt.current;return n===null?!0:(xe&4194048)===xe?Jt===null:(xe&62914560)===xe||(xe&536870912)!==0?n===Jt:!1}function mm(){var n=H.H;return H.H=Js,n===null?Js:n}function gm(){var n=H.A;return H.A=qS,n}function wa(){Xe=4,mi||(xe&4194048)!==xe&&Rt.current!==null||(Jo=!0),(gi&134217727)===0&&(io&134217727)===0||ze===null||_i(ze,xe,Ut,!1)}function Tc(n,o,r){var l=Ue;Ue|=2;var h=mm(),g=gm();(ze!==n||xe!==o)&&(Aa=null,Xo(n,o)),o=!1;var T=Xe;e:do try{if(Le!==0&&Ee!==null){var C=Ee,A=Dt;switch(Le){case 8:_c(),T=6;break e;case 3:case 2:case 9:case 6:Rt.current===null&&(o=!0);var M=Le;if(Le=0,Dt=null,Qo(n,C,A,M),r&&Jo){T=0;break e}break;default:M=Le,Le=0,Dt=null,Qo(n,C,A,M)}}JS(),T=Xe;break}catch(G){hm(n,G)}while(!0);return o&&n.shellSuspendCounter++,In=Ki=null,Ue=l,H.H=h,H.A=g,Ee===null&&(ze=null,xe=0,$r()),T}function JS(){for(;Ee!==null;)ym(Ee)}function $S(n,o){var r=Ue;Ue|=2;var l=mm(),h=gm();ze!==n||xe!==o?(Aa=null,xa=ee()+500,Xo(n,o)):Jo=Ss(n,o);e:do try{if(Le!==0&&Ee!==null){o=Ee;var g=Dt;t:switch(Le){case 1:Le=0,Dt=null,Qo(n,o,g,1);break;case 2:case 9:if(wh(g)){Le=0,Dt=null,vm(o);break}o=function(){Le!==2&&Le!==9||ze!==n||(Le=7),pn(n)},g.then(o,o);break e;case 3:Le=7;break e;case 4:Le=5;break e;case 7:wh(g)?(Le=0,Dt=null,vm(o)):(Le=0,Dt=null,Qo(n,o,g,7));break;case 5:var T=null;switch(Ee.tag){case 26:T=Ee.memoizedState;case 5:case 27:var C=Ee;if(T?ig(T):C.stateNode.complete){Le=0,Dt=null;var A=C.sibling;if(A!==null)Ee=A;else{var M=C.return;M!==null?(Ee=M,Na(M)):Ee=null}break t}}Le=0,Dt=null,Qo(n,o,g,5);break;case 6:Le=0,Dt=null,Qo(n,o,g,6);break;case 8:_c(),Xe=6;break e;default:throw Error(s(462))}}KS();break}catch(G){hm(n,G)}while(!0);return In=Ki=null,H.H=l,H.A=h,Ue=r,Ee!==null?0:(ze=null,xe=0,$r(),Xe)}function KS(){for(;Ee!==null&&!L();)ym(Ee)}function ym(n){var o=Vp(n.alternate,n,Gn);n.memoizedProps=n.pendingProps,o===null?Na(n):Ee=o}function vm(n){var o=n,r=o.alternate;switch(o.tag){case 15:case 0:o=Lp(r,o,o.pendingProps,o.type,void 0,xe);break;case 11:o=Lp(r,o,o.pendingProps,o.type.render,o.ref,xe);break;case 5:Lu(o);default:qp(r,o),o=Ee=gh(o,Gn),o=Vp(r,o,Gn)}n.memoizedProps=n.pendingProps,o===null?Na(n):Ee=o}function Qo(n,o,r,l){In=Ki=null,Lu(o),Go=null,Hs=0;var h=o.return;try{if(PS(n,h,o,r,xe)){Xe=1,ma(n,Bt(r,n.current)),Ee=null;return}}catch(g){if(h!==null)throw Ee=h,g;Xe=1,ma(n,Bt(r,n.current)),Ee=null;return}o.flags&32768?(we||l===1?n=!0:Jo||(xe&536870912)!==0?n=!1:(mi=n=!0,(l===2||l===9||l===3||l===6)&&(l=Rt.current,l!==null&&l.tag===13&&(l.flags|=16384))),_m(o,n)):Na(o)}function Na(n){var o=n;do{if((o.flags&32768)!==0){_m(o,mi);return}n=o.return;var r=GS(o.alternate,o,Gn);if(r!==null){Ee=r;return}if(o=o.sibling,o!==null){Ee=o;return}Ee=o=n}while(o!==null);Xe===0&&(Xe=5)}function _m(n,o){do{var r=zS(n.alternate,n);if(r!==null){r.flags&=32767,Ee=r;return}if(r=n.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!o&&(n=n.sibling,n!==null)){Ee=n;return}Ee=n=r}while(n!==null);Xe=6,Ee=null}function Tm(n,o,r,l,h,g,T,C,A){n.cancelPendingCommit=null;do Ia();while(it!==0);if((Ue&6)!==0)throw Error(s(327));if(o!==null){if(o===n.current)throw Error(s(177));if(g=o.lanes|o.childLanes,g|=lu,wT(n,r,g,T,C,A),n===ze&&(Ee=ze=null,xe=0),Ko=o,vi=n,zn=r,gc=g,yc=h,um=l,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,ZS(Mr,function(){return Am(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,h=J.p,J.p=2,T=Ue,Ue|=4;try{VS(n,o,r)}finally{Ue=T,J.p=h,H.T=l}}it=1,Sm(),Em(),Cm()}}function Sm(){if(it===1){it=0;var n=vi,o=Ko,r=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||r){r=H.T,H.T=null;var l=J.p;J.p=2;var h=Ue;Ue|=4;try{tm(o,n);var g=Dc,T=ah(n.containerInfo),C=g.focusedElem,A=g.selectionRange;if(T!==C&&C&&C.ownerDocument&&rh(C.ownerDocument.documentElement,C)){if(A!==null&&iu(C)){var M=A.start,G=A.end;if(G===void 0&&(G=M),"selectionStart"in C)C.selectionStart=M,C.selectionEnd=Math.min(G,C.value.length);else{var B=C.ownerDocument||document,D=B&&B.defaultView||window;if(D.getSelection){var O=D.getSelection(),ne=C.textContent.length,ae=Math.min(A.start,ne),Ge=A.end===void 0?ae:Math.min(A.end,ne);!O.extend&&ae>Ge&&(T=Ge,Ge=ae,ae=T);var I=sh(C,ae),b=sh(C,Ge);if(I&&b&&(O.rangeCount!==1||O.anchorNode!==I.node||O.anchorOffset!==I.offset||O.focusNode!==b.node||O.focusOffset!==b.offset)){var R=B.createRange();R.setStart(I.node,I.offset),O.removeAllRanges(),ae>Ge?(O.addRange(R),O.extend(b.node,b.offset)):(R.setEnd(b.node,b.offset),O.addRange(R))}}}}for(B=[],O=C;O=O.parentNode;)O.nodeType===1&&B.push({element:O,left:O.scrollLeft,top:O.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<B.length;C++){var z=B[C];z.element.scrollLeft=z.left,z.element.scrollTop=z.top}}Va=!!Mc,Dc=Mc=null}finally{Ue=h,J.p=l,H.T=r}}n.current=o,it=2}}function Em(){if(it===2){it=0;var n=vi,o=Ko,r=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||r){r=H.T,H.T=null;var l=J.p;J.p=2;var h=Ue;Ue|=4;try{Qp(n,o.alternate,o)}finally{Ue=h,J.p=l,H.T=r}}it=3}}function Cm(){if(it===4||it===3){it=0,oe();var n=vi,o=Ko,r=zn,l=um;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?it=5:(it=0,Ko=vi=null,xm(n,n.pendingLanes));var h=n.pendingLanes;if(h===0&&(yi=null),Hl(r),o=o.stateNode,bt&&typeof bt.onCommitFiberRoot=="function")try{bt.onCommitFiberRoot(Ts,o,void 0,(o.current.flags&128)===128)}catch{}if(l!==null){o=H.T,h=J.p,J.p=2,H.T=null;try{for(var g=n.onRecoverableError,T=0;T<l.length;T++){var C=l[T];g(C.value,{componentStack:C.stack})}}finally{H.T=o,J.p=h}}(zn&3)!==0&&Ia(),pn(n),h=n.pendingLanes,(r&261930)!==0&&(h&42)!==0?n===vc?tr++:(tr=0,vc=n):tr=0,nr(0)}}function xm(n,o){(n.pooledCacheLanes&=o)===0&&(o=n.pooledCache,o!=null&&(n.pooledCache=null,Ps(o)))}function Ia(){return Sm(),Em(),Cm(),Am()}function Am(){if(it!==5)return!1;var n=vi,o=gc;gc=0;var r=Hl(zn),l=H.T,h=J.p;try{J.p=32>r?32:r,H.T=null,r=yc,yc=null;var g=vi,T=zn;if(it=0,Ko=vi=null,zn=0,(Ue&6)!==0)throw Error(s(331));var C=Ue;if(Ue|=4,rm(g.current),im(g,g.current,T,r),Ue=C,nr(0,!1),bt&&typeof bt.onPostCommitFiberRoot=="function")try{bt.onPostCommitFiberRoot(Ts,g)}catch{}return!0}finally{J.p=h,H.T=l,xm(n,o)}}function bm(n,o,r){o=Bt(r,o),o=Qu(n.stateNode,o,2),n=di(n,o,2),n!==null&&(Es(n,2),pn(n))}function Pe(n,o,r){if(n.tag===3)bm(n,n,r);else for(;o!==null;){if(o.tag===3){bm(o,n,r);break}else if(o.tag===1){var l=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(yi===null||!yi.has(l))){n=Bt(r,n),r=wp(2),l=di(o,r,2),l!==null&&(Np(r,l,o,n),Es(l,2),pn(l));break}}o=o.return}}function Sc(n,o,r){var l=n.pingCache;if(l===null){l=n.pingCache=new FS;var h=new Set;l.set(o,h)}else h=l.get(o),h===void 0&&(h=new Set,l.set(o,h));h.has(r)||(hc=!0,h.add(r),n=XS.bind(null,n,o,r),o.then(n,n))}function XS(n,o,r){var l=n.pingCache;l!==null&&l.delete(o),n.pingedLanes|=n.suspendedLanes&r,n.warmLanes&=~r,ze===n&&(xe&r)===r&&(Xe===4||Xe===3&&(xe&62914560)===xe&&300>ee()-Ca?(Ue&2)===0&&Xo(n,0):pc|=r,$o===xe&&($o=0)),pn(n)}function wm(n,o){o===0&&(o=Sf()),n=Yi(n,o),n!==null&&(Es(n,o),pn(n))}function QS(n){var o=n.memoizedState,r=0;o!==null&&(r=o.retryLane),wm(n,r)}function WS(n,o){var r=0;switch(n.tag){case 31:case 13:var l=n.stateNode,h=n.memoizedState;h!==null&&(r=h.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(o),wm(n,r)}function ZS(n,o){return ti(n,o)}var Ra=null,Wo=null,Ec=!1,Ma=!1,Cc=!1,Ti=0;function pn(n){n!==Wo&&n.next===null&&(Wo===null?Ra=Wo=n:Wo=Wo.next=n),Ma=!0,Ec||(Ec=!0,eE())}function nr(n,o){if(!Cc&&Ma){Cc=!0;do for(var r=!1,l=Ra;l!==null;){if(n!==0){var h=l.pendingLanes;if(h===0)var g=0;else{var T=l.suspendedLanes,C=l.pingedLanes;g=(1<<31-wt(42|n)+1)-1,g&=h&~(T&~C),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(r=!0,Mm(l,g))}else g=xe,g=Lr(l,l===ze?g:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(g&3)===0||Ss(l,g)||(r=!0,Mm(l,g));l=l.next}while(r);Cc=!1}}function jS(){Nm()}function Nm(){Ma=Ec=!1;var n=0;Ti!==0&&cE()&&(n=Ti);for(var o=ee(),r=null,l=Ra;l!==null;){var h=l.next,g=Im(l,o);g===0?(l.next=null,r===null?Ra=h:r.next=h,h===null&&(Wo=r)):(r=l,(n!==0||(g&3)!==0)&&(Ma=!0)),l=h}it!==0&&it!==5||nr(n),Ti!==0&&(Ti=0)}function Im(n,o){for(var r=n.suspendedLanes,l=n.pingedLanes,h=n.expirationTimes,g=n.pendingLanes&-62914561;0<g;){var T=31-wt(g),C=1<<T,A=h[T];A===-1?((C&r)===0||(C&l)!==0)&&(h[T]=bT(C,o)):A<=o&&(n.expiredLanes|=C),g&=~C}if(o=ze,r=xe,r=Lr(n,n===o?r:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,r===0||n===o&&(Le===2||Le===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&un(l),n.callbackNode=null,n.callbackPriority=0;if((r&3)===0||Ss(n,r)){if(o=r&-r,o===n.callbackPriority)return o;switch(l!==null&&un(l),Hl(r)){case 2:case 8:r=Zt;break;case 32:r=Mr;break;case 268435456:r=Tf;break;default:r=Mr}return l=Rm.bind(null,n),r=ti(r,l),n.callbackPriority=o,n.callbackNode=r,o}return l!==null&&l!==null&&un(l),n.callbackPriority=2,n.callbackNode=null,2}function Rm(n,o){if(it!==0&&it!==5)return n.callbackNode=null,n.callbackPriority=0,null;var r=n.callbackNode;if(Ia()&&n.callbackNode!==r)return null;var l=xe;return l=Lr(n,n===ze?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(dm(n,l,o),Im(n,ee()),n.callbackNode!=null&&n.callbackNode===r?Rm.bind(null,n):null)}function Mm(n,o){if(Ia())return null;dm(n,o,!0)}function eE(){fE(function(){(Ue&6)!==0?ti(cn,jS):Nm()})}function xc(){if(Ti===0){var n=Po;n===0&&(n=Dr,Dr<<=1,(Dr&261888)===0&&(Dr=256)),Ti=n}return Ti}function Dm(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Gr(""+n)}function Um(n,o){var r=o.ownerDocument.createElement("input");return r.name=o.name,r.value=o.value,n.id&&r.setAttribute("form",n.id),o.parentNode.insertBefore(r,o),n=new FormData(n),r.parentNode.removeChild(r),n}function tE(n,o,r,l,h){if(o==="submit"&&r&&r.stateNode===h){var g=Dm((h[_t]||null).action),T=l.submitter;T&&(o=(o=T[_t]||null)?Dm(o.formAction):T.getAttribute("formAction"),o!==null&&(g=o,T=null));var C=new qr("action","action",null,l,h);n.push({event:C,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ti!==0){var A=T?Um(h,T):new FormData(h);Fu(r,{pending:!0,data:A,method:h.method,action:g},null,A)}}else typeof g=="function"&&(C.preventDefault(),A=T?Um(h,T):new FormData(h),Fu(r,{pending:!0,data:A,method:h.method,action:g},g,A))},currentTarget:h}]})}}for(var Ac=0;Ac<au.length;Ac++){var bc=au[Ac],nE=bc.toLowerCase(),iE=bc[0].toUpperCase()+bc.slice(1);jt(nE,"on"+iE)}jt(ch,"onAnimationEnd"),jt(dh,"onAnimationIteration"),jt(fh,"onAnimationStart"),jt("dblclick","onDoubleClick"),jt("focusin","onFocus"),jt("focusout","onBlur"),jt(_S,"onTransitionRun"),jt(TS,"onTransitionStart"),jt(SS,"onTransitionCancel"),jt(hh,"onTransitionEnd"),Eo("onMouseEnter",["mouseout","mouseover"]),Eo("onMouseLeave",["mouseout","mouseover"]),Eo("onPointerEnter",["pointerout","pointerover"]),Eo("onPointerLeave",["pointerout","pointerover"]),Vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Vi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ir="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ir));function km(n,o){o=(o&4)!==0;for(var r=0;r<n.length;r++){var l=n[r],h=l.event;l=l.listeners;e:{var g=void 0;if(o)for(var T=l.length-1;0<=T;T--){var C=l[T],A=C.instance,M=C.currentTarget;if(C=C.listener,A!==g&&h.isPropagationStopped())break e;g=C,h.currentTarget=M;try{g(h)}catch(G){Jr(G)}h.currentTarget=null,g=A}else for(T=0;T<l.length;T++){if(C=l[T],A=C.instance,M=C.currentTarget,C=C.listener,A!==g&&h.isPropagationStopped())break e;g=C,h.currentTarget=M;try{g(h)}catch(G){Jr(G)}h.currentTarget=null,g=A}}}}function Ce(n,o){var r=o[Gl];r===void 0&&(r=o[Gl]=new Set);var l=n+"__bubble";r.has(l)||(Lm(o,n,2,!1),r.add(l))}function wc(n,o,r){var l=0;o&&(l|=4),Lm(r,n,l,o)}var Da="_reactListening"+Math.random().toString(36).slice(2);function Nc(n){if(!n[Da]){n[Da]=!0,Nf.forEach(function(r){r!=="selectionchange"&&(oE.has(r)||wc(r,!1,n),wc(r,!0,n))});var o=n.nodeType===9?n:n.ownerDocument;o===null||o[Da]||(o[Da]=!0,wc("selectionchange",!1,o))}}function Lm(n,o,r,l){switch(cg(o)){case 2:var h=DE;break;case 8:h=UE;break;default:h=qc}r=h.bind(null,o,r,n),h=void 0,!Kl||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(h=!0),l?h!==void 0?n.addEventListener(o,r,{capture:!0,passive:h}):n.addEventListener(o,r,!0):h!==void 0?n.addEventListener(o,r,{passive:h}):n.addEventListener(o,r,!1)}function Ic(n,o,r,l,h){var g=l;if((o&1)===0&&(o&2)===0&&l!==null)e:for(;;){if(l===null)return;var T=l.tag;if(T===3||T===4){var C=l.stateNode.containerInfo;if(C===h)break;if(T===4)for(T=l.return;T!==null;){var A=T.tag;if((A===3||A===4)&&T.stateNode.containerInfo===h)return;T=T.return}for(;C!==null;){if(T=_o(C),T===null)return;if(A=T.tag,A===5||A===6||A===26||A===27){l=g=T;continue e}C=C.parentNode}}l=l.return}zf(function(){var M=g,G=Jl(r),B=[];e:{var D=ph.get(n);if(D!==void 0){var O=qr,ne=n;switch(n){case"keypress":if(Vr(r)===0)break e;case"keydown":case"keyup":O=WT;break;case"focusin":ne="focus",O=Zl;break;case"focusout":ne="blur",O=Zl;break;case"beforeblur":case"afterblur":O=Zl;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":O=qf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":O=GT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":O=eS;break;case ch:case dh:case fh:O=BT;break;case hh:O=nS;break;case"scroll":case"scrollend":O=OT;break;case"wheel":O=oS;break;case"copy":case"cut":case"paste":O=FT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":O=Yf;break;case"toggle":case"beforetoggle":O=rS}var ae=(o&4)!==0,Ge=!ae&&(n==="scroll"||n==="scrollend"),I=ae?D!==null?D+"Capture":null:D;ae=[];for(var b=M,R;b!==null;){var z=b;if(R=z.stateNode,z=z.tag,z!==5&&z!==26&&z!==27||R===null||I===null||(z=As(b,I),z!=null&&ae.push(or(b,z,R))),Ge)break;b=b.return}0<ae.length&&(D=new O(D,ne,null,r,G),B.push({event:D,listeners:ae}))}}if((o&7)===0){e:{if(D=n==="mouseover"||n==="pointerover",O=n==="mouseout"||n==="pointerout",D&&r!==Yl&&(ne=r.relatedTarget||r.fromElement)&&(_o(ne)||ne[vo]))break e;if((O||D)&&(D=G.window===G?G:(D=G.ownerDocument)?D.defaultView||D.parentWindow:window,O?(ne=r.relatedTarget||r.toElement,O=M,ne=ne?_o(ne):null,ne!==null&&(Ge=u(ne),ae=ne.tag,ne!==Ge||ae!==5&&ae!==27&&ae!==6)&&(ne=null)):(O=null,ne=M),O!==ne)){if(ae=qf,z="onMouseLeave",I="onMouseEnter",b="mouse",(n==="pointerout"||n==="pointerover")&&(ae=Yf,z="onPointerLeave",I="onPointerEnter",b="pointer"),Ge=O==null?D:xs(O),R=ne==null?D:xs(ne),D=new ae(z,b+"leave",O,r,G),D.target=Ge,D.relatedTarget=R,z=null,_o(G)===M&&(ae=new ae(I,b+"enter",ne,r,G),ae.target=R,ae.relatedTarget=Ge,z=ae),Ge=z,O&&ne)t:{for(ae=sE,I=O,b=ne,R=0,z=I;z;z=ae(z))R++;z=0;for(var re=b;re;re=ae(re))z++;for(;0<R-z;)I=ae(I),R--;for(;0<z-R;)b=ae(b),z--;for(;R--;){if(I===b||b!==null&&I===b.alternate){ae=I;break t}I=ae(I),b=ae(b)}ae=null}else ae=null;O!==null&&Pm(B,D,O,ae,!1),ne!==null&&Ge!==null&&Pm(B,Ge,ne,ae,!0)}}e:{if(D=M?xs(M):window,O=D.nodeName&&D.nodeName.toLowerCase(),O==="select"||O==="input"&&D.type==="file")var Re=jf;else if(Wf(D))if(eh)Re=gS;else{Re=pS;var ie=hS}else O=D.nodeName,!O||O.toLowerCase()!=="input"||D.type!=="checkbox"&&D.type!=="radio"?M&&Fl(M.elementType)&&(Re=jf):Re=mS;if(Re&&(Re=Re(n,M))){Zf(B,Re,r,G);break e}ie&&ie(n,D,M),n==="focusout"&&M&&D.type==="number"&&M.memoizedProps.value!=null&&ql(D,"number",D.value)}switch(ie=M?xs(M):window,n){case"focusin":(Wf(ie)||ie.contentEditable==="true")&&(No=ie,ou=M,Us=null);break;case"focusout":Us=ou=No=null;break;case"mousedown":su=!0;break;case"contextmenu":case"mouseup":case"dragend":su=!1,lh(B,r,G);break;case"selectionchange":if(vS)break;case"keydown":case"keyup":lh(B,r,G)}var _e;if(eu)e:{switch(n){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else wo?Xf(n,r)&&(Ae="onCompositionEnd"):n==="keydown"&&r.keyCode===229&&(Ae="onCompositionStart");Ae&&(Jf&&r.locale!=="ko"&&(wo||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&wo&&(_e=Vf()):(oi=G,Xl="value"in oi?oi.value:oi.textContent,wo=!0)),ie=Ua(M,Ae),0<ie.length&&(Ae=new Ff(Ae,n,null,r,G),B.push({event:Ae,listeners:ie}),_e?Ae.data=_e:(_e=Qf(r),_e!==null&&(Ae.data=_e)))),(_e=lS?uS(n,r):cS(n,r))&&(Ae=Ua(M,"onBeforeInput"),0<Ae.length&&(ie=new Ff("onBeforeInput","beforeinput",null,r,G),B.push({event:ie,listeners:Ae}),ie.data=_e)),tE(B,n,M,r,G)}km(B,o)})}function or(n,o,r){return{instance:n,listener:o,currentTarget:r}}function Ua(n,o){for(var r=o+"Capture",l=[];n!==null;){var h=n,g=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||g===null||(h=As(n,r),h!=null&&l.unshift(or(n,h,g)),h=As(n,o),h!=null&&l.push(or(n,h,g))),n.tag===3)return l;n=n.return}return[]}function sE(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Pm(n,o,r,l,h){for(var g=o._reactName,T=[];r!==null&&r!==l;){var C=r,A=C.alternate,M=C.stateNode;if(C=C.tag,A!==null&&A===l)break;C!==5&&C!==26&&C!==27||M===null||(A=M,h?(M=As(r,g),M!=null&&T.unshift(or(r,M,A))):h||(M=As(r,g),M!=null&&T.push(or(r,M,A)))),r=r.return}T.length!==0&&n.push({event:o,listeners:T})}var rE=/\r\n?/g,aE=/\u0000|\uFFFD/g;function Om(n){return(typeof n=="string"?n:""+n).replace(rE,`
`).replace(aE,"")}function Hm(n,o){return o=Om(o),Om(n)===o}function He(n,o,r,l,h,g){switch(r){case"children":typeof l=="string"?o==="body"||o==="textarea"&&l===""||xo(n,l):(typeof l=="number"||typeof l=="bigint")&&o!=="body"&&xo(n,""+l);break;case"className":Or(n,"class",l);break;case"tabIndex":Or(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Or(n,r,l);break;case"style":Hf(n,l,g);break;case"data":if(o!=="object"){Or(n,"data",l);break}case"src":case"href":if(l===""&&(o!=="a"||r!=="href")){n.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(r);break}l=Gr(""+l),n.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(r==="formAction"?(o!=="input"&&He(n,o,"name",h.name,h,null),He(n,o,"formEncType",h.formEncType,h,null),He(n,o,"formMethod",h.formMethod,h,null),He(n,o,"formTarget",h.formTarget,h,null)):(He(n,o,"encType",h.encType,h,null),He(n,o,"method",h.method,h,null),He(n,o,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(r);break}l=Gr(""+l),n.setAttribute(r,l);break;case"onClick":l!=null&&(n.onclick=An);break;case"onScroll":l!=null&&Ce("scroll",n);break;case"onScrollEnd":l!=null&&Ce("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(s(60));n.innerHTML=r}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}r=Gr(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(r,""+l):n.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(r,""):n.removeAttribute(r);break;case"capture":case"download":l===!0?n.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(r,l):n.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(r,l):n.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(r):n.setAttribute(r,l);break;case"popover":Ce("beforetoggle",n),Ce("toggle",n),Pr(n,"popover",l);break;case"xlinkActuate":xn(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":xn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":xn(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":xn(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":xn(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":xn(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":xn(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":xn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":xn(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Pr(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=LT.get(r)||r,Pr(n,r,l))}}function Rc(n,o,r,l,h,g){switch(r){case"style":Hf(n,l,g);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(s(60));n.innerHTML=r}}break;case"children":typeof l=="string"?xo(n,l):(typeof l=="number"||typeof l=="bigint")&&xo(n,""+l);break;case"onScroll":l!=null&&Ce("scroll",n);break;case"onScrollEnd":l!=null&&Ce("scrollend",n);break;case"onClick":l!=null&&(n.onclick=An);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!If.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),o=r.slice(2,h?r.length-7:void 0),g=n[_t]||null,g=g!=null?g[r]:null,typeof g=="function"&&n.removeEventListener(o,g,h),typeof l=="function")){typeof g!="function"&&g!==null&&(r in n?n[r]=null:n.hasAttribute(r)&&n.removeAttribute(r)),n.addEventListener(o,l,h);break e}r in n?n[r]=l:l===!0?n.setAttribute(r,""):Pr(n,r,l)}}}function dt(n,o,r){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ce("error",n),Ce("load",n);var l=!1,h=!1,g;for(g in r)if(r.hasOwnProperty(g)){var T=r[g];if(T!=null)switch(g){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,o));default:He(n,o,g,T,r,null)}}h&&He(n,o,"srcSet",r.srcSet,r,null),l&&He(n,o,"src",r.src,r,null);return;case"input":Ce("invalid",n);var C=g=T=h=null,A=null,M=null;for(l in r)if(r.hasOwnProperty(l)){var G=r[l];if(G!=null)switch(l){case"name":h=G;break;case"type":T=G;break;case"checked":A=G;break;case"defaultChecked":M=G;break;case"value":g=G;break;case"defaultValue":C=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,o));break;default:He(n,o,l,G,r,null)}}kf(n,g,C,A,M,T,h,!1);return;case"select":Ce("invalid",n),l=T=g=null;for(h in r)if(r.hasOwnProperty(h)&&(C=r[h],C!=null))switch(h){case"value":g=C;break;case"defaultValue":T=C;break;case"multiple":l=C;default:He(n,o,h,C,r,null)}o=g,r=T,n.multiple=!!l,o!=null?Co(n,!!l,o,!1):r!=null&&Co(n,!!l,r,!0);return;case"textarea":Ce("invalid",n),g=h=l=null;for(T in r)if(r.hasOwnProperty(T)&&(C=r[T],C!=null))switch(T){case"value":l=C;break;case"defaultValue":h=C;break;case"children":g=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(s(91));break;default:He(n,o,T,C,r,null)}Pf(n,l,h,g);return;case"option":for(A in r)if(r.hasOwnProperty(A)&&(l=r[A],l!=null))switch(A){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:He(n,o,A,l,r,null)}return;case"dialog":Ce("beforetoggle",n),Ce("toggle",n),Ce("cancel",n),Ce("close",n);break;case"iframe":case"object":Ce("load",n);break;case"video":case"audio":for(l=0;l<ir.length;l++)Ce(ir[l],n);break;case"image":Ce("error",n),Ce("load",n);break;case"details":Ce("toggle",n);break;case"embed":case"source":case"link":Ce("error",n),Ce("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(M in r)if(r.hasOwnProperty(M)&&(l=r[M],l!=null))switch(M){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,o));default:He(n,o,M,l,r,null)}return;default:if(Fl(o)){for(G in r)r.hasOwnProperty(G)&&(l=r[G],l!==void 0&&Rc(n,o,G,l,r,void 0));return}}for(C in r)r.hasOwnProperty(C)&&(l=r[C],l!=null&&He(n,o,C,l,r,null))}function lE(n,o,r,l){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,g=null,T=null,C=null,A=null,M=null,G=null;for(O in r){var B=r[O];if(r.hasOwnProperty(O)&&B!=null)switch(O){case"checked":break;case"value":break;case"defaultValue":A=B;default:l.hasOwnProperty(O)||He(n,o,O,null,l,B)}}for(var D in l){var O=l[D];if(B=r[D],l.hasOwnProperty(D)&&(O!=null||B!=null))switch(D){case"type":g=O;break;case"name":h=O;break;case"checked":M=O;break;case"defaultChecked":G=O;break;case"value":T=O;break;case"defaultValue":C=O;break;case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(s(137,o));break;default:O!==B&&He(n,o,D,O,l,B)}}Bl(n,T,C,A,M,G,g,h);return;case"select":O=T=C=D=null;for(g in r)if(A=r[g],r.hasOwnProperty(g)&&A!=null)switch(g){case"value":break;case"multiple":O=A;default:l.hasOwnProperty(g)||He(n,o,g,null,l,A)}for(h in l)if(g=l[h],A=r[h],l.hasOwnProperty(h)&&(g!=null||A!=null))switch(h){case"value":D=g;break;case"defaultValue":C=g;break;case"multiple":T=g;default:g!==A&&He(n,o,h,g,l,A)}o=C,r=T,l=O,D!=null?Co(n,!!r,D,!1):!!l!=!!r&&(o!=null?Co(n,!!r,o,!0):Co(n,!!r,r?[]:"",!1));return;case"textarea":O=D=null;for(C in r)if(h=r[C],r.hasOwnProperty(C)&&h!=null&&!l.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:He(n,o,C,null,l,h)}for(T in l)if(h=l[T],g=r[T],l.hasOwnProperty(T)&&(h!=null||g!=null))switch(T){case"value":D=h;break;case"defaultValue":O=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==g&&He(n,o,T,h,l,g)}Lf(n,D,O);return;case"option":for(var ne in r)if(D=r[ne],r.hasOwnProperty(ne)&&D!=null&&!l.hasOwnProperty(ne))switch(ne){case"selected":n.selected=!1;break;default:He(n,o,ne,null,l,D)}for(A in l)if(D=l[A],O=r[A],l.hasOwnProperty(A)&&D!==O&&(D!=null||O!=null))switch(A){case"selected":n.selected=D&&typeof D!="function"&&typeof D!="symbol";break;default:He(n,o,A,D,l,O)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ae in r)D=r[ae],r.hasOwnProperty(ae)&&D!=null&&!l.hasOwnProperty(ae)&&He(n,o,ae,null,l,D);for(M in l)if(D=l[M],O=r[M],l.hasOwnProperty(M)&&D!==O&&(D!=null||O!=null))switch(M){case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(s(137,o));break;default:He(n,o,M,D,l,O)}return;default:if(Fl(o)){for(var Ge in r)D=r[Ge],r.hasOwnProperty(Ge)&&D!==void 0&&!l.hasOwnProperty(Ge)&&Rc(n,o,Ge,void 0,l,D);for(G in l)D=l[G],O=r[G],!l.hasOwnProperty(G)||D===O||D===void 0&&O===void 0||Rc(n,o,G,D,l,O);return}}for(var I in r)D=r[I],r.hasOwnProperty(I)&&D!=null&&!l.hasOwnProperty(I)&&He(n,o,I,null,l,D);for(B in l)D=l[B],O=r[B],!l.hasOwnProperty(B)||D===O||D==null&&O==null||He(n,o,B,D,l,O)}function Gm(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function uE(){if(typeof performance.getEntriesByType=="function"){for(var n=0,o=0,r=performance.getEntriesByType("resource"),l=0;l<r.length;l++){var h=r[l],g=h.transferSize,T=h.initiatorType,C=h.duration;if(g&&C&&Gm(T)){for(T=0,C=h.responseEnd,l+=1;l<r.length;l++){var A=r[l],M=A.startTime;if(M>C)break;var G=A.transferSize,B=A.initiatorType;G&&Gm(B)&&(A=A.responseEnd,T+=G*(A<C?1:(C-M)/(A-M)))}if(--l,o+=8*(g+T)/(h.duration/1e3),n++,10<n)break}}if(0<n)return o/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var Mc=null,Dc=null;function ka(n){return n.nodeType===9?n:n.ownerDocument}function zm(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Vm(n,o){if(n===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&o==="foreignObject"?0:n}function Uc(n,o){return n==="textarea"||n==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var kc=null;function cE(){var n=window.event;return n&&n.type==="popstate"?n===kc?!1:(kc=n,!0):(kc=null,!1)}var Bm=typeof setTimeout=="function"?setTimeout:void 0,dE=typeof clearTimeout=="function"?clearTimeout:void 0,qm=typeof Promise=="function"?Promise:void 0,fE=typeof queueMicrotask=="function"?queueMicrotask:typeof qm<"u"?function(n){return qm.resolve(null).then(n).catch(hE)}:Bm;function hE(n){setTimeout(function(){throw n})}function Si(n){return n==="head"}function Fm(n,o){var r=o,l=0;do{var h=r.nextSibling;if(n.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(l===0){n.removeChild(h),ts(o);return}l--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")l++;else if(r==="html")sr(n.ownerDocument.documentElement);else if(r==="head"){r=n.ownerDocument.head,sr(r);for(var g=r.firstChild;g;){var T=g.nextSibling,C=g.nodeName;g[Cs]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&g.rel.toLowerCase()==="stylesheet"||r.removeChild(g),g=T}}else r==="body"&&sr(n.ownerDocument.body);r=h}while(r);ts(o)}function Ym(n,o){var r=n;n=0;do{var l=r.nextSibling;if(r.nodeType===1?o?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(o?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(n===0)break;n--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||n++;r=l}while(r)}function Lc(n){var o=n.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var r=o;switch(o=o.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Lc(r),zl(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}n.removeChild(r)}}function pE(n,o,r,l){for(;n.nodeType===1;){var h=r;if(n.nodeName.toLowerCase()!==o.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[Cs])switch(o){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(g=n.getAttribute("rel"),g==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(g!==h.rel||n.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||n.getAttribute("title")!==(h.title==null?null:h.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(g=n.getAttribute("src"),(g!==(h.src==null?null:h.src)||n.getAttribute("type")!==(h.type==null?null:h.type)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&g&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(o==="input"&&n.type==="hidden"){var g=h.name==null?null:""+h.name;if(h.type==="hidden"&&n.getAttribute("name")===g)return n}else return n;if(n=$t(n.nextSibling),n===null)break}return null}function mE(n,o,r){if(o==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!r||(n=$t(n.nextSibling),n===null))return null;return n}function Jm(n,o){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=$t(n.nextSibling),n===null))return null;return n}function Pc(n){return n.data==="$?"||n.data==="$~"}function Oc(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function gE(n,o){var r=n.ownerDocument;if(n.data==="$~")n._reactRetry=o;else if(n.data!=="$?"||r.readyState!=="loading")o();else{var l=function(){o(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function $t(n){for(;n!=null;n=n.nextSibling){var o=n.nodeType;if(o===1||o===3)break;if(o===8){if(o=n.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return n}var Hc=null;function $m(n){n=n.nextSibling;for(var o=0;n;){if(n.nodeType===8){var r=n.data;if(r==="/$"||r==="/&"){if(o===0)return $t(n.nextSibling);o--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||o++}n=n.nextSibling}return null}function Km(n){n=n.previousSibling;for(var o=0;n;){if(n.nodeType===8){var r=n.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(o===0)return n;o--}else r!=="/$"&&r!=="/&"||o++}n=n.previousSibling}return null}function Xm(n,o,r){switch(o=ka(r),n){case"html":if(n=o.documentElement,!n)throw Error(s(452));return n;case"head":if(n=o.head,!n)throw Error(s(453));return n;case"body":if(n=o.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function sr(n){for(var o=n.attributes;o.length;)n.removeAttributeNode(o[0]);zl(n)}var Kt=new Map,Qm=new Set;function La(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Vn=J.d;J.d={f:yE,r:vE,D:_E,C:TE,L:SE,m:EE,X:xE,S:CE,M:AE};function yE(){var n=Vn.f(),o=ba();return n||o}function vE(n){var o=To(n);o!==null&&o.tag===5&&o.type==="form"?hp(o):Vn.r(n)}var Zo=typeof document>"u"?null:document;function Wm(n,o,r){var l=Zo;if(l&&typeof o=="string"&&o){var h=zt(o);h='link[rel="'+n+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),Qm.has(h)||(Qm.add(h),n={rel:n,crossOrigin:r,href:o},l.querySelector(h)===null&&(o=l.createElement("link"),dt(o,"link",n),ot(o),l.head.appendChild(o)))}}function _E(n){Vn.D(n),Wm("dns-prefetch",n,null)}function TE(n,o){Vn.C(n,o),Wm("preconnect",n,o)}function SE(n,o,r){Vn.L(n,o,r);var l=Zo;if(l&&n&&o){var h='link[rel="preload"][as="'+zt(o)+'"]';o==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+zt(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+zt(r.imageSizes)+'"]')):h+='[href="'+zt(n)+'"]';var g=h;switch(o){case"style":g=jo(n);break;case"script":g=es(n)}Kt.has(g)||(n=S({rel:"preload",href:o==="image"&&r&&r.imageSrcSet?void 0:n,as:o},r),Kt.set(g,n),l.querySelector(h)!==null||o==="style"&&l.querySelector(rr(g))||o==="script"&&l.querySelector(ar(g))||(o=l.createElement("link"),dt(o,"link",n),ot(o),l.head.appendChild(o)))}}function EE(n,o){Vn.m(n,o);var r=Zo;if(r&&n){var l=o&&typeof o.as=="string"?o.as:"script",h='link[rel="modulepreload"][as="'+zt(l)+'"][href="'+zt(n)+'"]',g=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=es(n)}if(!Kt.has(g)&&(n=S({rel:"modulepreload",href:n},o),Kt.set(g,n),r.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(ar(g)))return}l=r.createElement("link"),dt(l,"link",n),ot(l),r.head.appendChild(l)}}}function CE(n,o,r){Vn.S(n,o,r);var l=Zo;if(l&&n){var h=So(l).hoistableStyles,g=jo(n);o=o||"default";var T=h.get(g);if(!T){var C={loading:0,preload:null};if(T=l.querySelector(rr(g)))C.loading=5;else{n=S({rel:"stylesheet",href:n,"data-precedence":o},r),(r=Kt.get(g))&&Gc(n,r);var A=T=l.createElement("link");ot(A),dt(A,"link",n),A._p=new Promise(function(M,G){A.onload=M,A.onerror=G}),A.addEventListener("load",function(){C.loading|=1}),A.addEventListener("error",function(){C.loading|=2}),C.loading|=4,Pa(T,o,l)}T={type:"stylesheet",instance:T,count:1,state:C},h.set(g,T)}}}function xE(n,o){Vn.X(n,o);var r=Zo;if(r&&n){var l=So(r).hoistableScripts,h=es(n),g=l.get(h);g||(g=r.querySelector(ar(h)),g||(n=S({src:n,async:!0},o),(o=Kt.get(h))&&zc(n,o),g=r.createElement("script"),ot(g),dt(g,"link",n),r.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},l.set(h,g))}}function AE(n,o){Vn.M(n,o);var r=Zo;if(r&&n){var l=So(r).hoistableScripts,h=es(n),g=l.get(h);g||(g=r.querySelector(ar(h)),g||(n=S({src:n,async:!0,type:"module"},o),(o=Kt.get(h))&&zc(n,o),g=r.createElement("script"),ot(g),dt(g,"link",n),r.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},l.set(h,g))}}function Zm(n,o,r,l){var h=(h=ve.current)?La(h):null;if(!h)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(o=jo(r.href),r=So(h).hoistableStyles,l=r.get(o),l||(l={type:"style",instance:null,count:0,state:null},r.set(o,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){n=jo(r.href);var g=So(h).hoistableStyles,T=g.get(n);if(T||(h=h.ownerDocument||h,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(n,T),(g=h.querySelector(rr(n)))&&!g._p&&(T.instance=g,T.state.loading=5),Kt.has(n)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Kt.set(n,r),g||bE(h,n,r,T.state))),o&&l===null)throw Error(s(528,""));return T}if(o&&l!==null)throw Error(s(529,""));return null;case"script":return o=r.async,r=r.src,typeof r=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=es(r),r=So(h).hoistableScripts,l=r.get(o),l||(l={type:"script",instance:null,count:0,state:null},r.set(o,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function jo(n){return'href="'+zt(n)+'"'}function rr(n){return'link[rel="stylesheet"]['+n+"]"}function jm(n){return S({},n,{"data-precedence":n.precedence,precedence:null})}function bE(n,o,r,l){n.querySelector('link[rel="preload"][as="style"]['+o+"]")?l.loading=1:(o=n.createElement("link"),l.preload=o,o.addEventListener("load",function(){return l.loading|=1}),o.addEventListener("error",function(){return l.loading|=2}),dt(o,"link",r),ot(o),n.head.appendChild(o))}function es(n){return'[src="'+zt(n)+'"]'}function ar(n){return"script[async]"+n}function eg(n,o,r){if(o.count++,o.instance===null)switch(o.type){case"style":var l=n.querySelector('style[data-href~="'+zt(r.href)+'"]');if(l)return o.instance=l,ot(l),l;var h=S({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),ot(l),dt(l,"style",h),Pa(l,r.precedence,n),o.instance=l;case"stylesheet":h=jo(r.href);var g=n.querySelector(rr(h));if(g)return o.state.loading|=4,o.instance=g,ot(g),g;l=jm(r),(h=Kt.get(h))&&Gc(l,h),g=(n.ownerDocument||n).createElement("link"),ot(g);var T=g;return T._p=new Promise(function(C,A){T.onload=C,T.onerror=A}),dt(g,"link",l),o.state.loading|=4,Pa(g,r.precedence,n),o.instance=g;case"script":return g=es(r.src),(h=n.querySelector(ar(g)))?(o.instance=h,ot(h),h):(l=r,(h=Kt.get(g))&&(l=S({},r),zc(l,h)),n=n.ownerDocument||n,h=n.createElement("script"),ot(h),dt(h,"link",l),n.head.appendChild(h),o.instance=h);case"void":return null;default:throw Error(s(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(l=o.instance,o.state.loading|=4,Pa(l,r.precedence,n));return o.instance}function Pa(n,o,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,g=h,T=0;T<l.length;T++){var C=l[T];if(C.dataset.precedence===o)g=C;else if(g!==h)break}g?g.parentNode.insertBefore(n,g.nextSibling):(o=r.nodeType===9?r.head:r,o.insertBefore(n,o.firstChild))}function Gc(n,o){n.crossOrigin==null&&(n.crossOrigin=o.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=o.referrerPolicy),n.title==null&&(n.title=o.title)}function zc(n,o){n.crossOrigin==null&&(n.crossOrigin=o.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=o.referrerPolicy),n.integrity==null&&(n.integrity=o.integrity)}var Oa=null;function tg(n,o,r){if(Oa===null){var l=new Map,h=Oa=new Map;h.set(r,l)}else h=Oa,l=h.get(r),l||(l=new Map,h.set(r,l));if(l.has(n))return l;for(l.set(n,null),r=r.getElementsByTagName(n),h=0;h<r.length;h++){var g=r[h];if(!(g[Cs]||g[at]||n==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var T=g.getAttribute(o)||"";T=n+T;var C=l.get(T);C?C.push(g):l.set(T,[g])}}return l}function ng(n,o,r){n=n.ownerDocument||n,n.head.insertBefore(r,o==="title"?n.querySelector("head > title"):null)}function wE(n,o,r){if(r===1||o.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return n=o.disabled,typeof o.precedence=="string"&&n==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function ig(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function NE(n,o,r,l){if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=jo(l.href),g=o.querySelector(rr(h));if(g){o=g._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(n.count++,n=Ha.bind(n),o.then(n,n)),r.state.loading|=4,r.instance=g,ot(g);return}g=o.ownerDocument||o,l=jm(l),(h=Kt.get(h))&&Gc(l,h),g=g.createElement("link"),ot(g);var T=g;T._p=new Promise(function(C,A){T.onload=C,T.onerror=A}),dt(g,"link",l),r.instance=g}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(r,o),(o=r.state.preload)&&(r.state.loading&3)===0&&(n.count++,r=Ha.bind(n),o.addEventListener("load",r),o.addEventListener("error",r))}}var Vc=0;function IE(n,o){return n.stylesheets&&n.count===0&&za(n,n.stylesheets),0<n.count||0<n.imgCount?function(r){var l=setTimeout(function(){if(n.stylesheets&&za(n,n.stylesheets),n.unsuspend){var g=n.unsuspend;n.unsuspend=null,g()}},6e4+o);0<n.imgBytes&&Vc===0&&(Vc=62500*uE());var h=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&za(n,n.stylesheets),n.unsuspend)){var g=n.unsuspend;n.unsuspend=null,g()}},(n.imgBytes>Vc?50:800)+o);return n.unsuspend=r,function(){n.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Ha(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)za(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Ga=null;function za(n,o){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Ga=new Map,o.forEach(RE,n),Ga=null,Ha.call(n))}function RE(n,o){if(!(o.state.loading&4)){var r=Ga.get(n);if(r)var l=r.get(null);else{r=new Map,Ga.set(n,r);for(var h=n.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<h.length;g++){var T=h[g];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(r.set(T.dataset.precedence,T),l=T)}l&&r.set(null,l)}h=o.instance,T=h.getAttribute("data-precedence"),g=r.get(T)||l,g===l&&r.set(null,h),r.set(T,h),this.count++,l=Ha.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),g?g.parentNode.insertBefore(h,g.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(h,n.firstChild)),o.state.loading|=4}}var lr={$$typeof:F,Provider:null,Consumer:null,_currentValue:se,_currentValue2:se,_threadCount:0};function ME(n,o,r,l,h,g,T,C,A){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pl(0),this.hiddenUpdates=Pl(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=g,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function og(n,o,r,l,h,g,T,C,A,M,G,B){return n=new ME(n,o,r,T,A,M,G,B,C),o=1,g===!0&&(o|=24),g=It(3,null,null,o),n.current=g,g.stateNode=n,o=Tu(),o.refCount++,n.pooledCache=o,o.refCount++,g.memoizedState={element:l,isDehydrated:r,cache:o},xu(g),n}function sg(n){return n?(n=Mo,n):Mo}function rg(n,o,r,l,h,g){h=sg(h),l.context===null?l.context=h:l.pendingContext=h,l=ci(o),l.payload={element:r},g=g===void 0?null:g,g!==null&&(l.callback=g),r=di(n,l,o),r!==null&&(At(r,n,o),zs(r,n,o))}function ag(n,o){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var r=n.retryLane;n.retryLane=r!==0&&r<o?r:o}}function Bc(n,o){ag(n,o),(n=n.alternate)&&ag(n,o)}function lg(n){if(n.tag===13||n.tag===31){var o=Yi(n,67108864);o!==null&&At(o,n,67108864),Bc(n,67108864)}}function ug(n){if(n.tag===13||n.tag===31){var o=kt();o=Ol(o);var r=Yi(n,o);r!==null&&At(r,n,o),Bc(n,o)}}var Va=!0;function DE(n,o,r,l){var h=H.T;H.T=null;var g=J.p;try{J.p=2,qc(n,o,r,l)}finally{J.p=g,H.T=h}}function UE(n,o,r,l){var h=H.T;H.T=null;var g=J.p;try{J.p=8,qc(n,o,r,l)}finally{J.p=g,H.T=h}}function qc(n,o,r,l){if(Va){var h=Fc(l);if(h===null)Ic(n,o,l,Ba,r),dg(n,l);else if(LE(h,n,o,r,l))l.stopPropagation();else if(dg(n,l),o&4&&-1<kE.indexOf(n)){for(;h!==null;){var g=To(h);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var T=zi(g.pendingLanes);if(T!==0){var C=g;for(C.pendingLanes|=2,C.entangledLanes|=2;T;){var A=1<<31-wt(T);C.entanglements[1]|=A,T&=~A}pn(g),(Ue&6)===0&&(xa=ee()+500,nr(0))}}break;case 31:case 13:C=Yi(g,2),C!==null&&At(C,g,2),ba(),Bc(g,2)}if(g=Fc(l),g===null&&Ic(n,o,l,Ba,r),g===h)break;h=g}h!==null&&l.stopPropagation()}else Ic(n,o,l,null,r)}}function Fc(n){return n=Jl(n),Yc(n)}var Ba=null;function Yc(n){if(Ba=null,n=_o(n),n!==null){var o=u(n);if(o===null)n=null;else{var r=o.tag;if(r===13){if(n=d(o),n!==null)return n;n=null}else if(r===31){if(n=p(o),n!==null)return n;n=null}else if(r===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;n=null}else o!==n&&(n=null)}}return Ba=n,null}function cg(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ke()){case cn:return 2;case Zt:return 8;case Mr:case TT:return 32;case Tf:return 268435456;default:return 32}default:return 32}}var Jc=!1,Ei=null,Ci=null,xi=null,ur=new Map,cr=new Map,Ai=[],kE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function dg(n,o){switch(n){case"focusin":case"focusout":Ei=null;break;case"dragenter":case"dragleave":Ci=null;break;case"mouseover":case"mouseout":xi=null;break;case"pointerover":case"pointerout":ur.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":cr.delete(o.pointerId)}}function dr(n,o,r,l,h,g){return n===null||n.nativeEvent!==g?(n={blockedOn:o,domEventName:r,eventSystemFlags:l,nativeEvent:g,targetContainers:[h]},o!==null&&(o=To(o),o!==null&&lg(o)),n):(n.eventSystemFlags|=l,o=n.targetContainers,h!==null&&o.indexOf(h)===-1&&o.push(h),n)}function LE(n,o,r,l,h){switch(o){case"focusin":return Ei=dr(Ei,n,o,r,l,h),!0;case"dragenter":return Ci=dr(Ci,n,o,r,l,h),!0;case"mouseover":return xi=dr(xi,n,o,r,l,h),!0;case"pointerover":var g=h.pointerId;return ur.set(g,dr(ur.get(g)||null,n,o,r,l,h)),!0;case"gotpointercapture":return g=h.pointerId,cr.set(g,dr(cr.get(g)||null,n,o,r,l,h)),!0}return!1}function fg(n){var o=_o(n.target);if(o!==null){var r=u(o);if(r!==null){if(o=r.tag,o===13){if(o=d(r),o!==null){n.blockedOn=o,bf(n.priority,function(){ug(r)});return}}else if(o===31){if(o=p(r),o!==null){n.blockedOn=o,bf(n.priority,function(){ug(r)});return}}else if(o===3&&r.stateNode.current.memoizedState.isDehydrated){n.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}n.blockedOn=null}function qa(n){if(n.blockedOn!==null)return!1;for(var o=n.targetContainers;0<o.length;){var r=Fc(n.nativeEvent);if(r===null){r=n.nativeEvent;var l=new r.constructor(r.type,r);Yl=l,r.target.dispatchEvent(l),Yl=null}else return o=To(r),o!==null&&lg(o),n.blockedOn=r,!1;o.shift()}return!0}function hg(n,o,r){qa(n)&&r.delete(o)}function PE(){Jc=!1,Ei!==null&&qa(Ei)&&(Ei=null),Ci!==null&&qa(Ci)&&(Ci=null),xi!==null&&qa(xi)&&(xi=null),ur.forEach(hg),cr.forEach(hg)}function Fa(n,o){n.blockedOn===o&&(n.blockedOn=null,Jc||(Jc=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,PE)))}var Ya=null;function pg(n){Ya!==n&&(Ya=n,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Ya===n&&(Ya=null);for(var o=0;o<n.length;o+=3){var r=n[o],l=n[o+1],h=n[o+2];if(typeof l!="function"){if(Yc(l||r)===null)continue;break}var g=To(r);g!==null&&(n.splice(o,3),o-=3,Fu(g,{pending:!0,data:h,method:r.method,action:l},l,h))}}))}function ts(n){function o(A){return Fa(A,n)}Ei!==null&&Fa(Ei,n),Ci!==null&&Fa(Ci,n),xi!==null&&Fa(xi,n),ur.forEach(o),cr.forEach(o);for(var r=0;r<Ai.length;r++){var l=Ai[r];l.blockedOn===n&&(l.blockedOn=null)}for(;0<Ai.length&&(r=Ai[0],r.blockedOn===null);)fg(r),r.blockedOn===null&&Ai.shift();if(r=(n.ownerDocument||n).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var h=r[l],g=r[l+1],T=h[_t]||null;if(typeof g=="function")T||pg(r);else if(T){var C=null;if(g&&g.hasAttribute("formAction")){if(h=g,T=g[_t]||null)C=T.formAction;else if(Yc(h)!==null)continue}else C=T.action;typeof C=="function"?r[l+1]=C:(r.splice(l,3),l-=3),pg(r)}}}function mg(){function n(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(T){return h=T})},focusReset:"manual",scroll:"manual"})}function o(){h!==null&&(h(),h=null),l||setTimeout(r,20)}function r(){if(!l&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(r,100),function(){l=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),h!==null&&(h(),h=null)}}}function $c(n){this._internalRoot=n}Ja.prototype.render=$c.prototype.render=function(n){var o=this._internalRoot;if(o===null)throw Error(s(409));var r=o.current,l=kt();rg(r,l,n,o,null,null)},Ja.prototype.unmount=$c.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var o=n.containerInfo;rg(n.current,2,null,n,null,null),ba(),o[vo]=null}};function Ja(n){this._internalRoot=n}Ja.prototype.unstable_scheduleHydration=function(n){if(n){var o=Af();n={blockedOn:null,target:n,priority:o};for(var r=0;r<Ai.length&&o!==0&&o<Ai[r].priority;r++);Ai.splice(r,0,n),r===0&&fg(n)}};var gg=e.version;if(gg!=="19.2.4")throw Error(s(527,gg,"19.2.4"));J.findDOMNode=function(n){var o=n._reactInternals;if(o===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=m(o),n=n!==null?v(n):null,n=n===null?null:n.stateNode,n};var OE={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $a=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$a.isDisabled&&$a.supportsFiber)try{Ts=$a.inject(OE),bt=$a}catch{}}return hr.createRoot=function(n,o){if(!a(n))throw Error(s(299));var r=!1,l="",h=Cp,g=xp,T=Ap;return o!=null&&(o.unstable_strictMode===!0&&(r=!0),o.identifierPrefix!==void 0&&(l=o.identifierPrefix),o.onUncaughtError!==void 0&&(h=o.onUncaughtError),o.onCaughtError!==void 0&&(g=o.onCaughtError),o.onRecoverableError!==void 0&&(T=o.onRecoverableError)),o=og(n,1,!1,null,null,r,l,null,h,g,T,mg),n[vo]=o.current,Nc(n),new $c(o)},hr.hydrateRoot=function(n,o,r){if(!a(n))throw Error(s(299));var l=!1,h="",g=Cp,T=xp,C=Ap,A=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(g=r.onUncaughtError),r.onCaughtError!==void 0&&(T=r.onCaughtError),r.onRecoverableError!==void 0&&(C=r.onRecoverableError),r.formState!==void 0&&(A=r.formState)),o=og(n,1,!0,o,r??null,l,h,A,g,T,C,mg),o.context=sg(null),r=o.current,l=kt(),l=Ol(l),h=ci(l),h.callback=null,di(r,h,l),r=l,o.current.lanes=r,Es(o,r),pn(o),n[vo]=o.current,Nc(n),new Ja(o)},hr.version="19.2.4",hr}var bg;function KE(){if(bg)return Qc.exports;bg=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Qc.exports=$E(),Qc.exports}var XE=KE();const QE=j0(XE);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ev=(...t)=>t.filter((e,i,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===i).join(" ").trim();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WE=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZE=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,s)=>s?s.toUpperCase():i.toLowerCase());/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wg=t=>{const e=ZE(t);return e.charAt(0).toUpperCase()+e.slice(1)};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var jE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eC=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tC=Q.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:a="",children:u,iconNode:d,...p},y)=>Q.createElement("svg",{ref:y,...jE,width:e,height:e,stroke:t,strokeWidth:s?Number(i)*24/Number(e):i,className:ev("lucide",a),...!u&&!eC(p)&&{"aria-hidden":"true"},...p},[...d.map(([m,v])=>Q.createElement(m,v)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=(t,e)=>{const i=Q.forwardRef(({className:s,...a},u)=>Q.createElement(tC,{ref:u,iconNode:e,className:ev(`lucide-${WE(wg(t))}`,`lucide-${t}`,s),...a}));return i.displayName=wg(t),i};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nC=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],iC=Te("arrow-left",nC);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Fd=Te("arrow-right",oC);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sC=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Ng=Te("award",sC);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rC=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Fn=Te("book-open",rC);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aC=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],lC=Te("book",aC);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uC=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],tv=Te("briefcase",uC);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cC=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],nv=Te("calendar",cC);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dC=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],pd=Te("check",dC);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fC=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],hC=Te("chevron-left",fC);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pC=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],iv=Te("chevron-right",pC);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],gC=Te("circle-alert",mC);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yC=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],vC=Te("circle-check-big",yC);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _C=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],TC=Te("eye",_C);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SC=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M12 17h.01",key:"p32p05"}],["path",{d:"M9.1 9a3 3 0 0 1 5.82 1c0 2-3 3-3 3",key:"mhlwft"}]],EC=Te("file-question-mark",SC);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CC=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Ig=Te("file-text",CC);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xC=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],AC=Te("gift",xC);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],wC=Te("globe",bC);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NC=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],IC=Te("heart",NC);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RC=[["path",{d:"m9 11-6 6v3h9l3-3",key:"1a3l36"}],["path",{d:"m22 12-4.6 4.6a2 2 0 0 1-2.8 0l-5.2-5.2a2 2 0 0 1 0-2.8L14 4",key:"14a9rk"}]],MC=Te("highlighter",RC);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DC=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],UC=Te("house",DC);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kC=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],ao=Te("loader-circle",kC);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LC=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],ov=Te("log-out",LC);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PC=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],OC=Te("maximize-2",PC);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HC=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Rg=Te("message-square",HC);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GC=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],zC=Te("minimize-2",GC);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VC=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],md=Te("pen-tool",VC);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BC=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],qC=Te("pen",BC);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FC=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],YC=Te("play",FC);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],$C=Te("plus",JC);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KC=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],XC=Te("quote",KC);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QC=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],WC=Te("refresh-cw",QC);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZC=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],gd=Te("search",ZC);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jC=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Yd=Te("send",jC);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ex=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Lt=Te("sparkles",ex);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tx=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],sv=Te("star",tx);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nx=[["path",{d:"M21 9a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 15 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2z",key:"1dfntj"}],["path",{d:"M15 3v5a1 1 0 0 0 1 1h5",key:"6s6qgf"}]],ed=Te("sticky-note",nx);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ix=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],ox=Te("trending-up",ix);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sx=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Mg=Te("upload",sx);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rx=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],rv=Te("user",rx);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ax=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],lx=Te("wallet",ax);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ux=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],rs=Te("x",ux),Ka=({book:t,onClick:e,onRead:i})=>{const[s,a]=Q.useState(!1),u=t.isbn?`https://covers.openlibrary.org/b/isbn/${t.isbn}-L.jpg`:null;return _.jsxs("div",{className:"group relative flex flex-col w-full cursor-pointer",onClick:e,children:[_.jsxs("div",{className:"relative w-full aspect-[2/3] rounded-2xl overflow-hidden shadow-sm transition-all duration-500 group-hover:shadow-[0_20px_40px_-12px_rgba(0,0,0,0.15)] group-hover:-translate-y-2",children:[!s&&u?_.jsx("img",{src:u,alt:t.title,className:"w-full h-full object-cover",onError:()=>a(!0),loading:"lazy"}):_.jsxs("div",{className:"w-full h-full flex items-center justify-center relative overflow-hidden",style:{background:`linear-gradient(to bottom right, ${t.coverColor} 0%, #ffffff 150%)`},children:[_.jsx("div",{className:"absolute inset-0 opacity-10 bg-[radial-gradient(circle_at_top_right,_var(--tw-gradient-stops))] from-black to-transparent"}),_.jsx("div",{className:"transform group-hover:scale-110 group-hover:rotate-3 transition-transform duration-700 ease-[cubic-bezier(0.34,1.56,0.64,1)]",children:_.jsx(Fn,{className:"text-black/20 w-16 h-16",strokeWidth:1.5})}),_.jsx("div",{className:"absolute bottom-4 left-4 right-4 text-center",children:_.jsx("p",{className:"text-[10px] font-bold uppercase tracking-widest text-black/40 mb-1",children:"Untitled"})})]}),_.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-colors duration-300 flex items-center justify-center opacity-0 group-hover:opacity-100",children:_.jsxs("button",{onClick:i,className:"bg-white/90 backdrop-blur-xl text-gray-900 px-5 py-2.5 rounded-full text-xs font-bold shadow-xl transform scale-90 group-hover:scale-100 transition-all duration-300 flex items-center gap-2 hover:bg-white",children:[_.jsx(YC,{size:12,className:"fill-current"})," READ"]})}),t.matchReason&&_.jsx("div",{className:"absolute top-2 left-2 z-10",children:_.jsxs("div",{className:"inline-flex items-center gap-1 bg-white/90 backdrop-blur-md px-2 py-1 rounded-md shadow-sm border border-white/50",children:[_.jsx(Lt,{size:8,className:"text-blue-500 fill-blue-500"}),_.jsx("span",{className:"text-[8px] font-bold uppercase tracking-wide text-gray-800",children:"Match"})]})})]}),_.jsxs("div",{className:"mt-3 space-y-1",children:[_.jsx("h3",{className:"font-serif font-bold text-gray-900 text-base leading-tight line-clamp-2 group-hover:text-blue-600 transition-colors",children:t.title}),_.jsx("p",{className:"text-xs text-gray-500 font-medium line-clamp-1",children:t.author}),_.jsxs("div",{className:"flex items-center gap-3 pt-1",children:[t.reviewSnippet&&_.jsxs("div",{className:"flex items-center gap-1 text-[10px] font-bold text-blue-600 bg-blue-50 px-1.5 py-0.5 rounded",children:[_.jsx(ox,{size:8})," Buzz"]}),_.jsxs("div",{className:"flex items-center gap-0.5",children:[_.jsx(sv,{size:10,className:"text-yellow-400 fill-yellow-400"}),_.jsx("span",{className:"text-[10px] font-bold text-gray-400",children:"4.8"})]})]})]})]})};var cx={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let dx,fx;function hx(){return{geminiUrl:dx,vertexUrl:fx}}function px(t,e,i,s){var a,u;if(!(t!=null&&t.baseUrl)){const d=hx();return e?(a=d.vertexUrl)!==null&&a!==void 0?a:i:(u=d.geminiUrl)!==null&&u!==void 0?u:s}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Wn{}function W(t,e){const i=/\{([^}]+)\}/g;return t.replace(i,(s,a)=>{if(Object.prototype.hasOwnProperty.call(e,a)){const u=e[a];return u!=null?String(u):""}else throw new Error(`Key '${a}' not found in valueMap.`)})}function f(t,e,i){for(let u=0;u<e.length-1;u++){const d=e[u];if(d.endsWith("[]")){const p=d.slice(0,-2);if(!(p in t))if(Array.isArray(i))t[p]=Array.from({length:i.length},()=>({}));else throw new Error(`Value must be a list given an array path ${d}`);if(Array.isArray(t[p])){const y=t[p];if(Array.isArray(i))for(let m=0;m<y.length;m++){const v=y[m];f(v,e.slice(u+1),i[m])}else for(const m of y)f(m,e.slice(u+1),i)}return}else if(d.endsWith("[0]")){const p=d.slice(0,-3);p in t||(t[p]=[{}]);const y=t[p];f(y[0],e.slice(u+1),i);return}(!t[d]||typeof t[d]!="object")&&(t[d]={}),t=t[d]}const s=e[e.length-1],a=t[s];if(a!==void 0){if(!i||typeof i=="object"&&Object.keys(i).length===0||i===a)return;if(typeof a=="object"&&typeof i=="object"&&a!==null&&i!==null)Object.assign(a,i);else throw new Error(`Cannot set value for an existing key. Key: ${s}`)}else s==="_self"&&typeof i=="object"&&i!==null&&!Array.isArray(i)?Object.assign(t,i):t[s]=i}function c(t,e,i=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let s=0;s<e.length;s++){if(typeof t!="object"||t===null)return i;const a=e[s];if(a.endsWith("[]")){const u=a.slice(0,-2);if(u in t){const d=t[u];return Array.isArray(d)?d.map(p=>c(p,e.slice(s+1),i)):i}else return i}else t=t[a]}return t}catch(s){if(s instanceof TypeError)return i;throw s}}function mx(t,e){for(const[i,s]of Object.entries(e)){const a=i.split("."),u=s.split("."),d=new Set;let p=-1;for(let y=0;y<a.length;y++)if(a[y]==="*"){p=y;break}if(p!==-1&&u.length>p)for(let y=p;y<u.length;y++){const m=u[y];m!=="*"&&!m.endsWith("[]")&&!m.endsWith("[0]")&&d.add(m)}yd(t,a,u,0,d)}}function yd(t,e,i,s,a){if(s>=e.length||typeof t!="object"||t===null)return;const u=e[s];if(u.endsWith("[]")){const d=u.slice(0,-2),p=t;if(d in p&&Array.isArray(p[d]))for(const y of p[d])yd(y,e,i,s+1,a)}else if(u==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const d=t,p=Object.keys(d).filter(m=>!m.startsWith("_")&&!a.has(m)),y={};for(const m of p)y[m]=d[m];for(const[m,v]of Object.entries(y)){const S=[];for(const E of i.slice(s))E==="*"?S.push(m):S.push(E);f(d,S,v)}for(const m of p)delete d[m]}}else{const d=t;u in d&&yd(d[u],e,i,s+1,a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Jd(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gx(t){const e={},i=c(t,["operationName"]);i!=null&&f(e,["operationName"],i);const s=c(t,["resourceName"]);return s!=null&&f(e,["_url","resourceName"],s),e}function yx(t){const e={},i=c(t,["name"]);i!=null&&f(e,["name"],i);const s=c(t,["metadata"]);s!=null&&f(e,["metadata"],s);const a=c(t,["done"]);a!=null&&f(e,["done"],a);const u=c(t,["error"]);u!=null&&f(e,["error"],u);const d=c(t,["response","generateVideoResponse"]);return d!=null&&f(e,["response"],_x(d)),e}function vx(t){const e={},i=c(t,["name"]);i!=null&&f(e,["name"],i);const s=c(t,["metadata"]);s!=null&&f(e,["metadata"],s);const a=c(t,["done"]);a!=null&&f(e,["done"],a);const u=c(t,["error"]);u!=null&&f(e,["error"],u);const d=c(t,["response"]);return d!=null&&f(e,["response"],Tx(d)),e}function _x(t){const e={},i=c(t,["generatedSamples"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(d=>Sx(d))),f(e,["generatedVideos"],u)}const s=c(t,["raiMediaFilteredCount"]);s!=null&&f(e,["raiMediaFilteredCount"],s);const a=c(t,["raiMediaFilteredReasons"]);return a!=null&&f(e,["raiMediaFilteredReasons"],a),e}function Tx(t){const e={},i=c(t,["videos"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(d=>Ex(d))),f(e,["generatedVideos"],u)}const s=c(t,["raiMediaFilteredCount"]);s!=null&&f(e,["raiMediaFilteredCount"],s);const a=c(t,["raiMediaFilteredReasons"]);return a!=null&&f(e,["raiMediaFilteredReasons"],a),e}function Sx(t){const e={},i=c(t,["video"]);return i!=null&&f(e,["video"],Nx(i)),e}function Ex(t){const e={},i=c(t,["_self"]);return i!=null&&f(e,["video"],Ix(i)),e}function Cx(t){const e={},i=c(t,["operationName"]);return i!=null&&f(e,["_url","operationName"],i),e}function xx(t){const e={},i=c(t,["operationName"]);return i!=null&&f(e,["_url","operationName"],i),e}function Ax(t){const e={},i=c(t,["name"]);i!=null&&f(e,["name"],i);const s=c(t,["metadata"]);s!=null&&f(e,["metadata"],s);const a=c(t,["done"]);a!=null&&f(e,["done"],a);const u=c(t,["error"]);u!=null&&f(e,["error"],u);const d=c(t,["response"]);return d!=null&&f(e,["response"],bx(d)),e}function bx(t){const e={},i=c(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const s=c(t,["parent"]);s!=null&&f(e,["parent"],s);const a=c(t,["documentName"]);return a!=null&&f(e,["documentName"],a),e}function av(t){const e={},i=c(t,["name"]);i!=null&&f(e,["name"],i);const s=c(t,["metadata"]);s!=null&&f(e,["metadata"],s);const a=c(t,["done"]);a!=null&&f(e,["done"],a);const u=c(t,["error"]);u!=null&&f(e,["error"],u);const d=c(t,["response"]);return d!=null&&f(e,["response"],wx(d)),e}function wx(t){const e={},i=c(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const s=c(t,["parent"]);s!=null&&f(e,["parent"],s);const a=c(t,["documentName"]);return a!=null&&f(e,["documentName"],a),e}function Nx(t){const e={},i=c(t,["uri"]);i!=null&&f(e,["uri"],i);const s=c(t,["encodedVideo"]);s!=null&&f(e,["videoBytes"],Jd(s));const a=c(t,["encoding"]);return a!=null&&f(e,["mimeType"],a),e}function Ix(t){const e={},i=c(t,["gcsUri"]);i!=null&&f(e,["uri"],i);const s=c(t,["bytesBase64Encoded"]);s!=null&&f(e,["videoBytes"],Jd(s));const a=c(t,["mimeType"]);return a!=null&&f(e,["mimeType"],a),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Dg;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Dg||(Dg={}));var Ug;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(Ug||(Ug={}));var kg;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(kg||(kg={}));var ue;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(ue||(ue={}));var Lg;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Lg||(Lg={}));var Pg;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(Pg||(Pg={}));var Og;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Og||(Og={}));var Hg;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Hg||(Hg={}));var Gg;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(Gg||(Gg={}));var zg;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(zg||(zg={}));var Vg;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(Vg||(Vg={}));var Bg;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(Bg||(Bg={}));var qg;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(qg||(qg={}));var Fg;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(Fg||(Fg={}));var Yg;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(Yg||(Yg={}));var Jg;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(Jg||(Jg={}));var $g;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})($g||($g={}));var Kg;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Kg||(Kg={}));var Xg;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Xg||(Xg={}));var Qg;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(Qg||(Qg={}));var Wg;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Wg||(Wg={}));var ll;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(ll||(ll={}));var Zg;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Zg||(Zg={}));var jg;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(jg||(jg={}));var ey;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(ey||(ey={}));var vd;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(vd||(vd={}));var ty;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(ty||(ty={}));var ny;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(ny||(ny={}));var _d;(function(t){t.COLLECTION="COLLECTION"})(_d||(_d={}));var iy;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(iy||(iy={}));var oy;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(oy||(oy={}));var sy;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(sy||(sy={}));var ry;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(ry||(ry={}));var ay;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(ay||(ay={}));var ly;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(ly||(ly={}));var uy;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(uy||(uy={}));var cy;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(cy||(cy={}));var dy;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(dy||(dy={}));var fy;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(fy||(fy={}));var hy;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(hy||(hy={}));var py;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(py||(py={}));var my;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(my||(my={}));var gy;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(gy||(gy={}));var yy;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(yy||(yy={}));var vy;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(vy||(vy={}));var _y;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED",t.REGISTERED="REGISTERED"})(_y||(_y={}));var Ty;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Ty||(Ty={}));var Sy;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(Sy||(Sy={}));var Ey;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(Ey||(Ey={}));var Cy;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.ACTIVITY_START="ACTIVITY_START",t.ACTIVITY_END="ACTIVITY_END"})(Cy||(Cy={}));var xy;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(xy||(xy={}));var Ay;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Ay||(Ay={}));var by;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(by||(by={}));var wy;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(wy||(wy={}));var Ny;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Ny||(Ny={}));var Iy;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(Iy||(Iy={}));var is;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(is||(is={}));class Td{constructor(e){const i={};for(const s of e.headers.entries())i[s[0]]=s[1];this.headers=i,this.responseInternal=e}json(){return this.responseInternal.json()}}class pr{get text(){var e,i,s,a,u,d,p,y;if(((a=(s=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||s===void 0?void 0:s.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let m="",v=!1;const S=[];for(const E of(y=(p=(d=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.content)===null||p===void 0?void 0:p.parts)!==null&&y!==void 0?y:[]){for(const[x,N]of Object.entries(E))x!=="text"&&x!=="thought"&&x!=="thoughtSignature"&&(N!==null||N!==void 0)&&S.push(x);if(typeof E.text=="string"){if(typeof E.thought=="boolean"&&E.thought)continue;v=!0,m+=E.text}}return S.length>0&&console.warn(`there are non-text parts ${S} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?m:void 0}get data(){var e,i,s,a,u,d,p,y;if(((a=(s=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||s===void 0?void 0:s.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let m="";const v=[];for(const S of(y=(p=(d=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.content)===null||p===void 0?void 0:p.parts)!==null&&y!==void 0?y:[]){for(const[E,x]of Object.entries(S))E!=="inlineData"&&(x!==null||x!==void 0)&&v.push(E);S.inlineData&&typeof S.inlineData.data=="string"&&(m+=atob(S.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),m.length>0?btoa(m):void 0}get functionCalls(){var e,i,s,a,u,d,p,y;if(((a=(s=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||s===void 0?void 0:s.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const m=(y=(p=(d=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.content)===null||p===void 0?void 0:p.parts)===null||y===void 0?void 0:y.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((m==null?void 0:m.length)!==0)return m}get executableCode(){var e,i,s,a,u,d,p,y,m;if(((a=(s=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||s===void 0?void 0:s.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(y=(p=(d=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.content)===null||p===void 0?void 0:p.parts)===null||y===void 0?void 0:y.filter(S=>S.executableCode).map(S=>S.executableCode).filter(S=>S!==void 0);if((v==null?void 0:v.length)!==0)return(m=v==null?void 0:v[0])===null||m===void 0?void 0:m.code}get codeExecutionResult(){var e,i,s,a,u,d,p,y,m;if(((a=(s=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||s===void 0?void 0:s.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(y=(p=(d=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.content)===null||p===void 0?void 0:p.parts)===null||y===void 0?void 0:y.filter(S=>S.codeExecutionResult).map(S=>S.codeExecutionResult).filter(S=>S!==void 0);if((v==null?void 0:v.length)!==0)return(m=v==null?void 0:v[0])===null||m===void 0?void 0:m.output}}class Ry{}class My{}class Rx{}class Mx{}class Dx{}class Ux{}class Dy{}class Uy{}class ky{}class kx{}class ul{_fromAPIResponse({apiResponse:e,_isVertexAI:i}){const s=new ul;let a;const u=e;return i?a=vx(u):a=yx(u),Object.assign(s,a),s}}class Ly{}class Py{}class Oy{}class Hy{}class Lx{}class Px{}class Ox{}class $d{_fromAPIResponse({apiResponse:e,_isVertexAI:i}){const s=new $d,u=Ax(e);return Object.assign(s,u),s}}class Hx{}class Gx{}class zx{}class Gy{}class Vx{get text(){var e,i,s;let a="",u=!1;const d=[];for(const p of(s=(i=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||i===void 0?void 0:i.parts)!==null&&s!==void 0?s:[]){for(const[y,m]of Object.entries(p))y!=="text"&&y!=="thought"&&m!==null&&d.push(y);if(typeof p.text=="string"){if(typeof p.thought=="boolean"&&p.thought)continue;u=!0,a+=p.text}}return d.length>0&&console.warn(`there are non-text parts ${d} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),u?a:void 0}get data(){var e,i,s;let a="";const u=[];for(const d of(s=(i=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||i===void 0?void 0:i.parts)!==null&&s!==void 0?s:[]){for(const[p,y]of Object.entries(d))p!=="inlineData"&&y!==null&&u.push(p);d.inlineData&&typeof d.inlineData.data=="string"&&(a+=atob(d.inlineData.data))}return u.length>0&&console.warn(`there are non-data parts ${u} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),a.length>0?btoa(a):void 0}}class Bx{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Kd{_fromAPIResponse({apiResponse:e,_isVertexAI:i}){const s=new Kd,u=av(e);return Object.assign(s,u),s}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function De(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const i=e.split("/",2);return`publishers/${i[0]}/models/${i[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function lv(t,e){const i=De(t,e);return i?i.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${i}`:i.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${i}`:i:""}function uv(t){return Array.isArray(t)?t.map(e=>cl(e)):[cl(t)]}function cl(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function cv(t){const e=cl(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function dv(t){const e=cl(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function zy(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function fv(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>zy(e)):[zy(t)]}function Sd(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function Vy(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function By(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function ht(t){if(t==null)throw new Error("ContentUnion is required");return Sd(t)?t:{role:"user",parts:fv(t)}}function Xd(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(i=>{const s=ht(i);return s.parts&&s.parts.length>0&&s.parts[0].text!==void 0?[s.parts[0].text]:[]});if(t.isVertexAI()){const i=ht(e);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]}return Array.isArray(e)?e.map(i=>ht(i)):[ht(e)]}function Xt(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(Vy(t)||By(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[ht(t)]}const e=[],i=[],s=Sd(t[0]);for(const a of t){const u=Sd(a);if(u!=s)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(u)e.push(a);else{if(Vy(a)||By(a))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");i.push(a)}}return s||e.push({role:"user",parts:fv(i)}),e}function qx(t,e){t.includes("null")&&(e.nullable=!0);const i=t.filter(s=>s!=="null");if(i.length===1)e.type=Object.values(ue).includes(i[0].toUpperCase())?i[0].toUpperCase():ue.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const s of i)e.anyOf.push({type:Object.values(ue).includes(s.toUpperCase())?s.toUpperCase():ue.TYPE_UNSPECIFIED})}}function as(t){const e={},i=["items"],s=["anyOf"],a=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const u=t.anyOf;u!=null&&u.length==2&&(u[0].type==="null"?(e.nullable=!0,t=u[1]):u[1].type==="null"&&(e.nullable=!0,t=u[0])),t.type instanceof Array&&qx(t.type,e);for(const[d,p]of Object.entries(t))if(p!=null)if(d=="type"){if(p==="null")throw new Error("type: null can not be the only possible type for the field.");if(p instanceof Array)continue;e.type=Object.values(ue).includes(p.toUpperCase())?p.toUpperCase():ue.TYPE_UNSPECIFIED}else if(i.includes(d))e[d]=as(p);else if(s.includes(d)){const y=[];for(const m of p){if(m.type=="null"){e.nullable=!0;continue}y.push(as(m))}e[d]=y}else if(a.includes(d)){const y={};for(const[m,v]of Object.entries(p))y[m]=as(v);e[d]=y}else{if(d==="additionalProperties")continue;e[d]=p}return e}function Qd(t){return as(t)}function Wd(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Zd(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function ps(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=as(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=as(e.response));return t}function ms(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const i of t)e.push(i);return e}function Fx(t,e,i,s=1){const a=!e.startsWith(`${i}/`)&&e.split("/").length===s;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${i}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:a?`projects/${t.getProject()}/locations/${t.getLocation()}/${i}/${e}`:e:a?`${i}/${e}`:e}function Zn(t,e){if(typeof e!="string")throw new Error("name must be a string");return Fx(t,e,"cachedContents")}function hv(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function ki(t){return Jd(t)}function Yx(t){return t!=null&&typeof t=="object"&&"name"in t}function Jx(t){return t!=null&&typeof t=="object"&&"video"in t}function $x(t){return t!=null&&typeof t=="object"&&"uri"in t}function pv(t){var e;let i;if(Yx(t)&&(i=t.name),!($x(t)&&(i=t.uri,i===void 0))&&!(Jx(t)&&(i=(e=t.video)===null||e===void 0?void 0:e.uri,i===void 0))){if(typeof t=="string"&&(i=t),i===void 0)throw new Error("Could not extract file name from the provided input.");if(i.startsWith("https://")){const a=i.split("files/")[1].match(/[a-z0-9]+/);if(a===null)throw new Error(`Could not extract file name from URI ${i}`);i=a[0]}else i.startsWith("files/")&&(i=i.split("files/")[1]);return i}}function mv(t,e){let i;return t.isVertexAI()?i=e?"publishers/google/models":"models":i=e?"models":"tunedModels",i}function gv(t){for(const e of["models","tunedModels","publisherModels"])if(Kx(t,e))return t[e];return[]}function Kx(t,e){return t!==null&&typeof t=="object"&&e in t}function Xx(t,e={}){const i=t,s={name:i.name,description:i.description,parametersJsonSchema:i.inputSchema};return i.outputSchema&&(s.responseJsonSchema=i.outputSchema),e.behavior&&(s.behavior=e.behavior),{functionDeclarations:[s]}}function Qx(t,e={}){const i=[],s=new Set;for(const a of t){const u=a.name;if(s.has(u))throw new Error(`Duplicate function name ${u} found in MCP tools. Please ensure function names are unique.`);s.add(u);const d=Xx(a,e);d.functionDeclarations&&i.push(...d.functionDeclarations)}return{functionDeclarations:i}}function yv(t,e){let i;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))i={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))i={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))i={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");i={inlinedRequests:e}}else i=e;const s=[i.gcsUri,i.bigqueryUri].filter(Boolean).length,a=[i.inlinedRequests,i.fileName].filter(Boolean).length;if(t.isVertexAI()){if(a>0||s!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(s>0||a!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return i}function Wx(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function vv(t){if(typeof t!="object"||t===null)return{};const e=t,i=e.inlinedResponses;if(typeof i!="object"||i===null)return t;const a=i.inlinedResponses;if(!Array.isArray(a)||a.length===0)return t;let u=!1;for(const d of a){if(typeof d!="object"||d===null)continue;const y=d.response;if(typeof y!="object"||y===null)continue;if(y.embedding!==void 0){u=!0;break}}return u&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function gs(t,e){const i=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(i))return i.split("/").pop();throw new Error(`Invalid batch job name: ${i}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(i))return i.split("/").pop();if(/^\d+$/.test(i))return i;throw new Error(`Invalid batch job name: ${i}.`)}function _v(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Zx(t){const e={},i=c(t,["responsesFile"]);i!=null&&f(e,["fileName"],i);const s=c(t,["inlinedResponses","inlinedResponses"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>DA(d))),f(e,["inlinedResponses"],u)}const a=c(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>d)),f(e,["inlinedEmbedContentResponses"],u)}return e}function jx(t){const e={},i=c(t,["predictionsFormat"]);i!=null&&f(e,["format"],i);const s=c(t,["gcsDestination","outputUriPrefix"]);s!=null&&f(e,["gcsUri"],s);const a=c(t,["bigqueryDestination","outputUri"]);return a!=null&&f(e,["bigqueryUri"],a),e}function eA(t){const e={},i=c(t,["format"]);i!=null&&f(e,["predictionsFormat"],i);const s=c(t,["gcsUri"]);s!=null&&f(e,["gcsDestination","outputUriPrefix"],s);const a=c(t,["bigqueryUri"]);if(a!=null&&f(e,["bigqueryDestination","outputUri"],a),c(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(c(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(c(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function tl(t){const e={},i=c(t,["name"]);i!=null&&f(e,["name"],i);const s=c(t,["metadata","displayName"]);s!=null&&f(e,["displayName"],s);const a=c(t,["metadata","state"]);a!=null&&f(e,["state"],_v(a));const u=c(t,["metadata","createTime"]);u!=null&&f(e,["createTime"],u);const d=c(t,["metadata","endTime"]);d!=null&&f(e,["endTime"],d);const p=c(t,["metadata","updateTime"]);p!=null&&f(e,["updateTime"],p);const y=c(t,["metadata","model"]);y!=null&&f(e,["model"],y);const m=c(t,["metadata","output"]);return m!=null&&f(e,["dest"],Zx(vv(m))),e}function Ed(t){const e={},i=c(t,["name"]);i!=null&&f(e,["name"],i);const s=c(t,["displayName"]);s!=null&&f(e,["displayName"],s);const a=c(t,["state"]);a!=null&&f(e,["state"],_v(a));const u=c(t,["error"]);u!=null&&f(e,["error"],u);const d=c(t,["createTime"]);d!=null&&f(e,["createTime"],d);const p=c(t,["startTime"]);p!=null&&f(e,["startTime"],p);const y=c(t,["endTime"]);y!=null&&f(e,["endTime"],y);const m=c(t,["updateTime"]);m!=null&&f(e,["updateTime"],m);const v=c(t,["model"]);v!=null&&f(e,["model"],v);const S=c(t,["inputConfig"]);S!=null&&f(e,["src"],tA(S));const E=c(t,["outputConfig"]);E!=null&&f(e,["dest"],jx(vv(E)));const x=c(t,["completionStats"]);return x!=null&&f(e,["completionStats"],x),e}function tA(t){const e={},i=c(t,["instancesFormat"]);i!=null&&f(e,["format"],i);const s=c(t,["gcsSource","uris"]);s!=null&&f(e,["gcsUri"],s);const a=c(t,["bigquerySource","inputUri"]);return a!=null&&f(e,["bigqueryUri"],a),e}function nA(t,e){const i={};if(c(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(c(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(c(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const s=c(e,["fileName"]);s!=null&&f(i,["fileName"],s);const a=c(e,["inlinedRequests"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>MA(t,d))),f(i,["requests","requests"],u)}return i}function iA(t){const e={},i=c(t,["format"]);i!=null&&f(e,["instancesFormat"],i);const s=c(t,["gcsUri"]);s!=null&&f(e,["gcsSource","uris"],s);const a=c(t,["bigqueryUri"]);if(a!=null&&f(e,["bigquerySource","inputUri"],a),c(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(c(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function oA(t){const e={},i=c(t,["data"]);if(i!=null&&f(e,["data"],i),c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=c(t,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function sA(t,e){const i={},s=c(e,["name"]);return s!=null&&f(i,["_url","name"],gs(t,s)),i}function rA(t,e){const i={},s=c(e,["name"]);return s!=null&&f(i,["_url","name"],gs(t,s)),i}function aA(t){const e={},i=c(t,["content"]);i!=null&&f(e,["content"],i);const s=c(t,["citationMetadata"]);s!=null&&f(e,["citationMetadata"],lA(s));const a=c(t,["tokenCount"]);a!=null&&f(e,["tokenCount"],a);const u=c(t,["finishReason"]);u!=null&&f(e,["finishReason"],u);const d=c(t,["avgLogprobs"]);d!=null&&f(e,["avgLogprobs"],d);const p=c(t,["groundingMetadata"]);p!=null&&f(e,["groundingMetadata"],p);const y=c(t,["index"]);y!=null&&f(e,["index"],y);const m=c(t,["logprobsResult"]);m!=null&&f(e,["logprobsResult"],m);const v=c(t,["safetyRatings"]);if(v!=null){let E=v;Array.isArray(E)&&(E=E.map(x=>x)),f(e,["safetyRatings"],E)}const S=c(t,["urlContextMetadata"]);return S!=null&&f(e,["urlContextMetadata"],S),e}function lA(t){const e={},i=c(t,["citationSources"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),f(e,["citations"],s)}return e}function Tv(t){const e={},i=c(t,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>GA(u))),f(e,["parts"],a)}const s=c(t,["role"]);return s!=null&&f(e,["role"],s),e}function uA(t,e){const i={},s=c(t,["displayName"]);if(e!==void 0&&s!=null&&f(e,["batch","displayName"],s),c(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return i}function cA(t,e){const i={},s=c(t,["displayName"]);e!==void 0&&s!=null&&f(e,["displayName"],s);const a=c(t,["dest"]);return e!==void 0&&a!=null&&f(e,["outputConfig"],eA(Wx(a))),i}function qy(t,e){const i={},s=c(e,["model"]);s!=null&&f(i,["_url","model"],De(t,s));const a=c(e,["src"]);a!=null&&f(i,["batch","inputConfig"],nA(t,yv(t,a)));const u=c(e,["config"]);return u!=null&&uA(u,i),i}function dA(t,e){const i={},s=c(e,["model"]);s!=null&&f(i,["model"],De(t,s));const a=c(e,["src"]);a!=null&&f(i,["inputConfig"],iA(yv(t,a)));const u=c(e,["config"]);return u!=null&&cA(u,i),i}function fA(t,e){const i={},s=c(t,["displayName"]);return e!==void 0&&s!=null&&f(e,["batch","displayName"],s),i}function hA(t,e){const i={},s=c(e,["model"]);s!=null&&f(i,["_url","model"],De(t,s));const a=c(e,["src"]);a!=null&&f(i,["batch","inputConfig"],TA(t,a));const u=c(e,["config"]);return u!=null&&fA(u,i),i}function pA(t,e){const i={},s=c(e,["name"]);return s!=null&&f(i,["_url","name"],gs(t,s)),i}function mA(t,e){const i={},s=c(e,["name"]);return s!=null&&f(i,["_url","name"],gs(t,s)),i}function gA(t){const e={},i=c(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const s=c(t,["name"]);s!=null&&f(e,["name"],s);const a=c(t,["done"]);a!=null&&f(e,["done"],a);const u=c(t,["error"]);return u!=null&&f(e,["error"],u),e}function yA(t){const e={},i=c(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const s=c(t,["name"]);s!=null&&f(e,["name"],s);const a=c(t,["done"]);a!=null&&f(e,["done"],a);const u=c(t,["error"]);return u!=null&&f(e,["error"],u),e}function vA(t,e){const i={},s=c(e,["contents"]);if(s!=null){let u=Xd(t,s);Array.isArray(u)&&(u=u.map(d=>d)),f(i,["requests[]","request","content"],u)}const a=c(e,["config"]);return a!=null&&(f(i,["_self"],_A(a,i)),mx(i,{"requests[].*":"requests[].request.*"})),i}function _A(t,e){const i={},s=c(t,["taskType"]);e!==void 0&&s!=null&&f(e,["requests[]","taskType"],s);const a=c(t,["title"]);e!==void 0&&a!=null&&f(e,["requests[]","title"],a);const u=c(t,["outputDimensionality"]);if(e!==void 0&&u!=null&&f(e,["requests[]","outputDimensionality"],u),c(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(c(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function TA(t,e){const i={},s=c(e,["fileName"]);s!=null&&f(i,["file_name"],s);const a=c(e,["inlinedRequests"]);return a!=null&&f(i,["requests"],vA(t,a)),i}function SA(t){const e={};if(c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=c(t,["fileUri"]);i!=null&&f(e,["fileUri"],i);const s=c(t,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function EA(t){const e={},i=c(t,["id"]);i!=null&&f(e,["id"],i);const s=c(t,["args"]);s!=null&&f(e,["args"],s);const a=c(t,["name"]);if(a!=null&&f(e,["name"],a),c(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function CA(t){const e={},i=c(t,["allowedFunctionNames"]);i!=null&&f(e,["allowedFunctionNames"],i);const s=c(t,["mode"]);if(s!=null&&f(e,["mode"],s),c(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function xA(t,e,i){const s={},a=c(e,["systemInstruction"]);i!==void 0&&a!=null&&f(i,["systemInstruction"],Tv(ht(a)));const u=c(e,["temperature"]);u!=null&&f(s,["temperature"],u);const d=c(e,["topP"]);d!=null&&f(s,["topP"],d);const p=c(e,["topK"]);p!=null&&f(s,["topK"],p);const y=c(e,["candidateCount"]);y!=null&&f(s,["candidateCount"],y);const m=c(e,["maxOutputTokens"]);m!=null&&f(s,["maxOutputTokens"],m);const v=c(e,["stopSequences"]);v!=null&&f(s,["stopSequences"],v);const S=c(e,["responseLogprobs"]);S!=null&&f(s,["responseLogprobs"],S);const E=c(e,["logprobs"]);E!=null&&f(s,["logprobs"],E);const x=c(e,["presencePenalty"]);x!=null&&f(s,["presencePenalty"],x);const N=c(e,["frequencyPenalty"]);N!=null&&f(s,["frequencyPenalty"],N);const k=c(e,["seed"]);k!=null&&f(s,["seed"],k);const U=c(e,["responseMimeType"]);U!=null&&f(s,["responseMimeType"],U);const P=c(e,["responseSchema"]);P!=null&&f(s,["responseSchema"],Qd(P));const q=c(e,["responseJsonSchema"]);if(q!=null&&f(s,["responseJsonSchema"],q),c(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(c(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const F=c(e,["safetySettings"]);if(i!==void 0&&F!=null){let Se=F;Array.isArray(Se)&&(Se=Se.map(Ye=>zA(Ye))),f(i,["safetySettings"],Se)}const $=c(e,["tools"]);if(i!==void 0&&$!=null){let Se=ms($);Array.isArray(Se)&&(Se=Se.map(Ye=>BA(ps(Ye)))),f(i,["tools"],Se)}const Y=c(e,["toolConfig"]);if(i!==void 0&&Y!=null&&f(i,["toolConfig"],VA(Y)),c(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const te=c(e,["cachedContent"]);i!==void 0&&te!=null&&f(i,["cachedContent"],Zn(t,te));const K=c(e,["responseModalities"]);K!=null&&f(s,["responseModalities"],K);const he=c(e,["mediaResolution"]);he!=null&&f(s,["mediaResolution"],he);const Z=c(e,["speechConfig"]);if(Z!=null&&f(s,["speechConfig"],Wd(Z)),c(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const de=c(e,["thinkingConfig"]);de!=null&&f(s,["thinkingConfig"],de);const ge=c(e,["imageConfig"]);ge!=null&&f(s,["imageConfig"],RA(ge));const ye=c(e,["enableEnhancedCivicAnswers"]);if(ye!=null&&f(s,["enableEnhancedCivicAnswers"],ye),c(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return s}function AA(t){const e={},i=c(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const s=c(t,["candidates"]);if(s!=null){let y=s;Array.isArray(y)&&(y=y.map(m=>aA(m))),f(e,["candidates"],y)}const a=c(t,["modelVersion"]);a!=null&&f(e,["modelVersion"],a);const u=c(t,["promptFeedback"]);u!=null&&f(e,["promptFeedback"],u);const d=c(t,["responseId"]);d!=null&&f(e,["responseId"],d);const p=c(t,["usageMetadata"]);return p!=null&&f(e,["usageMetadata"],p),e}function bA(t,e){const i={},s=c(e,["name"]);return s!=null&&f(i,["_url","name"],gs(t,s)),i}function wA(t,e){const i={},s=c(e,["name"]);return s!=null&&f(i,["_url","name"],gs(t,s)),i}function NA(t){const e={};if(c(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=c(t,["enableWidget"]);return i!=null&&f(e,["enableWidget"],i),e}function IA(t){const e={};if(c(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=c(t,["timeRangeFilter"]);return i!=null&&f(e,["timeRangeFilter"],i),e}function RA(t){const e={},i=c(t,["aspectRatio"]);i!=null&&f(e,["aspectRatio"],i);const s=c(t,["imageSize"]);if(s!=null&&f(e,["imageSize"],s),c(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(c(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(c(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function MA(t,e){const i={},s=c(e,["model"]);s!=null&&f(i,["request","model"],De(t,s));const a=c(e,["contents"]);if(a!=null){let p=Xt(a);Array.isArray(p)&&(p=p.map(y=>Tv(y))),f(i,["request","contents"],p)}const u=c(e,["metadata"]);u!=null&&f(i,["metadata"],u);const d=c(e,["config"]);return d!=null&&f(i,["request","generationConfig"],xA(t,d,c(i,["request"],{}))),i}function DA(t){const e={},i=c(t,["response"]);i!=null&&f(e,["response"],AA(i));const s=c(t,["error"]);return s!=null&&f(e,["error"],s),e}function UA(t,e){const i={},s=c(t,["pageSize"]);e!==void 0&&s!=null&&f(e,["_query","pageSize"],s);const a=c(t,["pageToken"]);if(e!==void 0&&a!=null&&f(e,["_query","pageToken"],a),c(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return i}function kA(t,e){const i={},s=c(t,["pageSize"]);e!==void 0&&s!=null&&f(e,["_query","pageSize"],s);const a=c(t,["pageToken"]);e!==void 0&&a!=null&&f(e,["_query","pageToken"],a);const u=c(t,["filter"]);return e!==void 0&&u!=null&&f(e,["_query","filter"],u),i}function LA(t){const e={},i=c(t,["config"]);return i!=null&&UA(i,e),e}function PA(t){const e={},i=c(t,["config"]);return i!=null&&kA(i,e),e}function OA(t){const e={},i=c(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const s=c(t,["nextPageToken"]);s!=null&&f(e,["nextPageToken"],s);const a=c(t,["operations"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>tl(d))),f(e,["batchJobs"],u)}return e}function HA(t){const e={},i=c(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const s=c(t,["nextPageToken"]);s!=null&&f(e,["nextPageToken"],s);const a=c(t,["batchPredictionJobs"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>Ed(d))),f(e,["batchJobs"],u)}return e}function GA(t){const e={},i=c(t,["mediaResolution"]);i!=null&&f(e,["mediaResolution"],i);const s=c(t,["codeExecutionResult"]);s!=null&&f(e,["codeExecutionResult"],s);const a=c(t,["executableCode"]);a!=null&&f(e,["executableCode"],a);const u=c(t,["fileData"]);u!=null&&f(e,["fileData"],SA(u));const d=c(t,["functionCall"]);d!=null&&f(e,["functionCall"],EA(d));const p=c(t,["functionResponse"]);p!=null&&f(e,["functionResponse"],p);const y=c(t,["inlineData"]);y!=null&&f(e,["inlineData"],oA(y));const m=c(t,["text"]);m!=null&&f(e,["text"],m);const v=c(t,["thought"]);v!=null&&f(e,["thought"],v);const S=c(t,["thoughtSignature"]);S!=null&&f(e,["thoughtSignature"],S);const E=c(t,["videoMetadata"]);return E!=null&&f(e,["videoMetadata"],E),e}function zA(t){const e={},i=c(t,["category"]);if(i!=null&&f(e,["category"],i),c(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=c(t,["threshold"]);return s!=null&&f(e,["threshold"],s),e}function VA(t){const e={},i=c(t,["retrievalConfig"]);i!=null&&f(e,["retrievalConfig"],i);const s=c(t,["functionCallingConfig"]);return s!=null&&f(e,["functionCallingConfig"],CA(s)),e}function BA(t){const e={};if(c(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=c(t,["computerUse"]);i!=null&&f(e,["computerUse"],i);const s=c(t,["fileSearch"]);s!=null&&f(e,["fileSearch"],s);const a=c(t,["codeExecution"]);if(a!=null&&f(e,["codeExecution"],a),c(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=c(t,["functionDeclarations"]);if(u!=null){let v=u;Array.isArray(v)&&(v=v.map(S=>S)),f(e,["functionDeclarations"],v)}const d=c(t,["googleMaps"]);d!=null&&f(e,["googleMaps"],NA(d));const p=c(t,["googleSearch"]);p!=null&&f(e,["googleSearch"],IA(p));const y=c(t,["googleSearchRetrieval"]);y!=null&&f(e,["googleSearchRetrieval"],y);const m=c(t,["urlContext"]);return m!=null&&f(e,["urlContext"],m),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var $n;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})($n||($n={}));class po{constructor(e,i,s,a){this.pageInternal=[],this.paramsInternal={},this.requestInternal=i,this.init(e,s,a)}init(e,i,s){var a,u;this.nameInternal=e,this.pageInternal=i[this.nameInternal]||[],this.sdkHttpResponseInternal=i==null?void 0:i.sdkHttpResponse,this.idxInternal=0;let d={config:{}};!s||Object.keys(s).length===0?d={config:{}}:typeof s=="object"?d=Object.assign({},s):d=s,d.config&&(d.config.pageToken=i.nextPageToken),this.paramsInternal=d,this.pageInternalSize=(u=(a=d.config)===null||a===void 0?void 0:a.pageSize)!==null&&u!==void 0?u:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qA extends Wn{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new po($n.PAGED_ITEM_BATCH_JOBS,s=>this.listInternal(s),await this.listInternal(i),i),this.create=async i=>(this.apiClient.isVertexAI()&&(i.config=this.formatDestination(i.src,i.config)),this.createInternal(i)),this.createEmbeddings=async i=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(i)}}createInlinedGenerateContentRequest(e){const i=qy(this.apiClient,e),s=i._url,a=W("{model}:batchGenerateContent",s),p=i.batch.inputConfig.requests,y=p.requests,m=[];for(const v of y){const S=Object.assign({},v);if(S.systemInstruction){const E=S.systemInstruction;delete S.systemInstruction;const x=S.request;x.systemInstruction=E,S.request=x}m.push(S)}return p.requests=m,delete i.config,delete i._url,delete i._query,{path:a,body:i}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,i){const s=i?Object.assign({},i):{},a=Date.now().toString();if(s.displayName||(s.displayName=`genaiBatchJob_${a}`),s.dest===void 0){const u=this.getGcsUri(e),d=this.getBigqueryUri(e);if(u)u.endsWith(".jsonl")?s.dest=`${u.slice(0,-6)}/dest`:s.dest=`${u}_dest_${a}`;else if(d)s.dest=`${d}_dest_${a}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return s}async createInternal(e){var i,s,a,u;let d,p="",y={};if(this.apiClient.isVertexAI()){const m=dA(this.apiClient,e);return p=W("batchPredictionJobs",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),d.then(v=>Ed(v))}else{const m=qy(this.apiClient,e);return p=W("{model}:batchGenerateContent",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d.then(v=>tl(v))}}async createEmbeddingsInternal(e){var i,s;let a,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=hA(this.apiClient,e);return u=W("{model}:asyncBatchEmbedContent",p._url),d=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),a.then(y=>tl(y))}}async get(e){var i,s,a,u;let d,p="",y={};if(this.apiClient.isVertexAI()){const m=wA(this.apiClient,e);return p=W("batchPredictionJobs/{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),d.then(v=>Ed(v))}else{const m=bA(this.apiClient,e);return p=W("batches/{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d.then(v=>tl(v))}}async cancel(e){var i,s,a,u;let d="",p={};if(this.apiClient.isVertexAI()){const y=rA(this.apiClient,e);d=W("batchPredictionJobs/{name}:cancel",y._url),p=y._query,delete y._url,delete y._query,await this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}else{const y=sA(this.apiClient,e);d=W("batches/{name}:cancel",y._url),p=y._query,delete y._url,delete y._query,await this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal})}}async listInternal(e){var i,s,a,u;let d,p="",y={};if(this.apiClient.isVertexAI()){const m=PA(e);return p=W("batchPredictionJobs",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const S=HA(v),E=new Gy;return Object.assign(E,S),E})}else{const m=LA(e);return p=W("batches",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const S=OA(v),E=new Gy;return Object.assign(E,S),E})}}async delete(e){var i,s,a,u;let d,p="",y={};if(this.apiClient.isVertexAI()){const m=mA(this.apiClient,e);return p=W("batchPredictionJobs/{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>yA(v))}else{const m=pA(this.apiClient,e);return p=W("batches/{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>gA(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function FA(t){const e={},i=c(t,["data"]);if(i!=null&&f(e,["data"],i),c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=c(t,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function Fy(t){const e={},i=c(t,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>hb(u))),f(e,["parts"],a)}const s=c(t,["role"]);return s!=null&&f(e,["role"],s),e}function YA(t,e){const i={},s=c(t,["ttl"]);e!==void 0&&s!=null&&f(e,["ttl"],s);const a=c(t,["expireTime"]);e!==void 0&&a!=null&&f(e,["expireTime"],a);const u=c(t,["displayName"]);e!==void 0&&u!=null&&f(e,["displayName"],u);const d=c(t,["contents"]);if(e!==void 0&&d!=null){let v=Xt(d);Array.isArray(v)&&(v=v.map(S=>Fy(S))),f(e,["contents"],v)}const p=c(t,["systemInstruction"]);e!==void 0&&p!=null&&f(e,["systemInstruction"],Fy(ht(p)));const y=c(t,["tools"]);if(e!==void 0&&y!=null){let v=y;Array.isArray(v)&&(v=v.map(S=>mb(S))),f(e,["tools"],v)}const m=c(t,["toolConfig"]);if(e!==void 0&&m!=null&&f(e,["toolConfig"],pb(m)),c(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return i}function JA(t,e){const i={},s=c(t,["ttl"]);e!==void 0&&s!=null&&f(e,["ttl"],s);const a=c(t,["expireTime"]);e!==void 0&&a!=null&&f(e,["expireTime"],a);const u=c(t,["displayName"]);e!==void 0&&u!=null&&f(e,["displayName"],u);const d=c(t,["contents"]);if(e!==void 0&&d!=null){let S=Xt(d);Array.isArray(S)&&(S=S.map(E=>E)),f(e,["contents"],S)}const p=c(t,["systemInstruction"]);e!==void 0&&p!=null&&f(e,["systemInstruction"],ht(p));const y=c(t,["tools"]);if(e!==void 0&&y!=null){let S=y;Array.isArray(S)&&(S=S.map(E=>gb(E))),f(e,["tools"],S)}const m=c(t,["toolConfig"]);e!==void 0&&m!=null&&f(e,["toolConfig"],m);const v=c(t,["kmsKeyName"]);return e!==void 0&&v!=null&&f(e,["encryption_spec","kmsKeyName"],v),i}function $A(t,e){const i={},s=c(e,["model"]);s!=null&&f(i,["model"],lv(t,s));const a=c(e,["config"]);return a!=null&&YA(a,i),i}function KA(t,e){const i={},s=c(e,["model"]);s!=null&&f(i,["model"],lv(t,s));const a=c(e,["config"]);return a!=null&&JA(a,i),i}function XA(t,e){const i={},s=c(e,["name"]);return s!=null&&f(i,["_url","name"],Zn(t,s)),i}function QA(t,e){const i={},s=c(e,["name"]);return s!=null&&f(i,["_url","name"],Zn(t,s)),i}function WA(t){const e={},i=c(t,["sdkHttpResponse"]);return i!=null&&f(e,["sdkHttpResponse"],i),e}function ZA(t){const e={},i=c(t,["sdkHttpResponse"]);return i!=null&&f(e,["sdkHttpResponse"],i),e}function jA(t){const e={};if(c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=c(t,["fileUri"]);i!=null&&f(e,["fileUri"],i);const s=c(t,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function eb(t){const e={},i=c(t,["id"]);i!=null&&f(e,["id"],i);const s=c(t,["args"]);s!=null&&f(e,["args"],s);const a=c(t,["name"]);if(a!=null&&f(e,["name"],a),c(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function tb(t){const e={},i=c(t,["allowedFunctionNames"]);i!=null&&f(e,["allowedFunctionNames"],i);const s=c(t,["mode"]);if(s!=null&&f(e,["mode"],s),c(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function nb(t){const e={},i=c(t,["description"]);i!=null&&f(e,["description"],i);const s=c(t,["name"]);s!=null&&f(e,["name"],s);const a=c(t,["parameters"]);a!=null&&f(e,["parameters"],a);const u=c(t,["parametersJsonSchema"]);u!=null&&f(e,["parametersJsonSchema"],u);const d=c(t,["response"]);d!=null&&f(e,["response"],d);const p=c(t,["responseJsonSchema"]);if(p!=null&&f(e,["responseJsonSchema"],p),c(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function ib(t,e){const i={},s=c(e,["name"]);return s!=null&&f(i,["_url","name"],Zn(t,s)),i}function ob(t,e){const i={},s=c(e,["name"]);return s!=null&&f(i,["_url","name"],Zn(t,s)),i}function sb(t){const e={};if(c(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=c(t,["enableWidget"]);return i!=null&&f(e,["enableWidget"],i),e}function rb(t){const e={};if(c(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=c(t,["timeRangeFilter"]);return i!=null&&f(e,["timeRangeFilter"],i),e}function ab(t,e){const i={},s=c(t,["pageSize"]);e!==void 0&&s!=null&&f(e,["_query","pageSize"],s);const a=c(t,["pageToken"]);return e!==void 0&&a!=null&&f(e,["_query","pageToken"],a),i}function lb(t,e){const i={},s=c(t,["pageSize"]);e!==void 0&&s!=null&&f(e,["_query","pageSize"],s);const a=c(t,["pageToken"]);return e!==void 0&&a!=null&&f(e,["_query","pageToken"],a),i}function ub(t){const e={},i=c(t,["config"]);return i!=null&&ab(i,e),e}function cb(t){const e={},i=c(t,["config"]);return i!=null&&lb(i,e),e}function db(t){const e={},i=c(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const s=c(t,["nextPageToken"]);s!=null&&f(e,["nextPageToken"],s);const a=c(t,["cachedContents"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>d)),f(e,["cachedContents"],u)}return e}function fb(t){const e={},i=c(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const s=c(t,["nextPageToken"]);s!=null&&f(e,["nextPageToken"],s);const a=c(t,["cachedContents"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>d)),f(e,["cachedContents"],u)}return e}function hb(t){const e={},i=c(t,["mediaResolution"]);i!=null&&f(e,["mediaResolution"],i);const s=c(t,["codeExecutionResult"]);s!=null&&f(e,["codeExecutionResult"],s);const a=c(t,["executableCode"]);a!=null&&f(e,["executableCode"],a);const u=c(t,["fileData"]);u!=null&&f(e,["fileData"],jA(u));const d=c(t,["functionCall"]);d!=null&&f(e,["functionCall"],eb(d));const p=c(t,["functionResponse"]);p!=null&&f(e,["functionResponse"],p);const y=c(t,["inlineData"]);y!=null&&f(e,["inlineData"],FA(y));const m=c(t,["text"]);m!=null&&f(e,["text"],m);const v=c(t,["thought"]);v!=null&&f(e,["thought"],v);const S=c(t,["thoughtSignature"]);S!=null&&f(e,["thoughtSignature"],S);const E=c(t,["videoMetadata"]);return E!=null&&f(e,["videoMetadata"],E),e}function pb(t){const e={},i=c(t,["retrievalConfig"]);i!=null&&f(e,["retrievalConfig"],i);const s=c(t,["functionCallingConfig"]);return s!=null&&f(e,["functionCallingConfig"],tb(s)),e}function mb(t){const e={};if(c(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=c(t,["computerUse"]);i!=null&&f(e,["computerUse"],i);const s=c(t,["fileSearch"]);s!=null&&f(e,["fileSearch"],s);const a=c(t,["codeExecution"]);if(a!=null&&f(e,["codeExecution"],a),c(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=c(t,["functionDeclarations"]);if(u!=null){let v=u;Array.isArray(v)&&(v=v.map(S=>S)),f(e,["functionDeclarations"],v)}const d=c(t,["googleMaps"]);d!=null&&f(e,["googleMaps"],sb(d));const p=c(t,["googleSearch"]);p!=null&&f(e,["googleSearch"],rb(p));const y=c(t,["googleSearchRetrieval"]);y!=null&&f(e,["googleSearchRetrieval"],y);const m=c(t,["urlContext"]);return m!=null&&f(e,["urlContext"],m),e}function gb(t){const e={},i=c(t,["retrieval"]);i!=null&&f(e,["retrieval"],i);const s=c(t,["computerUse"]);if(s!=null&&f(e,["computerUse"],s),c(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=c(t,["codeExecution"]);a!=null&&f(e,["codeExecution"],a);const u=c(t,["enterpriseWebSearch"]);u!=null&&f(e,["enterpriseWebSearch"],u);const d=c(t,["functionDeclarations"]);if(d!=null){let S=d;Array.isArray(S)&&(S=S.map(E=>nb(E))),f(e,["functionDeclarations"],S)}const p=c(t,["googleMaps"]);p!=null&&f(e,["googleMaps"],p);const y=c(t,["googleSearch"]);y!=null&&f(e,["googleSearch"],y);const m=c(t,["googleSearchRetrieval"]);m!=null&&f(e,["googleSearchRetrieval"],m);const v=c(t,["urlContext"]);return v!=null&&f(e,["urlContext"],v),e}function yb(t,e){const i={},s=c(t,["ttl"]);e!==void 0&&s!=null&&f(e,["ttl"],s);const a=c(t,["expireTime"]);return e!==void 0&&a!=null&&f(e,["expireTime"],a),i}function vb(t,e){const i={},s=c(t,["ttl"]);e!==void 0&&s!=null&&f(e,["ttl"],s);const a=c(t,["expireTime"]);return e!==void 0&&a!=null&&f(e,["expireTime"],a),i}function _b(t,e){const i={},s=c(e,["name"]);s!=null&&f(i,["_url","name"],Zn(t,s));const a=c(e,["config"]);return a!=null&&yb(a,i),i}function Tb(t,e){const i={},s=c(e,["name"]);s!=null&&f(i,["_url","name"],Zn(t,s));const a=c(e,["config"]);return a!=null&&vb(a,i),i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Sb extends Wn{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new po($n.PAGED_ITEM_CACHED_CONTENTS,s=>this.listInternal(s),await this.listInternal(i),i)}async create(e){var i,s,a,u;let d,p="",y={};if(this.apiClient.isVertexAI()){const m=KA(this.apiClient,e);return p=W("cachedContents",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),d.then(v=>v)}else{const m=$A(this.apiClient,e);return p=W("cachedContents",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d.then(v=>v)}}async get(e){var i,s,a,u;let d,p="",y={};if(this.apiClient.isVertexAI()){const m=ob(this.apiClient,e);return p=W("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),d.then(v=>v)}else{const m=ib(this.apiClient,e);return p=W("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d.then(v=>v)}}async delete(e){var i,s,a,u;let d,p="",y={};if(this.apiClient.isVertexAI()){const m=QA(this.apiClient,e);return p=W("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const S=ZA(v),E=new Oy;return Object.assign(E,S),E})}else{const m=XA(this.apiClient,e);return p=W("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const S=WA(v),E=new Oy;return Object.assign(E,S),E})}}async update(e){var i,s,a,u;let d,p="",y={};if(this.apiClient.isVertexAI()){const m=Tb(this.apiClient,e);return p=W("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),d.then(v=>v)}else{const m=_b(this.apiClient,e);return p=W("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d.then(v=>v)}}async listInternal(e){var i,s,a,u;let d,p="",y={};if(this.apiClient.isVertexAI()){const m=cb(e);return p=W("cachedContents",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const S=fb(v),E=new Hy;return Object.assign(E,S),E})}else{const m=ub(e);return p=W("cachedContents",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const S=db(v),E=new Hy;return Object.assign(E,S),E})}}}function dl(t,e){var i={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(i[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(t);a<s.length;a++)e.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(t,s[a])&&(i[s[a]]=t[s[a]]);return i}function Yy(t){var e=typeof Symbol=="function"&&Symbol.iterator,i=e&&t[e],s=0;if(i)return i.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function fe(t){return this instanceof fe?(this.v=t,this):new fe(t)}function sn(t,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=i.apply(t,e||[]),a,u=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),p("next"),p("throw"),p("return",d),a[Symbol.asyncIterator]=function(){return this},a;function d(x){return function(N){return Promise.resolve(N).then(x,S)}}function p(x,N){s[x]&&(a[x]=function(k){return new Promise(function(U,P){u.push([x,k,U,P])>1||y(x,k)})},N&&(a[x]=N(a[x])))}function y(x,N){try{m(s[x](N))}catch(k){E(u[0][3],k)}}function m(x){x.value instanceof fe?Promise.resolve(x.value.v).then(v,S):E(u[0][2],x)}function v(x){y("next",x)}function S(x){y("throw",x)}function E(x,N){x(N),u.shift(),u.length&&y(u[0][0],u[0][1])}}function rn(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],i;return e?e.call(t):(t=typeof Yy=="function"?Yy(t):t[Symbol.iterator](),i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i);function s(u){i[u]=t[u]&&function(d){return new Promise(function(p,y){d=t[u](d),a(p,y,d.done,d.value)})}}function a(u,d,p,y){Promise.resolve(y).then(function(m){u({value:m,done:p})},d)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Eb(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const i=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return i===void 0?!1:Sv(i)}function Sv(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function Cb(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Jy(t){if(t===void 0||t.length===0)return[];const e=[],i=t.length;let s=0;for(;s<i;)if(t[s].role==="user")e.push(t[s]),s++;else{const a=[];let u=!0;for(;s<i&&t[s].role==="model";)a.push(t[s]),u&&!Sv(t[s])&&(u=!1),s++;u?e.push(...a):e.pop()}return e}class xb{constructor(e,i){this.modelsModule=e,this.apiClient=i}create(e){return new Ab(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class Ab{constructor(e,i,s,a={},u=[]){this.apiClient=e,this.modelsModule=i,this.model=s,this.config=a,this.history=u,this.sendPromise=Promise.resolve(),Cb(u)}async sendMessage(e){var i;await this.sendPromise;const s=ht(e.message),a=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(s),config:(i=e.config)!==null&&i!==void 0?i:this.config});return this.sendPromise=(async()=>{var u,d,p;const y=await a,m=(d=(u=y.candidates)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.content,v=y.automaticFunctionCallingHistory,S=this.getHistory(!0).length;let E=[];v!=null&&(E=(p=v.slice(S))!==null&&p!==void 0?p:[]);const x=m?[m]:[];this.recordHistory(s,x,E)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),a}async sendMessageStream(e){var i;await this.sendPromise;const s=ht(e.message),a=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(s),config:(i=e.config)!==null&&i!==void 0?i:this.config});this.sendPromise=a.then(()=>{}).catch(()=>{});const u=await a;return this.processStreamResponse(u,s)}getHistory(e=!1){const i=e?Jy(this.history):this.history;return structuredClone(i)}processStreamResponse(e,i){return sn(this,arguments,function*(){var a,u,d,p,y,m;const v=[];try{for(var S=!0,E=rn(e),x;x=yield fe(E.next()),a=x.done,!a;S=!0){p=x.value,S=!1;const N=p;if(Eb(N)){const k=(m=(y=N.candidates)===null||y===void 0?void 0:y[0])===null||m===void 0?void 0:m.content;k!==void 0&&v.push(k)}yield yield fe(N)}}catch(N){u={error:N}}finally{try{!S&&!a&&(d=E.return)&&(yield fe(d.call(E)))}finally{if(u)throw u.error}}this.recordHistory(i,v)})}recordHistory(e,i,s){let a=[];i.length>0&&i.every(u=>u.role!==void 0)?a=i:a.push({role:"model",parts:[]}),s&&s.length>0?this.history.push(...Jy(s)):this.history.push(e),this.history.push(...a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Er extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Er.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bb(t){const e={},i=c(t,["file"]);return i!=null&&f(e,["file"],i),e}function wb(t){const e={},i=c(t,["sdkHttpResponse"]);return i!=null&&f(e,["sdkHttpResponse"],i),e}function Nb(t){const e={},i=c(t,["name"]);return i!=null&&f(e,["_url","file"],pv(i)),e}function Ib(t){const e={},i=c(t,["sdkHttpResponse"]);return i!=null&&f(e,["sdkHttpResponse"],i),e}function Rb(t){const e={},i=c(t,["name"]);return i!=null&&f(e,["_url","file"],pv(i)),e}function Mb(t,e){const i={},s=c(t,["pageSize"]);e!==void 0&&s!=null&&f(e,["_query","pageSize"],s);const a=c(t,["pageToken"]);return e!==void 0&&a!=null&&f(e,["_query","pageToken"],a),i}function Db(t){const e={},i=c(t,["config"]);return i!=null&&Mb(i,e),e}function Ub(t){const e={},i=c(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const s=c(t,["nextPageToken"]);s!=null&&f(e,["nextPageToken"],s);const a=c(t,["files"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>d)),f(e,["files"],u)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kb extends Wn{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new po($n.PAGED_ITEM_FILES,s=>this.listInternal(s),await this.listInternal(i),i)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(i=>i)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var i,s;let a,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=Db(e);return u=W("files",p._url),d=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),a.then(y=>{const m=Ub(y),v=new Hx;return Object.assign(v,m),v})}}async createInternal(e){var i,s;let a,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=bb(e);return u=W("upload/v1beta/files",p._url),d=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),a.then(y=>{const m=wb(y),v=new Gx;return Object.assign(v,m),v})}}async get(e){var i,s;let a,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=Rb(e);return u=W("files/{file}",p._url),d=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),a.then(y=>y)}}async delete(e){var i,s;let a,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=Nb(e);return u=W("files/{file}",p._url),d=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),a.then(y=>{const m=Ib(y),v=new zx;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nl(t){const e={},i=c(t,["data"]);if(i!=null&&f(e,["data"],i),c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=c(t,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function Lb(t){const e={},i=c(t,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>Wb(u))),f(e,["parts"],a)}const s=c(t,["role"]);return s!=null&&f(e,["role"],s),e}function Pb(t){const e={};if(c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=c(t,["fileUri"]);i!=null&&f(e,["fileUri"],i);const s=c(t,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function Ob(t){const e={},i=c(t,["id"]);i!=null&&f(e,["id"],i);const s=c(t,["args"]);s!=null&&f(e,["args"],s);const a=c(t,["name"]);if(a!=null&&f(e,["name"],a),c(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Hb(t){const e={},i=c(t,["description"]);i!=null&&f(e,["description"],i);const s=c(t,["name"]);s!=null&&f(e,["name"],s);const a=c(t,["parameters"]);a!=null&&f(e,["parameters"],a);const u=c(t,["parametersJsonSchema"]);u!=null&&f(e,["parametersJsonSchema"],u);const d=c(t,["response"]);d!=null&&f(e,["response"],d);const p=c(t,["responseJsonSchema"]);if(p!=null&&f(e,["responseJsonSchema"],p),c(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function Gb(t){const e={},i=c(t,["modelSelectionConfig"]);i!=null&&f(e,["modelConfig"],i);const s=c(t,["responseJsonSchema"]);s!=null&&f(e,["responseJsonSchema"],s);const a=c(t,["audioTimestamp"]);a!=null&&f(e,["audioTimestamp"],a);const u=c(t,["candidateCount"]);u!=null&&f(e,["candidateCount"],u);const d=c(t,["enableAffectiveDialog"]);d!=null&&f(e,["enableAffectiveDialog"],d);const p=c(t,["frequencyPenalty"]);p!=null&&f(e,["frequencyPenalty"],p);const y=c(t,["logprobs"]);y!=null&&f(e,["logprobs"],y);const m=c(t,["maxOutputTokens"]);m!=null&&f(e,["maxOutputTokens"],m);const v=c(t,["mediaResolution"]);v!=null&&f(e,["mediaResolution"],v);const S=c(t,["presencePenalty"]);S!=null&&f(e,["presencePenalty"],S);const E=c(t,["responseLogprobs"]);E!=null&&f(e,["responseLogprobs"],E);const x=c(t,["responseMimeType"]);x!=null&&f(e,["responseMimeType"],x);const N=c(t,["responseModalities"]);N!=null&&f(e,["responseModalities"],N);const k=c(t,["responseSchema"]);k!=null&&f(e,["responseSchema"],k);const U=c(t,["routingConfig"]);U!=null&&f(e,["routingConfig"],U);const P=c(t,["seed"]);P!=null&&f(e,["seed"],P);const q=c(t,["speechConfig"]);q!=null&&f(e,["speechConfig"],q);const F=c(t,["stopSequences"]);F!=null&&f(e,["stopSequences"],F);const $=c(t,["temperature"]);$!=null&&f(e,["temperature"],$);const Y=c(t,["thinkingConfig"]);Y!=null&&f(e,["thinkingConfig"],Y);const te=c(t,["topK"]);te!=null&&f(e,["topK"],te);const K=c(t,["topP"]);if(K!=null&&f(e,["topP"],K),c(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function zb(t){const e={};if(c(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=c(t,["enableWidget"]);return i!=null&&f(e,["enableWidget"],i),e}function Vb(t){const e={};if(c(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=c(t,["timeRangeFilter"]);return i!=null&&f(e,["timeRangeFilter"],i),e}function Bb(t,e){const i={},s=c(t,["generationConfig"]);e!==void 0&&s!=null&&f(e,["setup","generationConfig"],s);const a=c(t,["responseModalities"]);e!==void 0&&a!=null&&f(e,["setup","generationConfig","responseModalities"],a);const u=c(t,["temperature"]);e!==void 0&&u!=null&&f(e,["setup","generationConfig","temperature"],u);const d=c(t,["topP"]);e!==void 0&&d!=null&&f(e,["setup","generationConfig","topP"],d);const p=c(t,["topK"]);e!==void 0&&p!=null&&f(e,["setup","generationConfig","topK"],p);const y=c(t,["maxOutputTokens"]);e!==void 0&&y!=null&&f(e,["setup","generationConfig","maxOutputTokens"],y);const m=c(t,["mediaResolution"]);e!==void 0&&m!=null&&f(e,["setup","generationConfig","mediaResolution"],m);const v=c(t,["seed"]);e!==void 0&&v!=null&&f(e,["setup","generationConfig","seed"],v);const S=c(t,["speechConfig"]);e!==void 0&&S!=null&&f(e,["setup","generationConfig","speechConfig"],Zd(S));const E=c(t,["thinkingConfig"]);e!==void 0&&E!=null&&f(e,["setup","generationConfig","thinkingConfig"],E);const x=c(t,["enableAffectiveDialog"]);e!==void 0&&x!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],x);const N=c(t,["systemInstruction"]);e!==void 0&&N!=null&&f(e,["setup","systemInstruction"],Lb(ht(N)));const k=c(t,["tools"]);if(e!==void 0&&k!=null){let te=ms(k);Array.isArray(te)&&(te=te.map(K=>jb(ps(K)))),f(e,["setup","tools"],te)}const U=c(t,["sessionResumption"]);e!==void 0&&U!=null&&f(e,["setup","sessionResumption"],Zb(U));const P=c(t,["inputAudioTranscription"]);e!==void 0&&P!=null&&f(e,["setup","inputAudioTranscription"],P);const q=c(t,["outputAudioTranscription"]);e!==void 0&&q!=null&&f(e,["setup","outputAudioTranscription"],q);const F=c(t,["realtimeInputConfig"]);e!==void 0&&F!=null&&f(e,["setup","realtimeInputConfig"],F);const $=c(t,["contextWindowCompression"]);e!==void 0&&$!=null&&f(e,["setup","contextWindowCompression"],$);const Y=c(t,["proactivity"]);if(e!==void 0&&Y!=null&&f(e,["setup","proactivity"],Y),c(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return i}function qb(t,e){const i={},s=c(t,["generationConfig"]);e!==void 0&&s!=null&&f(e,["setup","generationConfig"],Gb(s));const a=c(t,["responseModalities"]);e!==void 0&&a!=null&&f(e,["setup","generationConfig","responseModalities"],a);const u=c(t,["temperature"]);e!==void 0&&u!=null&&f(e,["setup","generationConfig","temperature"],u);const d=c(t,["topP"]);e!==void 0&&d!=null&&f(e,["setup","generationConfig","topP"],d);const p=c(t,["topK"]);e!==void 0&&p!=null&&f(e,["setup","generationConfig","topK"],p);const y=c(t,["maxOutputTokens"]);e!==void 0&&y!=null&&f(e,["setup","generationConfig","maxOutputTokens"],y);const m=c(t,["mediaResolution"]);e!==void 0&&m!=null&&f(e,["setup","generationConfig","mediaResolution"],m);const v=c(t,["seed"]);e!==void 0&&v!=null&&f(e,["setup","generationConfig","seed"],v);const S=c(t,["speechConfig"]);e!==void 0&&S!=null&&f(e,["setup","generationConfig","speechConfig"],Zd(S));const E=c(t,["thinkingConfig"]);e!==void 0&&E!=null&&f(e,["setup","generationConfig","thinkingConfig"],E);const x=c(t,["enableAffectiveDialog"]);e!==void 0&&x!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],x);const N=c(t,["systemInstruction"]);e!==void 0&&N!=null&&f(e,["setup","systemInstruction"],ht(N));const k=c(t,["tools"]);if(e!==void 0&&k!=null){let K=ms(k);Array.isArray(K)&&(K=K.map(he=>ew(ps(he)))),f(e,["setup","tools"],K)}const U=c(t,["sessionResumption"]);e!==void 0&&U!=null&&f(e,["setup","sessionResumption"],U);const P=c(t,["inputAudioTranscription"]);e!==void 0&&P!=null&&f(e,["setup","inputAudioTranscription"],P);const q=c(t,["outputAudioTranscription"]);e!==void 0&&q!=null&&f(e,["setup","outputAudioTranscription"],q);const F=c(t,["realtimeInputConfig"]);e!==void 0&&F!=null&&f(e,["setup","realtimeInputConfig"],F);const $=c(t,["contextWindowCompression"]);e!==void 0&&$!=null&&f(e,["setup","contextWindowCompression"],$);const Y=c(t,["proactivity"]);e!==void 0&&Y!=null&&f(e,["setup","proactivity"],Y);const te=c(t,["explicitVadSignal"]);return e!==void 0&&te!=null&&f(e,["setup","explicitVadSignal"],te),i}function Fb(t,e){const i={},s=c(e,["model"]);s!=null&&f(i,["setup","model"],De(t,s));const a=c(e,["config"]);return a!=null&&f(i,["config"],Bb(a,i)),i}function Yb(t,e){const i={},s=c(e,["model"]);s!=null&&f(i,["setup","model"],De(t,s));const a=c(e,["config"]);return a!=null&&f(i,["config"],qb(a,i)),i}function Jb(t){const e={},i=c(t,["musicGenerationConfig"]);return i!=null&&f(e,["musicGenerationConfig"],i),e}function $b(t){const e={},i=c(t,["weightedPrompts"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),f(e,["weightedPrompts"],s)}return e}function Kb(t){const e={},i=c(t,["media"]);if(i!=null){let m=uv(i);Array.isArray(m)&&(m=m.map(v=>nl(v))),f(e,["mediaChunks"],m)}const s=c(t,["audio"]);s!=null&&f(e,["audio"],nl(dv(s)));const a=c(t,["audioStreamEnd"]);a!=null&&f(e,["audioStreamEnd"],a);const u=c(t,["video"]);u!=null&&f(e,["video"],nl(cv(u)));const d=c(t,["text"]);d!=null&&f(e,["text"],d);const p=c(t,["activityStart"]);p!=null&&f(e,["activityStart"],p);const y=c(t,["activityEnd"]);return y!=null&&f(e,["activityEnd"],y),e}function Xb(t){const e={},i=c(t,["media"]);if(i!=null){let m=uv(i);Array.isArray(m)&&(m=m.map(v=>v)),f(e,["mediaChunks"],m)}const s=c(t,["audio"]);s!=null&&f(e,["audio"],dv(s));const a=c(t,["audioStreamEnd"]);a!=null&&f(e,["audioStreamEnd"],a);const u=c(t,["video"]);u!=null&&f(e,["video"],cv(u));const d=c(t,["text"]);d!=null&&f(e,["text"],d);const p=c(t,["activityStart"]);p!=null&&f(e,["activityStart"],p);const y=c(t,["activityEnd"]);return y!=null&&f(e,["activityEnd"],y),e}function Qb(t){const e={},i=c(t,["setupComplete"]);i!=null&&f(e,["setupComplete"],i);const s=c(t,["serverContent"]);s!=null&&f(e,["serverContent"],s);const a=c(t,["toolCall"]);a!=null&&f(e,["toolCall"],a);const u=c(t,["toolCallCancellation"]);u!=null&&f(e,["toolCallCancellation"],u);const d=c(t,["usageMetadata"]);d!=null&&f(e,["usageMetadata"],tw(d));const p=c(t,["goAway"]);p!=null&&f(e,["goAway"],p);const y=c(t,["sessionResumptionUpdate"]);y!=null&&f(e,["sessionResumptionUpdate"],y);const m=c(t,["voiceActivityDetectionSignal"]);m!=null&&f(e,["voiceActivityDetectionSignal"],m);const v=c(t,["voiceActivity"]);return v!=null&&f(e,["voiceActivity"],nw(v)),e}function Wb(t){const e={},i=c(t,["mediaResolution"]);i!=null&&f(e,["mediaResolution"],i);const s=c(t,["codeExecutionResult"]);s!=null&&f(e,["codeExecutionResult"],s);const a=c(t,["executableCode"]);a!=null&&f(e,["executableCode"],a);const u=c(t,["fileData"]);u!=null&&f(e,["fileData"],Pb(u));const d=c(t,["functionCall"]);d!=null&&f(e,["functionCall"],Ob(d));const p=c(t,["functionResponse"]);p!=null&&f(e,["functionResponse"],p);const y=c(t,["inlineData"]);y!=null&&f(e,["inlineData"],nl(y));const m=c(t,["text"]);m!=null&&f(e,["text"],m);const v=c(t,["thought"]);v!=null&&f(e,["thought"],v);const S=c(t,["thoughtSignature"]);S!=null&&f(e,["thoughtSignature"],S);const E=c(t,["videoMetadata"]);return E!=null&&f(e,["videoMetadata"],E),e}function Zb(t){const e={},i=c(t,["handle"]);if(i!=null&&f(e,["handle"],i),c(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function jb(t){const e={};if(c(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=c(t,["computerUse"]);i!=null&&f(e,["computerUse"],i);const s=c(t,["fileSearch"]);s!=null&&f(e,["fileSearch"],s);const a=c(t,["codeExecution"]);if(a!=null&&f(e,["codeExecution"],a),c(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=c(t,["functionDeclarations"]);if(u!=null){let v=u;Array.isArray(v)&&(v=v.map(S=>S)),f(e,["functionDeclarations"],v)}const d=c(t,["googleMaps"]);d!=null&&f(e,["googleMaps"],zb(d));const p=c(t,["googleSearch"]);p!=null&&f(e,["googleSearch"],Vb(p));const y=c(t,["googleSearchRetrieval"]);y!=null&&f(e,["googleSearchRetrieval"],y);const m=c(t,["urlContext"]);return m!=null&&f(e,["urlContext"],m),e}function ew(t){const e={},i=c(t,["retrieval"]);i!=null&&f(e,["retrieval"],i);const s=c(t,["computerUse"]);if(s!=null&&f(e,["computerUse"],s),c(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=c(t,["codeExecution"]);a!=null&&f(e,["codeExecution"],a);const u=c(t,["enterpriseWebSearch"]);u!=null&&f(e,["enterpriseWebSearch"],u);const d=c(t,["functionDeclarations"]);if(d!=null){let S=d;Array.isArray(S)&&(S=S.map(E=>Hb(E))),f(e,["functionDeclarations"],S)}const p=c(t,["googleMaps"]);p!=null&&f(e,["googleMaps"],p);const y=c(t,["googleSearch"]);y!=null&&f(e,["googleSearch"],y);const m=c(t,["googleSearchRetrieval"]);m!=null&&f(e,["googleSearchRetrieval"],m);const v=c(t,["urlContext"]);return v!=null&&f(e,["urlContext"],v),e}function tw(t){const e={},i=c(t,["promptTokenCount"]);i!=null&&f(e,["promptTokenCount"],i);const s=c(t,["cachedContentTokenCount"]);s!=null&&f(e,["cachedContentTokenCount"],s);const a=c(t,["candidatesTokenCount"]);a!=null&&f(e,["responseTokenCount"],a);const u=c(t,["toolUsePromptTokenCount"]);u!=null&&f(e,["toolUsePromptTokenCount"],u);const d=c(t,["thoughtsTokenCount"]);d!=null&&f(e,["thoughtsTokenCount"],d);const p=c(t,["totalTokenCount"]);p!=null&&f(e,["totalTokenCount"],p);const y=c(t,["promptTokensDetails"]);if(y!=null){let x=y;Array.isArray(x)&&(x=x.map(N=>N)),f(e,["promptTokensDetails"],x)}const m=c(t,["cacheTokensDetails"]);if(m!=null){let x=m;Array.isArray(x)&&(x=x.map(N=>N)),f(e,["cacheTokensDetails"],x)}const v=c(t,["candidatesTokensDetails"]);if(v!=null){let x=v;Array.isArray(x)&&(x=x.map(N=>N)),f(e,["responseTokensDetails"],x)}const S=c(t,["toolUsePromptTokensDetails"]);if(S!=null){let x=S;Array.isArray(x)&&(x=x.map(N=>N)),f(e,["toolUsePromptTokensDetails"],x)}const E=c(t,["trafficType"]);return E!=null&&f(e,["trafficType"],E),e}function nw(t){const e={},i=c(t,["type"]);return i!=null&&f(e,["voiceActivityType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function iw(t){const e={},i=c(t,["data"]);if(i!=null&&f(e,["data"],i),c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=c(t,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function ow(t){const e={},i=c(t,["content"]);i!=null&&f(e,["content"],i);const s=c(t,["citationMetadata"]);s!=null&&f(e,["citationMetadata"],sw(s));const a=c(t,["tokenCount"]);a!=null&&f(e,["tokenCount"],a);const u=c(t,["finishReason"]);u!=null&&f(e,["finishReason"],u);const d=c(t,["avgLogprobs"]);d!=null&&f(e,["avgLogprobs"],d);const p=c(t,["groundingMetadata"]);p!=null&&f(e,["groundingMetadata"],p);const y=c(t,["index"]);y!=null&&f(e,["index"],y);const m=c(t,["logprobsResult"]);m!=null&&f(e,["logprobsResult"],m);const v=c(t,["safetyRatings"]);if(v!=null){let E=v;Array.isArray(E)&&(E=E.map(x=>x)),f(e,["safetyRatings"],E)}const S=c(t,["urlContextMetadata"]);return S!=null&&f(e,["urlContextMetadata"],S),e}function sw(t){const e={},i=c(t,["citationSources"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),f(e,["citations"],s)}return e}function rw(t,e){const i={},s=c(e,["model"]);s!=null&&f(i,["_url","model"],De(t,s));const a=c(e,["contents"]);if(a!=null){let u=Xt(a);Array.isArray(u)&&(u=u.map(d=>d)),f(i,["contents"],u)}return i}function aw(t){const e={},i=c(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const s=c(t,["tokensInfo"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(u=>u)),f(e,["tokensInfo"],a)}return e}function lw(t){const e={},i=c(t,["values"]);i!=null&&f(e,["values"],i);const s=c(t,["statistics"]);return s!=null&&f(e,["statistics"],uw(s)),e}function uw(t){const e={},i=c(t,["truncated"]);i!=null&&f(e,["truncated"],i);const s=c(t,["token_count"]);return s!=null&&f(e,["tokenCount"],s),e}function Cl(t){const e={},i=c(t,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>v1(u))),f(e,["parts"],a)}const s=c(t,["role"]);return s!=null&&f(e,["role"],s),e}function cw(t){const e={},i=c(t,["controlType"]);i!=null&&f(e,["controlType"],i);const s=c(t,["enableControlImageComputation"]);return s!=null&&f(e,["computeControl"],s),e}function dw(t){const e={};if(c(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(c(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(c(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function fw(t,e){const i={},s=c(t,["systemInstruction"]);e!==void 0&&s!=null&&f(e,["systemInstruction"],ht(s));const a=c(t,["tools"]);if(e!==void 0&&a!=null){let d=a;Array.isArray(d)&&(d=d.map(p=>Av(p))),f(e,["tools"],d)}const u=c(t,["generationConfig"]);return e!==void 0&&u!=null&&f(e,["generationConfig"],i1(u)),i}function hw(t,e){const i={},s=c(e,["model"]);s!=null&&f(i,["_url","model"],De(t,s));const a=c(e,["contents"]);if(a!=null){let d=Xt(a);Array.isArray(d)&&(d=d.map(p=>Cl(p))),f(i,["contents"],d)}const u=c(e,["config"]);return u!=null&&dw(u),i}function pw(t,e){const i={},s=c(e,["model"]);s!=null&&f(i,["_url","model"],De(t,s));const a=c(e,["contents"]);if(a!=null){let d=Xt(a);Array.isArray(d)&&(d=d.map(p=>p)),f(i,["contents"],d)}const u=c(e,["config"]);return u!=null&&fw(u,i),i}function mw(t){const e={},i=c(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const s=c(t,["totalTokens"]);s!=null&&f(e,["totalTokens"],s);const a=c(t,["cachedContentTokenCount"]);return a!=null&&f(e,["cachedContentTokenCount"],a),e}function gw(t){const e={},i=c(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const s=c(t,["totalTokens"]);return s!=null&&f(e,["totalTokens"],s),e}function yw(t,e){const i={},s=c(e,["model"]);return s!=null&&f(i,["_url","name"],De(t,s)),i}function vw(t,e){const i={},s=c(e,["model"]);return s!=null&&f(i,["_url","name"],De(t,s)),i}function _w(t){const e={},i=c(t,["sdkHttpResponse"]);return i!=null&&f(e,["sdkHttpResponse"],i),e}function Tw(t){const e={},i=c(t,["sdkHttpResponse"]);return i!=null&&f(e,["sdkHttpResponse"],i),e}function Sw(t,e){const i={},s=c(t,["outputGcsUri"]);e!==void 0&&s!=null&&f(e,["parameters","storageUri"],s);const a=c(t,["negativePrompt"]);e!==void 0&&a!=null&&f(e,["parameters","negativePrompt"],a);const u=c(t,["numberOfImages"]);e!==void 0&&u!=null&&f(e,["parameters","sampleCount"],u);const d=c(t,["aspectRatio"]);e!==void 0&&d!=null&&f(e,["parameters","aspectRatio"],d);const p=c(t,["guidanceScale"]);e!==void 0&&p!=null&&f(e,["parameters","guidanceScale"],p);const y=c(t,["seed"]);e!==void 0&&y!=null&&f(e,["parameters","seed"],y);const m=c(t,["safetyFilterLevel"]);e!==void 0&&m!=null&&f(e,["parameters","safetySetting"],m);const v=c(t,["personGeneration"]);e!==void 0&&v!=null&&f(e,["parameters","personGeneration"],v);const S=c(t,["includeSafetyAttributes"]);e!==void 0&&S!=null&&f(e,["parameters","includeSafetyAttributes"],S);const E=c(t,["includeRaiReason"]);e!==void 0&&E!=null&&f(e,["parameters","includeRaiReason"],E);const x=c(t,["language"]);e!==void 0&&x!=null&&f(e,["parameters","language"],x);const N=c(t,["outputMimeType"]);e!==void 0&&N!=null&&f(e,["parameters","outputOptions","mimeType"],N);const k=c(t,["outputCompressionQuality"]);e!==void 0&&k!=null&&f(e,["parameters","outputOptions","compressionQuality"],k);const U=c(t,["addWatermark"]);e!==void 0&&U!=null&&f(e,["parameters","addWatermark"],U);const P=c(t,["labels"]);e!==void 0&&P!=null&&f(e,["labels"],P);const q=c(t,["editMode"]);e!==void 0&&q!=null&&f(e,["parameters","editMode"],q);const F=c(t,["baseSteps"]);return e!==void 0&&F!=null&&f(e,["parameters","editConfig","baseSteps"],F),i}function Ew(t,e){const i={},s=c(e,["model"]);s!=null&&f(i,["_url","model"],De(t,s));const a=c(e,["prompt"]);a!=null&&f(i,["instances[0]","prompt"],a);const u=c(e,["referenceImages"]);if(u!=null){let p=u;Array.isArray(p)&&(p=p.map(y=>x1(y))),f(i,["instances[0]","referenceImages"],p)}const d=c(e,["config"]);return d!=null&&Sw(d,i),i}function Cw(t){const e={},i=c(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const s=c(t,["predictions"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(u=>xl(u))),f(e,["generatedImages"],a)}return e}function xw(t,e){const i={},s=c(t,["taskType"]);e!==void 0&&s!=null&&f(e,["requests[]","taskType"],s);const a=c(t,["title"]);e!==void 0&&a!=null&&f(e,["requests[]","title"],a);const u=c(t,["outputDimensionality"]);if(e!==void 0&&u!=null&&f(e,["requests[]","outputDimensionality"],u),c(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(c(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function Aw(t,e){const i={},s=c(t,["taskType"]);e!==void 0&&s!=null&&f(e,["instances[]","task_type"],s);const a=c(t,["title"]);e!==void 0&&a!=null&&f(e,["instances[]","title"],a);const u=c(t,["outputDimensionality"]);e!==void 0&&u!=null&&f(e,["parameters","outputDimensionality"],u);const d=c(t,["mimeType"]);e!==void 0&&d!=null&&f(e,["instances[]","mimeType"],d);const p=c(t,["autoTruncate"]);return e!==void 0&&p!=null&&f(e,["parameters","autoTruncate"],p),i}function bw(t,e){const i={},s=c(e,["model"]);s!=null&&f(i,["_url","model"],De(t,s));const a=c(e,["contents"]);if(a!=null){let p=Xd(t,a);Array.isArray(p)&&(p=p.map(y=>y)),f(i,["requests[]","content"],p)}const u=c(e,["config"]);u!=null&&xw(u,i);const d=c(e,["model"]);return d!==void 0&&f(i,["requests[]","model"],De(t,d)),i}function ww(t,e){const i={},s=c(e,["model"]);s!=null&&f(i,["_url","model"],De(t,s));const a=c(e,["contents"]);if(a!=null){let d=Xd(t,a);Array.isArray(d)&&(d=d.map(p=>p)),f(i,["instances[]","content"],d)}const u=c(e,["config"]);return u!=null&&Aw(u,i),i}function Nw(t){const e={},i=c(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const s=c(t,["embeddings"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>d)),f(e,["embeddings"],u)}const a=c(t,["metadata"]);return a!=null&&f(e,["metadata"],a),e}function Iw(t){const e={},i=c(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const s=c(t,["predictions[]","embeddings"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>lw(d))),f(e,["embeddings"],u)}const a=c(t,["metadata"]);return a!=null&&f(e,["metadata"],a),e}function Rw(t){const e={},i=c(t,["endpoint"]);i!=null&&f(e,["name"],i);const s=c(t,["deployedModelId"]);return s!=null&&f(e,["deployedModelId"],s),e}function Mw(t){const e={};if(c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=c(t,["fileUri"]);i!=null&&f(e,["fileUri"],i);const s=c(t,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function Dw(t){const e={},i=c(t,["id"]);i!=null&&f(e,["id"],i);const s=c(t,["args"]);s!=null&&f(e,["args"],s);const a=c(t,["name"]);if(a!=null&&f(e,["name"],a),c(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Uw(t){const e={},i=c(t,["allowedFunctionNames"]);i!=null&&f(e,["allowedFunctionNames"],i);const s=c(t,["mode"]);if(s!=null&&f(e,["mode"],s),c(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function kw(t){const e={},i=c(t,["description"]);i!=null&&f(e,["description"],i);const s=c(t,["name"]);s!=null&&f(e,["name"],s);const a=c(t,["parameters"]);a!=null&&f(e,["parameters"],a);const u=c(t,["parametersJsonSchema"]);u!=null&&f(e,["parametersJsonSchema"],u);const d=c(t,["response"]);d!=null&&f(e,["response"],d);const p=c(t,["responseJsonSchema"]);if(p!=null&&f(e,["responseJsonSchema"],p),c(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function Lw(t,e,i){const s={},a=c(e,["systemInstruction"]);i!==void 0&&a!=null&&f(i,["systemInstruction"],Cl(ht(a)));const u=c(e,["temperature"]);u!=null&&f(s,["temperature"],u);const d=c(e,["topP"]);d!=null&&f(s,["topP"],d);const p=c(e,["topK"]);p!=null&&f(s,["topK"],p);const y=c(e,["candidateCount"]);y!=null&&f(s,["candidateCount"],y);const m=c(e,["maxOutputTokens"]);m!=null&&f(s,["maxOutputTokens"],m);const v=c(e,["stopSequences"]);v!=null&&f(s,["stopSequences"],v);const S=c(e,["responseLogprobs"]);S!=null&&f(s,["responseLogprobs"],S);const E=c(e,["logprobs"]);E!=null&&f(s,["logprobs"],E);const x=c(e,["presencePenalty"]);x!=null&&f(s,["presencePenalty"],x);const N=c(e,["frequencyPenalty"]);N!=null&&f(s,["frequencyPenalty"],N);const k=c(e,["seed"]);k!=null&&f(s,["seed"],k);const U=c(e,["responseMimeType"]);U!=null&&f(s,["responseMimeType"],U);const P=c(e,["responseSchema"]);P!=null&&f(s,["responseSchema"],Qd(P));const q=c(e,["responseJsonSchema"]);if(q!=null&&f(s,["responseJsonSchema"],q),c(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(c(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const F=c(e,["safetySettings"]);if(i!==void 0&&F!=null){let Se=F;Array.isArray(Se)&&(Se=Se.map(Ye=>A1(Ye))),f(i,["safetySettings"],Se)}const $=c(e,["tools"]);if(i!==void 0&&$!=null){let Se=ms($);Array.isArray(Se)&&(Se=Se.map(Ye=>D1(ps(Ye)))),f(i,["tools"],Se)}const Y=c(e,["toolConfig"]);if(i!==void 0&&Y!=null&&f(i,["toolConfig"],M1(Y)),c(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const te=c(e,["cachedContent"]);i!==void 0&&te!=null&&f(i,["cachedContent"],Zn(t,te));const K=c(e,["responseModalities"]);K!=null&&f(s,["responseModalities"],K);const he=c(e,["mediaResolution"]);he!=null&&f(s,["mediaResolution"],he);const Z=c(e,["speechConfig"]);if(Z!=null&&f(s,["speechConfig"],Wd(Z)),c(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const de=c(e,["thinkingConfig"]);de!=null&&f(s,["thinkingConfig"],de);const ge=c(e,["imageConfig"]);ge!=null&&f(s,["imageConfig"],l1(ge));const ye=c(e,["enableEnhancedCivicAnswers"]);if(ye!=null&&f(s,["enableEnhancedCivicAnswers"],ye),c(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return s}function Pw(t,e,i){const s={},a=c(e,["systemInstruction"]);i!==void 0&&a!=null&&f(i,["systemInstruction"],ht(a));const u=c(e,["temperature"]);u!=null&&f(s,["temperature"],u);const d=c(e,["topP"]);d!=null&&f(s,["topP"],d);const p=c(e,["topK"]);p!=null&&f(s,["topK"],p);const y=c(e,["candidateCount"]);y!=null&&f(s,["candidateCount"],y);const m=c(e,["maxOutputTokens"]);m!=null&&f(s,["maxOutputTokens"],m);const v=c(e,["stopSequences"]);v!=null&&f(s,["stopSequences"],v);const S=c(e,["responseLogprobs"]);S!=null&&f(s,["responseLogprobs"],S);const E=c(e,["logprobs"]);E!=null&&f(s,["logprobs"],E);const x=c(e,["presencePenalty"]);x!=null&&f(s,["presencePenalty"],x);const N=c(e,["frequencyPenalty"]);N!=null&&f(s,["frequencyPenalty"],N);const k=c(e,["seed"]);k!=null&&f(s,["seed"],k);const U=c(e,["responseMimeType"]);U!=null&&f(s,["responseMimeType"],U);const P=c(e,["responseSchema"]);P!=null&&f(s,["responseSchema"],Qd(P));const q=c(e,["responseJsonSchema"]);q!=null&&f(s,["responseJsonSchema"],q);const F=c(e,["routingConfig"]);F!=null&&f(s,["routingConfig"],F);const $=c(e,["modelSelectionConfig"]);$!=null&&f(s,["modelConfig"],$);const Y=c(e,["safetySettings"]);if(i!==void 0&&Y!=null){let J=Y;Array.isArray(J)&&(J=J.map(se=>se)),f(i,["safetySettings"],J)}const te=c(e,["tools"]);if(i!==void 0&&te!=null){let J=ms(te);Array.isArray(J)&&(J=J.map(se=>Av(ps(se)))),f(i,["tools"],J)}const K=c(e,["toolConfig"]);i!==void 0&&K!=null&&f(i,["toolConfig"],K);const he=c(e,["labels"]);i!==void 0&&he!=null&&f(i,["labels"],he);const Z=c(e,["cachedContent"]);i!==void 0&&Z!=null&&f(i,["cachedContent"],Zn(t,Z));const de=c(e,["responseModalities"]);de!=null&&f(s,["responseModalities"],de);const ge=c(e,["mediaResolution"]);ge!=null&&f(s,["mediaResolution"],ge);const ye=c(e,["speechConfig"]);ye!=null&&f(s,["speechConfig"],Wd(ye));const Se=c(e,["audioTimestamp"]);Se!=null&&f(s,["audioTimestamp"],Se);const Ye=c(e,["thinkingConfig"]);Ye!=null&&f(s,["thinkingConfig"],Ye);const $e=c(e,["imageConfig"]);if($e!=null&&f(s,["imageConfig"],u1($e)),c(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const H=c(e,["modelArmorConfig"]);return i!==void 0&&H!=null&&f(i,["modelArmorConfig"],H),s}function $y(t,e){const i={},s=c(e,["model"]);s!=null&&f(i,["_url","model"],De(t,s));const a=c(e,["contents"]);if(a!=null){let d=Xt(a);Array.isArray(d)&&(d=d.map(p=>Cl(p))),f(i,["contents"],d)}const u=c(e,["config"]);return u!=null&&f(i,["generationConfig"],Lw(t,u,i)),i}function Ky(t,e){const i={},s=c(e,["model"]);s!=null&&f(i,["_url","model"],De(t,s));const a=c(e,["contents"]);if(a!=null){let d=Xt(a);Array.isArray(d)&&(d=d.map(p=>p)),f(i,["contents"],d)}const u=c(e,["config"]);return u!=null&&f(i,["generationConfig"],Pw(t,u,i)),i}function Xy(t){const e={},i=c(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const s=c(t,["candidates"]);if(s!=null){let y=s;Array.isArray(y)&&(y=y.map(m=>ow(m))),f(e,["candidates"],y)}const a=c(t,["modelVersion"]);a!=null&&f(e,["modelVersion"],a);const u=c(t,["promptFeedback"]);u!=null&&f(e,["promptFeedback"],u);const d=c(t,["responseId"]);d!=null&&f(e,["responseId"],d);const p=c(t,["usageMetadata"]);return p!=null&&f(e,["usageMetadata"],p),e}function Qy(t){const e={},i=c(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const s=c(t,["candidates"]);if(s!=null){let m=s;Array.isArray(m)&&(m=m.map(v=>v)),f(e,["candidates"],m)}const a=c(t,["createTime"]);a!=null&&f(e,["createTime"],a);const u=c(t,["modelVersion"]);u!=null&&f(e,["modelVersion"],u);const d=c(t,["promptFeedback"]);d!=null&&f(e,["promptFeedback"],d);const p=c(t,["responseId"]);p!=null&&f(e,["responseId"],p);const y=c(t,["usageMetadata"]);return y!=null&&f(e,["usageMetadata"],y),e}function Ow(t,e){const i={};if(c(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const s=c(t,["numberOfImages"]);e!==void 0&&s!=null&&f(e,["parameters","sampleCount"],s);const a=c(t,["aspectRatio"]);e!==void 0&&a!=null&&f(e,["parameters","aspectRatio"],a);const u=c(t,["guidanceScale"]);if(e!==void 0&&u!=null&&f(e,["parameters","guidanceScale"],u),c(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const d=c(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&f(e,["parameters","safetySetting"],d);const p=c(t,["personGeneration"]);e!==void 0&&p!=null&&f(e,["parameters","personGeneration"],p);const y=c(t,["includeSafetyAttributes"]);e!==void 0&&y!=null&&f(e,["parameters","includeSafetyAttributes"],y);const m=c(t,["includeRaiReason"]);e!==void 0&&m!=null&&f(e,["parameters","includeRaiReason"],m);const v=c(t,["language"]);e!==void 0&&v!=null&&f(e,["parameters","language"],v);const S=c(t,["outputMimeType"]);e!==void 0&&S!=null&&f(e,["parameters","outputOptions","mimeType"],S);const E=c(t,["outputCompressionQuality"]);if(e!==void 0&&E!=null&&f(e,["parameters","outputOptions","compressionQuality"],E),c(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(c(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const x=c(t,["imageSize"]);if(e!==void 0&&x!=null&&f(e,["parameters","sampleImageSize"],x),c(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return i}function Hw(t,e){const i={},s=c(t,["outputGcsUri"]);e!==void 0&&s!=null&&f(e,["parameters","storageUri"],s);const a=c(t,["negativePrompt"]);e!==void 0&&a!=null&&f(e,["parameters","negativePrompt"],a);const u=c(t,["numberOfImages"]);e!==void 0&&u!=null&&f(e,["parameters","sampleCount"],u);const d=c(t,["aspectRatio"]);e!==void 0&&d!=null&&f(e,["parameters","aspectRatio"],d);const p=c(t,["guidanceScale"]);e!==void 0&&p!=null&&f(e,["parameters","guidanceScale"],p);const y=c(t,["seed"]);e!==void 0&&y!=null&&f(e,["parameters","seed"],y);const m=c(t,["safetyFilterLevel"]);e!==void 0&&m!=null&&f(e,["parameters","safetySetting"],m);const v=c(t,["personGeneration"]);e!==void 0&&v!=null&&f(e,["parameters","personGeneration"],v);const S=c(t,["includeSafetyAttributes"]);e!==void 0&&S!=null&&f(e,["parameters","includeSafetyAttributes"],S);const E=c(t,["includeRaiReason"]);e!==void 0&&E!=null&&f(e,["parameters","includeRaiReason"],E);const x=c(t,["language"]);e!==void 0&&x!=null&&f(e,["parameters","language"],x);const N=c(t,["outputMimeType"]);e!==void 0&&N!=null&&f(e,["parameters","outputOptions","mimeType"],N);const k=c(t,["outputCompressionQuality"]);e!==void 0&&k!=null&&f(e,["parameters","outputOptions","compressionQuality"],k);const U=c(t,["addWatermark"]);e!==void 0&&U!=null&&f(e,["parameters","addWatermark"],U);const P=c(t,["labels"]);e!==void 0&&P!=null&&f(e,["labels"],P);const q=c(t,["imageSize"]);e!==void 0&&q!=null&&f(e,["parameters","sampleImageSize"],q);const F=c(t,["enhancePrompt"]);return e!==void 0&&F!=null&&f(e,["parameters","enhancePrompt"],F),i}function Gw(t,e){const i={},s=c(e,["model"]);s!=null&&f(i,["_url","model"],De(t,s));const a=c(e,["prompt"]);a!=null&&f(i,["instances[0]","prompt"],a);const u=c(e,["config"]);return u!=null&&Ow(u,i),i}function zw(t,e){const i={},s=c(e,["model"]);s!=null&&f(i,["_url","model"],De(t,s));const a=c(e,["prompt"]);a!=null&&f(i,["instances[0]","prompt"],a);const u=c(e,["config"]);return u!=null&&Hw(u,i),i}function Vw(t){const e={},i=c(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const s=c(t,["predictions"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>jw(d))),f(e,["generatedImages"],u)}const a=c(t,["positivePromptSafetyAttributes"]);return a!=null&&f(e,["positivePromptSafetyAttributes"],Cv(a)),e}function Bw(t){const e={},i=c(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const s=c(t,["predictions"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>xl(d))),f(e,["generatedImages"],u)}const a=c(t,["positivePromptSafetyAttributes"]);return a!=null&&f(e,["positivePromptSafetyAttributes"],xv(a)),e}function qw(t,e){const i={},s=c(t,["numberOfVideos"]);if(e!==void 0&&s!=null&&f(e,["parameters","sampleCount"],s),c(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const a=c(t,["durationSeconds"]);if(e!==void 0&&a!=null&&f(e,["parameters","durationSeconds"],a),c(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=c(t,["aspectRatio"]);e!==void 0&&u!=null&&f(e,["parameters","aspectRatio"],u);const d=c(t,["resolution"]);e!==void 0&&d!=null&&f(e,["parameters","resolution"],d);const p=c(t,["personGeneration"]);if(e!==void 0&&p!=null&&f(e,["parameters","personGeneration"],p),c(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const y=c(t,["negativePrompt"]);e!==void 0&&y!=null&&f(e,["parameters","negativePrompt"],y);const m=c(t,["enhancePrompt"]);if(e!==void 0&&m!=null&&f(e,["parameters","enhancePrompt"],m),c(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const v=c(t,["lastFrame"]);e!==void 0&&v!=null&&f(e,["instances[0]","lastFrame"],Al(v));const S=c(t,["referenceImages"]);if(e!==void 0&&S!=null){let E=S;Array.isArray(E)&&(E=E.map(x=>Y1(x))),f(e,["instances[0]","referenceImages"],E)}if(c(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(c(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return i}function Fw(t,e){const i={},s=c(t,["numberOfVideos"]);e!==void 0&&s!=null&&f(e,["parameters","sampleCount"],s);const a=c(t,["outputGcsUri"]);e!==void 0&&a!=null&&f(e,["parameters","storageUri"],a);const u=c(t,["fps"]);e!==void 0&&u!=null&&f(e,["parameters","fps"],u);const d=c(t,["durationSeconds"]);e!==void 0&&d!=null&&f(e,["parameters","durationSeconds"],d);const p=c(t,["seed"]);e!==void 0&&p!=null&&f(e,["parameters","seed"],p);const y=c(t,["aspectRatio"]);e!==void 0&&y!=null&&f(e,["parameters","aspectRatio"],y);const m=c(t,["resolution"]);e!==void 0&&m!=null&&f(e,["parameters","resolution"],m);const v=c(t,["personGeneration"]);e!==void 0&&v!=null&&f(e,["parameters","personGeneration"],v);const S=c(t,["pubsubTopic"]);e!==void 0&&S!=null&&f(e,["parameters","pubsubTopic"],S);const E=c(t,["negativePrompt"]);e!==void 0&&E!=null&&f(e,["parameters","negativePrompt"],E);const x=c(t,["enhancePrompt"]);e!==void 0&&x!=null&&f(e,["parameters","enhancePrompt"],x);const N=c(t,["generateAudio"]);e!==void 0&&N!=null&&f(e,["parameters","generateAudio"],N);const k=c(t,["lastFrame"]);e!==void 0&&k!=null&&f(e,["instances[0]","lastFrame"],ln(k));const U=c(t,["referenceImages"]);if(e!==void 0&&U!=null){let F=U;Array.isArray(F)&&(F=F.map($=>J1($))),f(e,["instances[0]","referenceImages"],F)}const P=c(t,["mask"]);e!==void 0&&P!=null&&f(e,["instances[0]","mask"],F1(P));const q=c(t,["compressionQuality"]);return e!==void 0&&q!=null&&f(e,["parameters","compressionQuality"],q),i}function Yw(t){const e={},i=c(t,["name"]);i!=null&&f(e,["name"],i);const s=c(t,["metadata"]);s!=null&&f(e,["metadata"],s);const a=c(t,["done"]);a!=null&&f(e,["done"],a);const u=c(t,["error"]);u!=null&&f(e,["error"],u);const d=c(t,["response","generateVideoResponse"]);return d!=null&&f(e,["response"],Xw(d)),e}function Jw(t){const e={},i=c(t,["name"]);i!=null&&f(e,["name"],i);const s=c(t,["metadata"]);s!=null&&f(e,["metadata"],s);const a=c(t,["done"]);a!=null&&f(e,["done"],a);const u=c(t,["error"]);u!=null&&f(e,["error"],u);const d=c(t,["response"]);return d!=null&&f(e,["response"],Qw(d)),e}function $w(t,e){const i={},s=c(e,["model"]);s!=null&&f(i,["_url","model"],De(t,s));const a=c(e,["prompt"]);a!=null&&f(i,["instances[0]","prompt"],a);const u=c(e,["image"]);u!=null&&f(i,["instances[0]","image"],Al(u));const d=c(e,["video"]);d!=null&&f(i,["instances[0]","video"],bv(d));const p=c(e,["source"]);p!=null&&Ww(p,i);const y=c(e,["config"]);return y!=null&&qw(y,i),i}function Kw(t,e){const i={},s=c(e,["model"]);s!=null&&f(i,["_url","model"],De(t,s));const a=c(e,["prompt"]);a!=null&&f(i,["instances[0]","prompt"],a);const u=c(e,["image"]);u!=null&&f(i,["instances[0]","image"],ln(u));const d=c(e,["video"]);d!=null&&f(i,["instances[0]","video"],wv(d));const p=c(e,["source"]);p!=null&&Zw(p,i);const y=c(e,["config"]);return y!=null&&Fw(y,i),i}function Xw(t){const e={},i=c(t,["generatedSamples"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(d=>t1(d))),f(e,["generatedVideos"],u)}const s=c(t,["raiMediaFilteredCount"]);s!=null&&f(e,["raiMediaFilteredCount"],s);const a=c(t,["raiMediaFilteredReasons"]);return a!=null&&f(e,["raiMediaFilteredReasons"],a),e}function Qw(t){const e={},i=c(t,["videos"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(d=>n1(d))),f(e,["generatedVideos"],u)}const s=c(t,["raiMediaFilteredCount"]);s!=null&&f(e,["raiMediaFilteredCount"],s);const a=c(t,["raiMediaFilteredReasons"]);return a!=null&&f(e,["raiMediaFilteredReasons"],a),e}function Ww(t,e){const i={},s=c(t,["prompt"]);e!==void 0&&s!=null&&f(e,["instances[0]","prompt"],s);const a=c(t,["image"]);e!==void 0&&a!=null&&f(e,["instances[0]","image"],Al(a));const u=c(t,["video"]);return e!==void 0&&u!=null&&f(e,["instances[0]","video"],bv(u)),i}function Zw(t,e){const i={},s=c(t,["prompt"]);e!==void 0&&s!=null&&f(e,["instances[0]","prompt"],s);const a=c(t,["image"]);e!==void 0&&a!=null&&f(e,["instances[0]","image"],ln(a));const u=c(t,["video"]);return e!==void 0&&u!=null&&f(e,["instances[0]","video"],wv(u)),i}function jw(t){const e={},i=c(t,["_self"]);i!=null&&f(e,["image"],c1(i));const s=c(t,["raiFilteredReason"]);s!=null&&f(e,["raiFilteredReason"],s);const a=c(t,["_self"]);return a!=null&&f(e,["safetyAttributes"],Cv(a)),e}function xl(t){const e={},i=c(t,["_self"]);i!=null&&f(e,["image"],Ev(i));const s=c(t,["raiFilteredReason"]);s!=null&&f(e,["raiFilteredReason"],s);const a=c(t,["_self"]);a!=null&&f(e,["safetyAttributes"],xv(a));const u=c(t,["prompt"]);return u!=null&&f(e,["enhancedPrompt"],u),e}function e1(t){const e={},i=c(t,["_self"]);i!=null&&f(e,["mask"],Ev(i));const s=c(t,["labels"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(u=>u)),f(e,["labels"],a)}return e}function t1(t){const e={},i=c(t,["video"]);return i!=null&&f(e,["video"],B1(i)),e}function n1(t){const e={},i=c(t,["_self"]);return i!=null&&f(e,["video"],q1(i)),e}function i1(t){const e={},i=c(t,["modelSelectionConfig"]);i!=null&&f(e,["modelConfig"],i);const s=c(t,["responseJsonSchema"]);s!=null&&f(e,["responseJsonSchema"],s);const a=c(t,["audioTimestamp"]);a!=null&&f(e,["audioTimestamp"],a);const u=c(t,["candidateCount"]);u!=null&&f(e,["candidateCount"],u);const d=c(t,["enableAffectiveDialog"]);d!=null&&f(e,["enableAffectiveDialog"],d);const p=c(t,["frequencyPenalty"]);p!=null&&f(e,["frequencyPenalty"],p);const y=c(t,["logprobs"]);y!=null&&f(e,["logprobs"],y);const m=c(t,["maxOutputTokens"]);m!=null&&f(e,["maxOutputTokens"],m);const v=c(t,["mediaResolution"]);v!=null&&f(e,["mediaResolution"],v);const S=c(t,["presencePenalty"]);S!=null&&f(e,["presencePenalty"],S);const E=c(t,["responseLogprobs"]);E!=null&&f(e,["responseLogprobs"],E);const x=c(t,["responseMimeType"]);x!=null&&f(e,["responseMimeType"],x);const N=c(t,["responseModalities"]);N!=null&&f(e,["responseModalities"],N);const k=c(t,["responseSchema"]);k!=null&&f(e,["responseSchema"],k);const U=c(t,["routingConfig"]);U!=null&&f(e,["routingConfig"],U);const P=c(t,["seed"]);P!=null&&f(e,["seed"],P);const q=c(t,["speechConfig"]);q!=null&&f(e,["speechConfig"],q);const F=c(t,["stopSequences"]);F!=null&&f(e,["stopSequences"],F);const $=c(t,["temperature"]);$!=null&&f(e,["temperature"],$);const Y=c(t,["thinkingConfig"]);Y!=null&&f(e,["thinkingConfig"],Y);const te=c(t,["topK"]);te!=null&&f(e,["topK"],te);const K=c(t,["topP"]);if(K!=null&&f(e,["topP"],K),c(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function o1(t,e){const i={},s=c(e,["model"]);return s!=null&&f(i,["_url","name"],De(t,s)),i}function s1(t,e){const i={},s=c(e,["model"]);return s!=null&&f(i,["_url","name"],De(t,s)),i}function r1(t){const e={};if(c(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=c(t,["enableWidget"]);return i!=null&&f(e,["enableWidget"],i),e}function a1(t){const e={};if(c(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=c(t,["timeRangeFilter"]);return i!=null&&f(e,["timeRangeFilter"],i),e}function l1(t){const e={},i=c(t,["aspectRatio"]);i!=null&&f(e,["aspectRatio"],i);const s=c(t,["imageSize"]);if(s!=null&&f(e,["imageSize"],s),c(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(c(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(c(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function u1(t){const e={},i=c(t,["aspectRatio"]);i!=null&&f(e,["aspectRatio"],i);const s=c(t,["imageSize"]);s!=null&&f(e,["imageSize"],s);const a=c(t,["personGeneration"]);a!=null&&f(e,["personGeneration"],a);const u=c(t,["outputMimeType"]);u!=null&&f(e,["imageOutputOptions","mimeType"],u);const d=c(t,["outputCompressionQuality"]);return d!=null&&f(e,["imageOutputOptions","compressionQuality"],d),e}function c1(t){const e={},i=c(t,["bytesBase64Encoded"]);i!=null&&f(e,["imageBytes"],ki(i));const s=c(t,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function Ev(t){const e={},i=c(t,["gcsUri"]);i!=null&&f(e,["gcsUri"],i);const s=c(t,["bytesBase64Encoded"]);s!=null&&f(e,["imageBytes"],ki(s));const a=c(t,["mimeType"]);return a!=null&&f(e,["mimeType"],a),e}function Al(t){const e={};if(c(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const i=c(t,["imageBytes"]);i!=null&&f(e,["bytesBase64Encoded"],ki(i));const s=c(t,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function ln(t){const e={},i=c(t,["gcsUri"]);i!=null&&f(e,["gcsUri"],i);const s=c(t,["imageBytes"]);s!=null&&f(e,["bytesBase64Encoded"],ki(s));const a=c(t,["mimeType"]);return a!=null&&f(e,["mimeType"],a),e}function d1(t,e,i){const s={},a=c(e,["pageSize"]);i!==void 0&&a!=null&&f(i,["_query","pageSize"],a);const u=c(e,["pageToken"]);i!==void 0&&u!=null&&f(i,["_query","pageToken"],u);const d=c(e,["filter"]);i!==void 0&&d!=null&&f(i,["_query","filter"],d);const p=c(e,["queryBase"]);return i!==void 0&&p!=null&&f(i,["_url","models_url"],mv(t,p)),s}function f1(t,e,i){const s={},a=c(e,["pageSize"]);i!==void 0&&a!=null&&f(i,["_query","pageSize"],a);const u=c(e,["pageToken"]);i!==void 0&&u!=null&&f(i,["_query","pageToken"],u);const d=c(e,["filter"]);i!==void 0&&d!=null&&f(i,["_query","filter"],d);const p=c(e,["queryBase"]);return i!==void 0&&p!=null&&f(i,["_url","models_url"],mv(t,p)),s}function h1(t,e){const i={},s=c(e,["config"]);return s!=null&&d1(t,s,i),i}function p1(t,e){const i={},s=c(e,["config"]);return s!=null&&f1(t,s,i),i}function m1(t){const e={},i=c(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const s=c(t,["nextPageToken"]);s!=null&&f(e,["nextPageToken"],s);const a=c(t,["_self"]);if(a!=null){let u=gv(a);Array.isArray(u)&&(u=u.map(d=>Cd(d))),f(e,["models"],u)}return e}function g1(t){const e={},i=c(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const s=c(t,["nextPageToken"]);s!=null&&f(e,["nextPageToken"],s);const a=c(t,["_self"]);if(a!=null){let u=gv(a);Array.isArray(u)&&(u=u.map(d=>xd(d))),f(e,["models"],u)}return e}function y1(t){const e={},i=c(t,["maskMode"]);i!=null&&f(e,["maskMode"],i);const s=c(t,["segmentationClasses"]);s!=null&&f(e,["maskClasses"],s);const a=c(t,["maskDilation"]);return a!=null&&f(e,["dilation"],a),e}function Cd(t){const e={},i=c(t,["name"]);i!=null&&f(e,["name"],i);const s=c(t,["displayName"]);s!=null&&f(e,["displayName"],s);const a=c(t,["description"]);a!=null&&f(e,["description"],a);const u=c(t,["version"]);u!=null&&f(e,["version"],u);const d=c(t,["_self"]);d!=null&&f(e,["tunedModelInfo"],U1(d));const p=c(t,["inputTokenLimit"]);p!=null&&f(e,["inputTokenLimit"],p);const y=c(t,["outputTokenLimit"]);y!=null&&f(e,["outputTokenLimit"],y);const m=c(t,["supportedGenerationMethods"]);m!=null&&f(e,["supportedActions"],m);const v=c(t,["temperature"]);v!=null&&f(e,["temperature"],v);const S=c(t,["maxTemperature"]);S!=null&&f(e,["maxTemperature"],S);const E=c(t,["topP"]);E!=null&&f(e,["topP"],E);const x=c(t,["topK"]);x!=null&&f(e,["topK"],x);const N=c(t,["thinking"]);return N!=null&&f(e,["thinking"],N),e}function xd(t){const e={},i=c(t,["name"]);i!=null&&f(e,["name"],i);const s=c(t,["displayName"]);s!=null&&f(e,["displayName"],s);const a=c(t,["description"]);a!=null&&f(e,["description"],a);const u=c(t,["versionId"]);u!=null&&f(e,["version"],u);const d=c(t,["deployedModels"]);if(d!=null){let S=d;Array.isArray(S)&&(S=S.map(E=>Rw(E))),f(e,["endpoints"],S)}const p=c(t,["labels"]);p!=null&&f(e,["labels"],p);const y=c(t,["_self"]);y!=null&&f(e,["tunedModelInfo"],k1(y));const m=c(t,["defaultCheckpointId"]);m!=null&&f(e,["defaultCheckpointId"],m);const v=c(t,["checkpoints"]);if(v!=null){let S=v;Array.isArray(S)&&(S=S.map(E=>E)),f(e,["checkpoints"],S)}return e}function v1(t){const e={},i=c(t,["mediaResolution"]);i!=null&&f(e,["mediaResolution"],i);const s=c(t,["codeExecutionResult"]);s!=null&&f(e,["codeExecutionResult"],s);const a=c(t,["executableCode"]);a!=null&&f(e,["executableCode"],a);const u=c(t,["fileData"]);u!=null&&f(e,["fileData"],Mw(u));const d=c(t,["functionCall"]);d!=null&&f(e,["functionCall"],Dw(d));const p=c(t,["functionResponse"]);p!=null&&f(e,["functionResponse"],p);const y=c(t,["inlineData"]);y!=null&&f(e,["inlineData"],iw(y));const m=c(t,["text"]);m!=null&&f(e,["text"],m);const v=c(t,["thought"]);v!=null&&f(e,["thought"],v);const S=c(t,["thoughtSignature"]);S!=null&&f(e,["thoughtSignature"],S);const E=c(t,["videoMetadata"]);return E!=null&&f(e,["videoMetadata"],E),e}function _1(t){const e={},i=c(t,["productImage"]);return i!=null&&f(e,["image"],ln(i)),e}function T1(t,e){const i={},s=c(t,["numberOfImages"]);e!==void 0&&s!=null&&f(e,["parameters","sampleCount"],s);const a=c(t,["baseSteps"]);e!==void 0&&a!=null&&f(e,["parameters","baseSteps"],a);const u=c(t,["outputGcsUri"]);e!==void 0&&u!=null&&f(e,["parameters","storageUri"],u);const d=c(t,["seed"]);e!==void 0&&d!=null&&f(e,["parameters","seed"],d);const p=c(t,["safetyFilterLevel"]);e!==void 0&&p!=null&&f(e,["parameters","safetySetting"],p);const y=c(t,["personGeneration"]);e!==void 0&&y!=null&&f(e,["parameters","personGeneration"],y);const m=c(t,["addWatermark"]);e!==void 0&&m!=null&&f(e,["parameters","addWatermark"],m);const v=c(t,["outputMimeType"]);e!==void 0&&v!=null&&f(e,["parameters","outputOptions","mimeType"],v);const S=c(t,["outputCompressionQuality"]);e!==void 0&&S!=null&&f(e,["parameters","outputOptions","compressionQuality"],S);const E=c(t,["enhancePrompt"]);e!==void 0&&E!=null&&f(e,["parameters","enhancePrompt"],E);const x=c(t,["labels"]);return e!==void 0&&x!=null&&f(e,["labels"],x),i}function S1(t,e){const i={},s=c(e,["model"]);s!=null&&f(i,["_url","model"],De(t,s));const a=c(e,["source"]);a!=null&&C1(a,i);const u=c(e,["config"]);return u!=null&&T1(u,i),i}function E1(t){const e={},i=c(t,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>xl(a))),f(e,["generatedImages"],s)}return e}function C1(t,e){const i={},s=c(t,["prompt"]);e!==void 0&&s!=null&&f(e,["instances[0]","prompt"],s);const a=c(t,["personImage"]);e!==void 0&&a!=null&&f(e,["instances[0]","personImage","image"],ln(a));const u=c(t,["productImages"]);if(e!==void 0&&u!=null){let d=u;Array.isArray(d)&&(d=d.map(p=>_1(p))),f(e,["instances[0]","productImages"],d)}return i}function x1(t){const e={},i=c(t,["referenceImage"]);i!=null&&f(e,["referenceImage"],ln(i));const s=c(t,["referenceId"]);s!=null&&f(e,["referenceId"],s);const a=c(t,["referenceType"]);a!=null&&f(e,["referenceType"],a);const u=c(t,["maskImageConfig"]);u!=null&&f(e,["maskImageConfig"],y1(u));const d=c(t,["controlImageConfig"]);d!=null&&f(e,["controlImageConfig"],cw(d));const p=c(t,["styleImageConfig"]);p!=null&&f(e,["styleImageConfig"],p);const y=c(t,["subjectImageConfig"]);return y!=null&&f(e,["subjectImageConfig"],y),e}function Cv(t){const e={},i=c(t,["safetyAttributes","categories"]);i!=null&&f(e,["categories"],i);const s=c(t,["safetyAttributes","scores"]);s!=null&&f(e,["scores"],s);const a=c(t,["contentType"]);return a!=null&&f(e,["contentType"],a),e}function xv(t){const e={},i=c(t,["safetyAttributes","categories"]);i!=null&&f(e,["categories"],i);const s=c(t,["safetyAttributes","scores"]);s!=null&&f(e,["scores"],s);const a=c(t,["contentType"]);return a!=null&&f(e,["contentType"],a),e}function A1(t){const e={},i=c(t,["category"]);if(i!=null&&f(e,["category"],i),c(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=c(t,["threshold"]);return s!=null&&f(e,["threshold"],s),e}function b1(t){const e={},i=c(t,["image"]);return i!=null&&f(e,["image"],ln(i)),e}function w1(t,e){const i={},s=c(t,["mode"]);e!==void 0&&s!=null&&f(e,["parameters","mode"],s);const a=c(t,["maxPredictions"]);e!==void 0&&a!=null&&f(e,["parameters","maxPredictions"],a);const u=c(t,["confidenceThreshold"]);e!==void 0&&u!=null&&f(e,["parameters","confidenceThreshold"],u);const d=c(t,["maskDilation"]);e!==void 0&&d!=null&&f(e,["parameters","maskDilation"],d);const p=c(t,["binaryColorThreshold"]);e!==void 0&&p!=null&&f(e,["parameters","binaryColorThreshold"],p);const y=c(t,["labels"]);return e!==void 0&&y!=null&&f(e,["labels"],y),i}function N1(t,e){const i={},s=c(e,["model"]);s!=null&&f(i,["_url","model"],De(t,s));const a=c(e,["source"]);a!=null&&R1(a,i);const u=c(e,["config"]);return u!=null&&w1(u,i),i}function I1(t){const e={},i=c(t,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>e1(a))),f(e,["generatedMasks"],s)}return e}function R1(t,e){const i={},s=c(t,["prompt"]);e!==void 0&&s!=null&&f(e,["instances[0]","prompt"],s);const a=c(t,["image"]);e!==void 0&&a!=null&&f(e,["instances[0]","image"],ln(a));const u=c(t,["scribbleImage"]);return e!==void 0&&u!=null&&f(e,["instances[0]","scribble"],b1(u)),i}function M1(t){const e={},i=c(t,["retrievalConfig"]);i!=null&&f(e,["retrievalConfig"],i);const s=c(t,["functionCallingConfig"]);return s!=null&&f(e,["functionCallingConfig"],Uw(s)),e}function D1(t){const e={};if(c(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=c(t,["computerUse"]);i!=null&&f(e,["computerUse"],i);const s=c(t,["fileSearch"]);s!=null&&f(e,["fileSearch"],s);const a=c(t,["codeExecution"]);if(a!=null&&f(e,["codeExecution"],a),c(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=c(t,["functionDeclarations"]);if(u!=null){let v=u;Array.isArray(v)&&(v=v.map(S=>S)),f(e,["functionDeclarations"],v)}const d=c(t,["googleMaps"]);d!=null&&f(e,["googleMaps"],r1(d));const p=c(t,["googleSearch"]);p!=null&&f(e,["googleSearch"],a1(p));const y=c(t,["googleSearchRetrieval"]);y!=null&&f(e,["googleSearchRetrieval"],y);const m=c(t,["urlContext"]);return m!=null&&f(e,["urlContext"],m),e}function Av(t){const e={},i=c(t,["retrieval"]);i!=null&&f(e,["retrieval"],i);const s=c(t,["computerUse"]);if(s!=null&&f(e,["computerUse"],s),c(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=c(t,["codeExecution"]);a!=null&&f(e,["codeExecution"],a);const u=c(t,["enterpriseWebSearch"]);u!=null&&f(e,["enterpriseWebSearch"],u);const d=c(t,["functionDeclarations"]);if(d!=null){let S=d;Array.isArray(S)&&(S=S.map(E=>kw(E))),f(e,["functionDeclarations"],S)}const p=c(t,["googleMaps"]);p!=null&&f(e,["googleMaps"],p);const y=c(t,["googleSearch"]);y!=null&&f(e,["googleSearch"],y);const m=c(t,["googleSearchRetrieval"]);m!=null&&f(e,["googleSearchRetrieval"],m);const v=c(t,["urlContext"]);return v!=null&&f(e,["urlContext"],v),e}function U1(t){const e={},i=c(t,["baseModel"]);i!=null&&f(e,["baseModel"],i);const s=c(t,["createTime"]);s!=null&&f(e,["createTime"],s);const a=c(t,["updateTime"]);return a!=null&&f(e,["updateTime"],a),e}function k1(t){const e={},i=c(t,["labels","google-vertex-llm-tuning-base-model-id"]);i!=null&&f(e,["baseModel"],i);const s=c(t,["createTime"]);s!=null&&f(e,["createTime"],s);const a=c(t,["updateTime"]);return a!=null&&f(e,["updateTime"],a),e}function L1(t,e){const i={},s=c(t,["displayName"]);e!==void 0&&s!=null&&f(e,["displayName"],s);const a=c(t,["description"]);e!==void 0&&a!=null&&f(e,["description"],a);const u=c(t,["defaultCheckpointId"]);return e!==void 0&&u!=null&&f(e,["defaultCheckpointId"],u),i}function P1(t,e){const i={},s=c(t,["displayName"]);e!==void 0&&s!=null&&f(e,["displayName"],s);const a=c(t,["description"]);e!==void 0&&a!=null&&f(e,["description"],a);const u=c(t,["defaultCheckpointId"]);return e!==void 0&&u!=null&&f(e,["defaultCheckpointId"],u),i}function O1(t,e){const i={},s=c(e,["model"]);s!=null&&f(i,["_url","name"],De(t,s));const a=c(e,["config"]);return a!=null&&L1(a,i),i}function H1(t,e){const i={},s=c(e,["model"]);s!=null&&f(i,["_url","model"],De(t,s));const a=c(e,["config"]);return a!=null&&P1(a,i),i}function G1(t,e){const i={},s=c(t,["outputGcsUri"]);e!==void 0&&s!=null&&f(e,["parameters","storageUri"],s);const a=c(t,["safetyFilterLevel"]);e!==void 0&&a!=null&&f(e,["parameters","safetySetting"],a);const u=c(t,["personGeneration"]);e!==void 0&&u!=null&&f(e,["parameters","personGeneration"],u);const d=c(t,["includeRaiReason"]);e!==void 0&&d!=null&&f(e,["parameters","includeRaiReason"],d);const p=c(t,["outputMimeType"]);e!==void 0&&p!=null&&f(e,["parameters","outputOptions","mimeType"],p);const y=c(t,["outputCompressionQuality"]);e!==void 0&&y!=null&&f(e,["parameters","outputOptions","compressionQuality"],y);const m=c(t,["enhanceInputImage"]);e!==void 0&&m!=null&&f(e,["parameters","upscaleConfig","enhanceInputImage"],m);const v=c(t,["imagePreservationFactor"]);e!==void 0&&v!=null&&f(e,["parameters","upscaleConfig","imagePreservationFactor"],v);const S=c(t,["labels"]);e!==void 0&&S!=null&&f(e,["labels"],S);const E=c(t,["numberOfImages"]);e!==void 0&&E!=null&&f(e,["parameters","sampleCount"],E);const x=c(t,["mode"]);return e!==void 0&&x!=null&&f(e,["parameters","mode"],x),i}function z1(t,e){const i={},s=c(e,["model"]);s!=null&&f(i,["_url","model"],De(t,s));const a=c(e,["image"]);a!=null&&f(i,["instances[0]","image"],ln(a));const u=c(e,["upscaleFactor"]);u!=null&&f(i,["parameters","upscaleConfig","upscaleFactor"],u);const d=c(e,["config"]);return d!=null&&G1(d,i),i}function V1(t){const e={},i=c(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const s=c(t,["predictions"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(u=>xl(u))),f(e,["generatedImages"],a)}return e}function B1(t){const e={},i=c(t,["uri"]);i!=null&&f(e,["uri"],i);const s=c(t,["encodedVideo"]);s!=null&&f(e,["videoBytes"],ki(s));const a=c(t,["encoding"]);return a!=null&&f(e,["mimeType"],a),e}function q1(t){const e={},i=c(t,["gcsUri"]);i!=null&&f(e,["uri"],i);const s=c(t,["bytesBase64Encoded"]);s!=null&&f(e,["videoBytes"],ki(s));const a=c(t,["mimeType"]);return a!=null&&f(e,["mimeType"],a),e}function F1(t){const e={},i=c(t,["image"]);i!=null&&f(e,["_self"],ln(i));const s=c(t,["maskMode"]);return s!=null&&f(e,["maskMode"],s),e}function Y1(t){const e={},i=c(t,["image"]);i!=null&&f(e,["image"],Al(i));const s=c(t,["referenceType"]);return s!=null&&f(e,["referenceType"],s),e}function J1(t){const e={},i=c(t,["image"]);i!=null&&f(e,["image"],ln(i));const s=c(t,["referenceType"]);return s!=null&&f(e,["referenceType"],s),e}function bv(t){const e={},i=c(t,["uri"]);i!=null&&f(e,["uri"],i);const s=c(t,["videoBytes"]);s!=null&&f(e,["encodedVideo"],ki(s));const a=c(t,["mimeType"]);return a!=null&&f(e,["encoding"],a),e}function wv(t){const e={},i=c(t,["uri"]);i!=null&&f(e,["gcsUri"],i);const s=c(t,["videoBytes"]);s!=null&&f(e,["bytesBase64Encoded"],ki(s));const a=c(t,["mimeType"]);return a!=null&&f(e,["mimeType"],a),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $1(t,e){const i={},s=c(t,["displayName"]);return e!==void 0&&s!=null&&f(e,["displayName"],s),i}function K1(t){const e={},i=c(t,["config"]);return i!=null&&$1(i,e),e}function X1(t,e){const i={},s=c(t,["force"]);return e!==void 0&&s!=null&&f(e,["_query","force"],s),i}function Q1(t){const e={},i=c(t,["name"]);i!=null&&f(e,["_url","name"],i);const s=c(t,["config"]);return s!=null&&X1(s,e),e}function W1(t){const e={},i=c(t,["name"]);return i!=null&&f(e,["_url","name"],i),e}function Z1(t,e){const i={},s=c(t,["customMetadata"]);if(e!==void 0&&s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>d)),f(e,["customMetadata"],u)}const a=c(t,["chunkingConfig"]);return e!==void 0&&a!=null&&f(e,["chunkingConfig"],a),i}function j1(t){const e={},i=c(t,["name"]);i!=null&&f(e,["name"],i);const s=c(t,["metadata"]);s!=null&&f(e,["metadata"],s);const a=c(t,["done"]);a!=null&&f(e,["done"],a);const u=c(t,["error"]);u!=null&&f(e,["error"],u);const d=c(t,["response"]);return d!=null&&f(e,["response"],tN(d)),e}function eN(t){const e={},i=c(t,["fileSearchStoreName"]);i!=null&&f(e,["_url","file_search_store_name"],i);const s=c(t,["fileName"]);s!=null&&f(e,["fileName"],s);const a=c(t,["config"]);return a!=null&&Z1(a,e),e}function tN(t){const e={},i=c(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const s=c(t,["parent"]);s!=null&&f(e,["parent"],s);const a=c(t,["documentName"]);return a!=null&&f(e,["documentName"],a),e}function nN(t,e){const i={},s=c(t,["pageSize"]);e!==void 0&&s!=null&&f(e,["_query","pageSize"],s);const a=c(t,["pageToken"]);return e!==void 0&&a!=null&&f(e,["_query","pageToken"],a),i}function iN(t){const e={},i=c(t,["config"]);return i!=null&&nN(i,e),e}function oN(t){const e={},i=c(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const s=c(t,["nextPageToken"]);s!=null&&f(e,["nextPageToken"],s);const a=c(t,["fileSearchStores"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>d)),f(e,["fileSearchStores"],u)}return e}function Nv(t,e){const i={},s=c(t,["mimeType"]);e!==void 0&&s!=null&&f(e,["mimeType"],s);const a=c(t,["displayName"]);e!==void 0&&a!=null&&f(e,["displayName"],a);const u=c(t,["customMetadata"]);if(e!==void 0&&u!=null){let p=u;Array.isArray(p)&&(p=p.map(y=>y)),f(e,["customMetadata"],p)}const d=c(t,["chunkingConfig"]);return e!==void 0&&d!=null&&f(e,["chunkingConfig"],d),i}function sN(t){const e={},i=c(t,["fileSearchStoreName"]);i!=null&&f(e,["_url","file_search_store_name"],i);const s=c(t,["config"]);return s!=null&&Nv(s,e),e}function rN(t){const e={},i=c(t,["sdkHttpResponse"]);return i!=null&&f(e,["sdkHttpResponse"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const aN="Content-Type",lN="X-Server-Timeout",uN="User-Agent",Ad="x-goog-api-client",cN="1.38.0",dN=`google-genai-sdk/${cN}`,fN="v1beta1",hN="v1beta";class pN{constructor(e){var i,s,a;this.clientOptions=Object.assign({},e),this.customBaseUrl=(i=e.httpOptions)===null||i===void 0?void 0:i.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const u={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const p=e.project&&e.location||!!e.apiKey;this.customBaseUrl&&!p?(u.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?u.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(u.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),u.apiVersion=(s=this.clientOptions.apiVersion)!==null&&s!==void 0?s:fN}else{if(!this.clientOptions.apiKey)throw new Er({message:"API key must be set when using the Gemini API.",status:403});u.apiVersion=(a=this.clientOptions.apiVersion)!==null&&a!==void 0?a:hN,u.baseUrl="https://generativelanguage.googleapis.com/"}u.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=u,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(u,e.httpOptions))}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const s=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&s.push(e.apiVersion),s.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),i=new URL(e);return i.protocol=i.protocol=="http:"?"ws":"wss",i.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,i,s){const a=[this.getRequestUrlInternal(i)];return s&&a.push(this.getBaseResourcePath()),e!==""&&a.push(e),new URL(`${a.join("/")}`)}shouldPrependVertexProjectPath(e,i){return!(i.baseUrl&&i.baseUrlResourceScope===_d.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let i=this.clientOptions.httpOptions;e.httpOptions&&(i=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const s=this.shouldPrependVertexProjectPath(e,i),a=this.constructUrl(e.path,i,s);if(e.queryParams)for(const[d,p]of Object.entries(e.queryParams))a.searchParams.append(d,String(p));let u={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else u.body=e.body;return u=await this.includeExtraHttpOptionsToRequestInit(u,i,a.toString(),e.abortSignal),this.unaryApiCall(a,u,e.httpMethod)}patchHttpOptions(e,i){const s=JSON.parse(JSON.stringify(e));for(const[a,u]of Object.entries(i))typeof u=="object"?s[a]=Object.assign(Object.assign({},s[a]),u):u!==void 0&&(s[a]=u);return s}async requestStream(e){let i=this.clientOptions.httpOptions;e.httpOptions&&(i=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const s=this.shouldPrependVertexProjectPath(e,i),a=this.constructUrl(e.path,i,s);(!a.searchParams.has("alt")||a.searchParams.get("alt")!=="sse")&&a.searchParams.set("alt","sse");let u={};return u.body=e.body,u=await this.includeExtraHttpOptionsToRequestInit(u,i,a.toString(),e.abortSignal),this.streamApiCall(a,u,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,i,s,a){if(i&&i.timeout||a){const u=new AbortController,d=u.signal;if(i.timeout&&(i==null?void 0:i.timeout)>0){const p=setTimeout(()=>u.abort(),i.timeout);p&&typeof p.unref=="function"&&p.unref()}a&&a.addEventListener("abort",()=>{u.abort()}),e.signal=d}return i&&i.extraBody!==null&&mN(e,i.extraBody),e.headers=await this.getHeadersInternal(i,s),e}async unaryApiCall(e,i,s){return this.apiCall(e.toString(),Object.assign(Object.assign({},i),{method:s})).then(async a=>(await Wy(a),new Td(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}async streamApiCall(e,i,s){return this.apiCall(e.toString(),Object.assign(Object.assign({},i),{method:s})).then(async a=>(await Wy(a),this.processStreamResponse(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}processStreamResponse(e){return sn(this,arguments,function*(){var s;const a=(s=e==null?void 0:e.body)===null||s===void 0?void 0:s.getReader(),u=new TextDecoder("utf-8");if(!a)throw new Error("Response body is empty");try{let d="";const p="data:",y=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:m,value:v}=yield fe(a.read());if(m){if(d.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const S=u.decode(v,{stream:!0});try{const N=JSON.parse(S);if("error"in N){const k=JSON.parse(JSON.stringify(N.error)),U=k.status,P=k.code,q=`got status: ${U}. ${JSON.stringify(N)}`;if(P>=400&&P<600)throw new Er({message:q,status:P})}}catch(N){if(N.name==="ApiError")throw N}d+=S;let E=-1,x=0;for(;;){E=-1,x=0;for(const U of y){const P=d.indexOf(U);P!==-1&&(E===-1||P<E)&&(E=P,x=U.length)}if(E===-1)break;const N=d.substring(0,E);d=d.substring(E+x);const k=N.trim();if(k.startsWith(p)){const U=k.substring(p.length).trim();try{const P=new Response(U,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield fe(new Td(P))}catch(P){throw new Error(`exception parsing stream chunk ${U}. ${P}`)}}}}}finally{a.releaseLock()}})}async apiCall(e,i){return fetch(e,i).catch(s=>{throw new Error(`exception ${s} sending request`)})}getDefaultHeaders(){const e={},i=dN+" "+this.clientOptions.userAgentExtra;return e[uN]=i,e[Ad]=i,e[aN]="application/json",e}async getHeadersInternal(e,i){const s=new Headers;if(e&&e.headers){for(const[a,u]of Object.entries(e.headers))s.append(a,u);e.timeout&&e.timeout>0&&s.append(lN,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(s,i),s}getFileName(e){var i;let s="";return typeof e=="string"&&(s=e.replace(/[/\\]+$/,""),s=(i=s.split(/[/\\]/).pop())!==null&&i!==void 0?i:""),s}async uploadFile(e,i){var s;const a={};i!=null&&(a.mimeType=i.mimeType,a.name=i.name,a.displayName=i.displayName),a.name&&!a.name.startsWith("files/")&&(a.name=`files/${a.name}`);const u=this.clientOptions.uploader,d=await u.stat(e);a.sizeBytes=String(d.size);const p=(s=i==null?void 0:i.mimeType)!==null&&s!==void 0?s:d.type;if(p===void 0||p==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");a.mimeType=p;const y={file:a},m=this.getFileName(e),v=W("upload/v1beta/files",y._url),S=await this.fetchUploadUrl(v,a.sizeBytes,a.mimeType,m,y,i==null?void 0:i.httpOptions);return u.upload(e,S,this)}async uploadFileToFileSearchStore(e,i,s){var a;const u=this.clientOptions.uploader,d=await u.stat(i),p=String(d.size),y=(a=s==null?void 0:s.mimeType)!==null&&a!==void 0?a:d.type;if(y===void 0||y==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const m=`upload/v1beta/${e}:uploadToFileSearchStore`,v=this.getFileName(i),S={};s!=null&&Nv(s,S);const E=await this.fetchUploadUrl(m,p,y,v,S,s==null?void 0:s.httpOptions);return u.uploadToFileSearchStore(i,E,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,i,s,a,u,d){var p;let y={};d?y=d:y={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i}`,"X-Goog-Upload-Header-Content-Type":`${s}`},a?{"X-Goog-Upload-File-Name":a}:{})};const m=await this.request({path:e,body:JSON.stringify(u),httpMethod:"POST",httpOptions:y});if(!m||!(m!=null&&m.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const v=(p=m==null?void 0:m.headers)===null||p===void 0?void 0:p["x-goog-upload-url"];if(v===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return v}}async function Wy(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const i=t.status;let s;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?s=await t.json():s={error:{message:await t.text(),code:t.status,status:t.statusText}};const a=JSON.stringify(s);throw i>=400&&i<600?new Er({message:a,status:i}):new Error(a)}}function mN(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let i={};if(typeof t.body=="string"&&t.body.length>0)try{const u=JSON.parse(t.body);if(typeof u=="object"&&u!==null&&!Array.isArray(u))i=u;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function s(u,d){const p=Object.assign({},u);for(const y in d)if(Object.prototype.hasOwnProperty.call(d,y)){const m=d[y],v=p[y];m&&typeof m=="object"&&!Array.isArray(m)&&v&&typeof v=="object"&&!Array.isArray(v)?p[y]=s(v,m):(v&&m&&typeof v!=typeof m&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof v}, New type: ${typeof m}. Overwriting.`),p[y]=m)}return p}const a=s(i,e);t.body=JSON.stringify(a)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const gN="mcp_used/unknown";let yN=!1;function Iv(t){for(const e of t)if(vN(e)||typeof e=="object"&&"inputSchema"in e)return!0;return yN}function Rv(t){var e;const i=(e=t[Ad])!==null&&e!==void 0?e:"";t[Ad]=(i+` ${gN}`).trimStart()}function vN(t){return t!==null&&typeof t=="object"&&t instanceof jd}function _N(t){return sn(this,arguments,function*(i,s=100){let a,u=0;for(;u<s;){const d=yield fe(i.listTools({cursor:a}));for(const p of d.tools)yield yield fe(p),u++;if(!d.nextCursor)break;a=d.nextCursor}})}class jd{constructor(e=[],i){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=i}static create(e,i){return new jd(e,i)}async initialize(){var e,i,s,a;if(this.mcpTools.length>0)return;const u={},d=[];for(const v of this.mcpClients)try{for(var p=!0,y=(i=void 0,rn(_N(v))),m;m=await y.next(),e=m.done,!e;p=!0){a=m.value,p=!1;const S=a;d.push(S);const E=S.name;if(u[E])throw new Error(`Duplicate function name ${E} found in MCP tools. Please ensure function names are unique.`);u[E]=v}}catch(S){i={error:S}}finally{try{!p&&!e&&(s=y.return)&&await s.call(y)}finally{if(i)throw i.error}}this.mcpTools=d,this.functionNameToMcpClient=u}async tool(){return await this.initialize(),Qx(this.mcpTools,this.config)}async callTool(e){await this.initialize();const i=[];for(const s of e)if(s.name in this.functionNameToMcpClient){const a=this.functionNameToMcpClient[s.name];let u;this.config.timeout&&(u={timeout:this.config.timeout});const d=await a.callTool({name:s.name,arguments:s.args},void 0,u);i.push({functionResponse:{name:s.name,response:d.isError?{error:d}:d}})}return i}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function TN(t,e,i){const s=new Bx;let a;i.data instanceof Blob?a=JSON.parse(await i.data.text()):a=JSON.parse(i.data),Object.assign(s,a),e(s)}class SN{constructor(e,i,s){this.apiClient=e,this.auth=i,this.webSocketFactory=s}async connect(e){var i,s;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const a=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion(),d=xN(this.apiClient.getDefaultHeaders()),p=this.apiClient.getApiKey(),y=`${a}/ws/google.ai.generativelanguage.${u}.GenerativeService.BidiGenerateMusic?key=${p}`;let m=()=>{};const v=new Promise(F=>{m=F}),S=e.callbacks,E=function(){m({})},x=this.apiClient,N={onopen:E,onmessage:F=>{TN(x,S.onmessage,F)},onerror:(i=S==null?void 0:S.onerror)!==null&&i!==void 0?i:function(F){},onclose:(s=S==null?void 0:S.onclose)!==null&&s!==void 0?s:function(F){}},k=this.webSocketFactory.create(y,CN(d),N);k.connect(),await v;const q={setup:{model:De(this.apiClient,e.model)}};return k.send(JSON.stringify(q)),new EN(k,this.apiClient)}}class EN{constructor(e,i){this.conn=e,this.apiClient=i}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const i=$b(e);this.conn.send(JSON.stringify({clientContent:i}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const i=Jb(e);this.conn.send(JSON.stringify(i))}sendPlaybackControl(e){const i={playbackControl:e};this.conn.send(JSON.stringify(i))}play(){this.sendPlaybackControl(is.PLAY)}pause(){this.sendPlaybackControl(is.PAUSE)}stop(){this.sendPlaybackControl(is.STOP)}resetContext(){this.sendPlaybackControl(is.RESET_CONTEXT)}close(){this.conn.close()}}function CN(t){const e={};return t.forEach((i,s)=>{e[s]=i}),e}function xN(t){const e=new Headers;for(const[i,s]of Object.entries(t))e.append(i,s);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const AN="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function bN(t,e,i){const s=new Vx;let a;i.data instanceof Blob?a=await i.data.text():i.data instanceof ArrayBuffer?a=new TextDecoder().decode(i.data):a=i.data;const u=JSON.parse(a);if(t.isVertexAI()){const d=Qb(u);Object.assign(s,d)}else Object.assign(s,u);e(s)}class wN{constructor(e,i,s){this.apiClient=e,this.auth=i,this.webSocketFactory=s,this.music=new SN(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var i,s,a,u,d,p;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),m=this.apiClient.getApiVersion();let v;const S=this.apiClient.getHeaders();e.config&&e.config.tools&&Iv(e.config.tools)&&Rv(S);const E=MN(S);if(this.apiClient.isVertexAI()){const Z=this.apiClient.getProject(),de=this.apiClient.getLocation(),ge=this.apiClient.getApiKey(),ye=!!Z&&!!de||!!ge;this.apiClient.getCustomBaseUrl()&&!ye?v=y:(v=`${y}/ws/google.cloud.aiplatform.${m}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(E,v))}else{const Z=this.apiClient.getApiKey();let de="BidiGenerateContent",ge="key";Z!=null&&Z.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),m!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),de="BidiGenerateContentConstrained",ge="access_token"),v=`${y}/ws/google.ai.generativelanguage.${m}.GenerativeService.${de}?${ge}=${Z}`}let x=()=>{};const N=new Promise(Z=>{x=Z}),k=e.callbacks,U=function(){var Z;(Z=k==null?void 0:k.onopen)===null||Z===void 0||Z.call(k),x({})},P=this.apiClient,q={onopen:U,onmessage:Z=>{bN(P,k.onmessage,Z)},onerror:(i=k==null?void 0:k.onerror)!==null&&i!==void 0?i:function(Z){},onclose:(s=k==null?void 0:k.onclose)!==null&&s!==void 0?s:function(Z){}},F=this.webSocketFactory.create(v,RN(E),q);F.connect(),await N;let $=De(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&$.startsWith("publishers/")){const Z=this.apiClient.getProject(),de=this.apiClient.getLocation();Z&&de&&($=`projects/${Z}/locations/${de}/`+$)}let Y={};this.apiClient.isVertexAI()&&((a=e.config)===null||a===void 0?void 0:a.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[ll.AUDIO]}:e.config.responseModalities=[ll.AUDIO]),!((u=e.config)===null||u===void 0)&&u.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const te=(p=(d=e.config)===null||d===void 0?void 0:d.tools)!==null&&p!==void 0?p:[],K=[];for(const Z of te)if(this.isCallableTool(Z)){const de=Z;K.push(await de.tool())}else K.push(Z);K.length>0&&(e.config.tools=K);const he={model:$,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?Y=Yb(this.apiClient,he):Y=Fb(this.apiClient,he),delete Y.config,F.send(JSON.stringify(Y)),new IN(F,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const NN={turnComplete:!0};class IN{constructor(e,i){this.conn=e,this.apiClient=i}tLiveClientContent(e,i){if(i.turns!==null&&i.turns!==void 0){let s=[];try{s=Xt(i.turns),e.isVertexAI()||(s=s.map(a=>Cl(a)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof i.turns}'`)}return{clientContent:{turns:s,turnComplete:i.turnComplete}}}return{clientContent:{turnComplete:i.turnComplete}}}tLiveClienttToolResponse(e,i){let s=[];if(i.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(i.functionResponses)?s=i.functionResponses:s=[i.functionResponses],s.length===0)throw new Error("functionResponses is required.");for(const u of s){if(typeof u!="object"||u===null||!("name"in u)||!("response"in u))throw new Error(`Could not parse function response, type '${typeof u}'.`);if(!e.isVertexAI()&&!("id"in u))throw new Error(AN)}return{toolResponse:{functionResponses:s}}}sendClientContent(e){e=Object.assign(Object.assign({},NN),e);const i=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(i))}sendRealtimeInput(e){let i={};this.apiClient.isVertexAI()?i={realtimeInput:Xb(e)}:i={realtimeInput:Kb(e)},this.conn.send(JSON.stringify(i))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const i=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(i))}close(){this.conn.close()}}function RN(t){const e={};return t.forEach((i,s)=>{e[s]=i}),e}function MN(t){const e=new Headers;for(const[i,s]of Object.entries(t))e.append(i,s);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Zy=10;function jy(t){var e,i,s;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let a=!1;for(const d of(i=t==null?void 0:t.tools)!==null&&i!==void 0?i:[])if(ls(d)){a=!0;break}if(!a)return!0;const u=(s=t==null?void 0:t.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls;return u&&(u<0||!Number.isInteger(u))||u==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",u),!0):!1}function ls(t){return"callTool"in t&&typeof t.callTool=="function"}function DN(t){var e,i,s;return(s=(i=(e=t.config)===null||e===void 0?void 0:e.tools)===null||i===void 0?void 0:i.some(a=>ls(a)))!==null&&s!==void 0?s:!1}function e0(t){var e;const i=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((s,a)=>{if(ls(s))return;const u=s;u.functionDeclarations&&u.functionDeclarations.length>0&&i.push(a)}),i}function t0(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class UN extends Wn{constructor(e){super(),this.apiClient=e,this.generateContent=async i=>{var s,a,u,d,p;const y=await this.processParamsMaybeAddMcpUsage(i);if(this.maybeMoveToResponseJsonSchem(i),!DN(i)||jy(i.config))return await this.generateContentInternal(y);const m=e0(i);if(m.length>0){const k=m.map(U=>`tools[${U}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${k}.`)}let v,S;const E=Xt(y.contents),x=(u=(a=(s=y.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&u!==void 0?u:Zy;let N=0;for(;N<x&&(v=await this.generateContentInternal(y),!(!v.functionCalls||v.functionCalls.length===0));){const k=v.candidates[0].content,U=[];for(const P of(p=(d=i.config)===null||d===void 0?void 0:d.tools)!==null&&p!==void 0?p:[])if(ls(P)){const F=await P.callTool(v.functionCalls);U.push(...F)}N++,S={role:"user",parts:U},y.contents=Xt(y.contents),y.contents.push(k),y.contents.push(S),t0(y.config)&&(E.push(k),E.push(S))}return t0(y.config)&&(v.automaticFunctionCallingHistory=E),v},this.generateContentStream=async i=>{var s,a,u,d,p;if(this.maybeMoveToResponseJsonSchem(i),jy(i.config)){const S=await this.processParamsMaybeAddMcpUsage(i);return await this.generateContentStreamInternal(S)}const y=e0(i);if(y.length>0){const S=y.map(E=>`tools[${E}]`).join(", ");throw new Error(`Incompatible tools found at ${S}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const m=(u=(a=(s=i==null?void 0:i.config)===null||s===void 0?void 0:s.toolConfig)===null||a===void 0?void 0:a.functionCallingConfig)===null||u===void 0?void 0:u.streamFunctionCallArguments,v=(p=(d=i==null?void 0:i.config)===null||d===void 0?void 0:d.automaticFunctionCalling)===null||p===void 0?void 0:p.disable;if(m&&!v)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(i)},this.generateImages=async i=>await this.generateImagesInternal(i).then(s=>{var a;let u;const d=[];if(s!=null&&s.generatedImages)for(const y of s.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((a=y==null?void 0:y.safetyAttributes)===null||a===void 0?void 0:a.contentType)==="Positive Prompt"?u=y==null?void 0:y.safetyAttributes:d.push(y);let p;return u?p={generatedImages:d,positivePromptSafetyAttributes:u,sdkHttpResponse:s.sdkHttpResponse}:p={generatedImages:d,sdkHttpResponse:s.sdkHttpResponse},p}),this.list=async i=>{var s;const d={config:Object.assign(Object.assign({},{queryBase:!0}),i==null?void 0:i.config)};if(this.apiClient.isVertexAI()&&!d.config.queryBase){if(!((s=d.config)===null||s===void 0)&&s.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");d.config.filter="labels.tune-type:*"}return new po($n.PAGED_ITEM_MODELS,p=>this.listInternal(p),await this.listInternal(d),d)},this.editImage=async i=>{const s={model:i.model,prompt:i.prompt,referenceImages:[],config:i.config};return i.referenceImages&&i.referenceImages&&(s.referenceImages=i.referenceImages.map(a=>a.toReferenceImageAPI())),await this.editImageInternal(s)},this.upscaleImage=async i=>{let s={numberOfImages:1,mode:"upscale"};i.config&&(s=Object.assign(Object.assign({},s),i.config));const a={model:i.model,image:i.image,upscaleFactor:i.upscaleFactor,config:s};return await this.upscaleImageInternal(a)},this.generateVideos=async i=>{var s,a,u,d,p,y;if((i.prompt||i.image||i.video)&&i.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((s=i.video)===null||s===void 0)&&s.uri&&(!((a=i.video)===null||a===void 0)&&a.videoBytes)?i.video={uri:i.video.uri,mimeType:i.video.mimeType}:!((d=(u=i.source)===null||u===void 0?void 0:u.video)===null||d===void 0)&&d.uri&&(!((y=(p=i.source)===null||p===void 0?void 0:p.video)===null||y===void 0)&&y.videoBytes)&&(i.source.video={uri:i.source.video.uri,mimeType:i.source.video.mimeType})),await this.generateVideosInternal(i)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var i,s,a;const u=(i=e.config)===null||i===void 0?void 0:i.tools;if(!u)return e;const d=await Promise.all(u.map(async y=>ls(y)?await y.tool():y)),p={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:d})};if(p.config.tools=d,e.config&&e.config.tools&&Iv(e.config.tools)){const y=(a=(s=e.config.httpOptions)===null||s===void 0?void 0:s.headers)!==null&&a!==void 0?a:{};let m=Object.assign({},y);Object.keys(m).length===0&&(m=this.apiClient.getDefaultHeaders()),Rv(m),p.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:m})}return p}async initAfcToolsMap(e){var i,s,a;const u=new Map;for(const d of(s=(i=e.config)===null||i===void 0?void 0:i.tools)!==null&&s!==void 0?s:[])if(ls(d)){const p=d,y=await p.tool();for(const m of(a=y.functionDeclarations)!==null&&a!==void 0?a:[]){if(!m.name)throw new Error("Function declaration name is required.");if(u.has(m.name))throw new Error(`Duplicate tool declaration name: ${m.name}`);u.set(m.name,p)}}return u}async processAfcStream(e){var i,s,a;const u=(a=(s=(i=e.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&a!==void 0?a:Zy;let d=!1,p=0;const y=await this.initAfcToolsMap(e);return(function(m,v,S){return sn(this,arguments,function*(){for(var E,x,N,k,U,P;p<u;){d&&(p++,d=!1);const Y=yield fe(m.processParamsMaybeAddMcpUsage(S)),te=yield fe(m.generateContentStreamInternal(Y)),K=[],he=[];try{for(var q=!0,F=(x=void 0,rn(te)),$;$=yield fe(F.next()),E=$.done,!E;q=!0){k=$.value,q=!1;const Z=k;if(yield yield fe(Z),Z.candidates&&(!((U=Z.candidates[0])===null||U===void 0)&&U.content)){he.push(Z.candidates[0].content);for(const de of(P=Z.candidates[0].content.parts)!==null&&P!==void 0?P:[])if(p<u&&de.functionCall){if(!de.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(de.functionCall.name)){const ge=yield fe(v.get(de.functionCall.name).callTool([de.functionCall]));K.push(...ge)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${de.functionCall.name}`)}}}}catch(Z){x={error:Z}}finally{try{!q&&!E&&(N=F.return)&&(yield fe(N.call(F)))}finally{if(x)throw x.error}}if(K.length>0){d=!0;const Z=new pr;Z.candidates=[{content:{role:"user",parts:K}}],yield yield fe(Z);const de=[];de.push(...he),de.push({role:"user",parts:K});const ge=Xt(S.contents).concat(de);S.contents=ge}else break}})})(this,y,e)}async generateContentInternal(e){var i,s,a,u;let d,p="",y={};if(this.apiClient.isVertexAI()){const m=Ky(this.apiClient,e);return p=W("{model}:generateContent",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const S=Qy(v),E=new pr;return Object.assign(E,S),E})}else{const m=$y(this.apiClient,e);return p=W("{model}:generateContent",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const S=Xy(v),E=new pr;return Object.assign(E,S),E})}}async generateContentStreamInternal(e){var i,s,a,u;let d,p="",y={};if(this.apiClient.isVertexAI()){const m=Ky(this.apiClient,e);return p=W("{model}:streamGenerateContent?alt=sse",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.requestStream({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),d.then(function(S){return sn(this,arguments,function*(){var E,x,N,k;try{for(var U=!0,P=rn(S),q;q=yield fe(P.next()),E=q.done,!E;U=!0){k=q.value,U=!1;const F=k,$=Qy(yield fe(F.json()));$.sdkHttpResponse={headers:F.headers};const Y=new pr;Object.assign(Y,$),yield yield fe(Y)}}catch(F){x={error:F}}finally{try{!U&&!E&&(N=P.return)&&(yield fe(N.call(P)))}finally{if(x)throw x.error}}})})}else{const m=$y(this.apiClient,e);return p=W("{model}:streamGenerateContent?alt=sse",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.requestStream({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}),d.then(function(S){return sn(this,arguments,function*(){var E,x,N,k;try{for(var U=!0,P=rn(S),q;q=yield fe(P.next()),E=q.done,!E;U=!0){k=q.value,U=!1;const F=k,$=Xy(yield fe(F.json()));$.sdkHttpResponse={headers:F.headers};const Y=new pr;Object.assign(Y,$),yield yield fe(Y)}}catch(F){x={error:F}}finally{try{!U&&!E&&(N=P.return)&&(yield fe(N.call(P)))}finally{if(x)throw x.error}}})})}}async embedContent(e){var i,s,a,u;let d,p="",y={};if(this.apiClient.isVertexAI()){const m=ww(this.apiClient,e);return p=W("{model}:predict",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const S=Iw(v),E=new Ry;return Object.assign(E,S),E})}else{const m=bw(this.apiClient,e);return p=W("{model}:batchEmbedContents",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const S=Nw(v),E=new Ry;return Object.assign(E,S),E})}}async generateImagesInternal(e){var i,s,a,u;let d,p="",y={};if(this.apiClient.isVertexAI()){const m=zw(this.apiClient,e);return p=W("{model}:predict",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const S=Bw(v),E=new My;return Object.assign(E,S),E})}else{const m=Gw(this.apiClient,e);return p=W("{model}:predict",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const S=Vw(v),E=new My;return Object.assign(E,S),E})}}async editImageInternal(e){var i,s;let a,u="",d={};if(this.apiClient.isVertexAI()){const p=Ew(this.apiClient,e);return u=W("{model}:predict",p._url),d=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),a.then(y=>{const m=Cw(y),v=new Rx;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var i,s;let a,u="",d={};if(this.apiClient.isVertexAI()){const p=z1(this.apiClient,e);return u=W("{model}:predict",p._url),d=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),a.then(y=>{const m=V1(y),v=new Mx;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var i,s;let a,u="",d={};if(this.apiClient.isVertexAI()){const p=S1(this.apiClient,e);return u=W("{model}:predict",p._url),d=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),a.then(y=>{const m=E1(y),v=new Dx;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var i,s;let a,u="",d={};if(this.apiClient.isVertexAI()){const p=N1(this.apiClient,e);return u=W("{model}:predict",p._url),d=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),a.then(y=>{const m=I1(y),v=new Ux;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var i,s,a,u;let d,p="",y={};if(this.apiClient.isVertexAI()){const m=s1(this.apiClient,e);return p=W("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),d.then(v=>xd(v))}else{const m=o1(this.apiClient,e);return p=W("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d.then(v=>Cd(v))}}async listInternal(e){var i,s,a,u;let d,p="",y={};if(this.apiClient.isVertexAI()){const m=p1(this.apiClient,e);return p=W("{models_url}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const S=g1(v),E=new Dy;return Object.assign(E,S),E})}else{const m=h1(this.apiClient,e);return p=W("{models_url}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const S=m1(v),E=new Dy;return Object.assign(E,S),E})}}async update(e){var i,s,a,u;let d,p="",y={};if(this.apiClient.isVertexAI()){const m=H1(this.apiClient,e);return p=W("{model}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),d.then(v=>xd(v))}else{const m=O1(this.apiClient,e);return p=W("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d.then(v=>Cd(v))}}async delete(e){var i,s,a,u;let d,p="",y={};if(this.apiClient.isVertexAI()){const m=vw(this.apiClient,e);return p=W("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const S=Tw(v),E=new Uy;return Object.assign(E,S),E})}else{const m=yw(this.apiClient,e);return p=W("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const S=_w(v),E=new Uy;return Object.assign(E,S),E})}}async countTokens(e){var i,s,a,u;let d,p="",y={};if(this.apiClient.isVertexAI()){const m=pw(this.apiClient,e);return p=W("{model}:countTokens",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const S=gw(v),E=new ky;return Object.assign(E,S),E})}else{const m=hw(this.apiClient,e);return p=W("{model}:countTokens",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const S=mw(v),E=new ky;return Object.assign(E,S),E})}}async computeTokens(e){var i,s;let a,u="",d={};if(this.apiClient.isVertexAI()){const p=rw(this.apiClient,e);return u=W("{model}:computeTokens",p._url),d=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),a.then(y=>{const m=aw(y),v=new kx;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var i,s,a,u;let d,p="",y={};if(this.apiClient.isVertexAI()){const m=Kw(this.apiClient,e);return p=W("{model}:predictLongRunning",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),d.then(v=>{const S=Jw(v),E=new ul;return Object.assign(E,S),E})}else{const m=$w(this.apiClient,e);return p=W("{model}:predictLongRunning",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d.then(v=>{const S=Yw(v),E=new ul;return Object.assign(E,S),E})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kN extends Wn{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const i=e.operation,s=e.config;if(i.name===void 0||i.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=i.name.split("/operations/")[0];let u;s&&"httpOptions"in s&&(u=s.httpOptions);const d=await this.fetchPredictVideosOperationInternal({operationName:i.name,resourceName:a,config:{httpOptions:u}});return i._fromAPIResponse({apiResponse:d,_isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:i.name,config:s});return i._fromAPIResponse({apiResponse:a,_isVertexAI:!1})}}async get(e){const i=e.operation,s=e.config;if(i.name===void 0||i.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=i.name.split("/operations/")[0];let u;s&&"httpOptions"in s&&(u=s.httpOptions);const d=await this.fetchPredictVideosOperationInternal({operationName:i.name,resourceName:a,config:{httpOptions:u}});return i._fromAPIResponse({apiResponse:d,_isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:i.name,config:s});return i._fromAPIResponse({apiResponse:a,_isVertexAI:!1})}}async getVideosOperationInternal(e){var i,s,a,u;let d,p="",y={};if(this.apiClient.isVertexAI()){const m=xx(e);return p=W("{operationName}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),d}else{const m=Cx(e);return p=W("{operationName}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d}}async fetchPredictVideosOperationInternal(e){var i,s;let a,u="",d={};if(this.apiClient.isVertexAI()){const p=gx(e);return u=W("{resourceName}:fetchPredictOperation",p._url),d=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),a}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function LN(t){const e={},i=c(t,["data"]);if(i!=null&&f(e,["data"],i),c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=c(t,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function PN(t){const e={},i=c(t,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>YN(u))),f(e,["parts"],a)}const s=c(t,["role"]);return s!=null&&f(e,["role"],s),e}function ON(t,e,i){const s={},a=c(e,["expireTime"]);i!==void 0&&a!=null&&f(i,["expireTime"],a);const u=c(e,["newSessionExpireTime"]);i!==void 0&&u!=null&&f(i,["newSessionExpireTime"],u);const d=c(e,["uses"]);i!==void 0&&d!=null&&f(i,["uses"],d);const p=c(e,["liveConnectConstraints"]);i!==void 0&&p!=null&&f(i,["bidiGenerateContentSetup"],FN(t,p));const y=c(e,["lockAdditionalFields"]);return i!==void 0&&y!=null&&f(i,["fieldMask"],y),s}function HN(t,e){const i={},s=c(e,["config"]);return s!=null&&f(i,["config"],ON(t,s,i)),i}function GN(t){const e={};if(c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=c(t,["fileUri"]);i!=null&&f(e,["fileUri"],i);const s=c(t,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function zN(t){const e={},i=c(t,["id"]);i!=null&&f(e,["id"],i);const s=c(t,["args"]);s!=null&&f(e,["args"],s);const a=c(t,["name"]);if(a!=null&&f(e,["name"],a),c(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function VN(t){const e={};if(c(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=c(t,["enableWidget"]);return i!=null&&f(e,["enableWidget"],i),e}function BN(t){const e={};if(c(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=c(t,["timeRangeFilter"]);return i!=null&&f(e,["timeRangeFilter"],i),e}function qN(t,e){const i={},s=c(t,["generationConfig"]);e!==void 0&&s!=null&&f(e,["setup","generationConfig"],s);const a=c(t,["responseModalities"]);e!==void 0&&a!=null&&f(e,["setup","generationConfig","responseModalities"],a);const u=c(t,["temperature"]);e!==void 0&&u!=null&&f(e,["setup","generationConfig","temperature"],u);const d=c(t,["topP"]);e!==void 0&&d!=null&&f(e,["setup","generationConfig","topP"],d);const p=c(t,["topK"]);e!==void 0&&p!=null&&f(e,["setup","generationConfig","topK"],p);const y=c(t,["maxOutputTokens"]);e!==void 0&&y!=null&&f(e,["setup","generationConfig","maxOutputTokens"],y);const m=c(t,["mediaResolution"]);e!==void 0&&m!=null&&f(e,["setup","generationConfig","mediaResolution"],m);const v=c(t,["seed"]);e!==void 0&&v!=null&&f(e,["setup","generationConfig","seed"],v);const S=c(t,["speechConfig"]);e!==void 0&&S!=null&&f(e,["setup","generationConfig","speechConfig"],Zd(S));const E=c(t,["thinkingConfig"]);e!==void 0&&E!=null&&f(e,["setup","generationConfig","thinkingConfig"],E);const x=c(t,["enableAffectiveDialog"]);e!==void 0&&x!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],x);const N=c(t,["systemInstruction"]);e!==void 0&&N!=null&&f(e,["setup","systemInstruction"],PN(ht(N)));const k=c(t,["tools"]);if(e!==void 0&&k!=null){let te=ms(k);Array.isArray(te)&&(te=te.map(K=>$N(ps(K)))),f(e,["setup","tools"],te)}const U=c(t,["sessionResumption"]);e!==void 0&&U!=null&&f(e,["setup","sessionResumption"],JN(U));const P=c(t,["inputAudioTranscription"]);e!==void 0&&P!=null&&f(e,["setup","inputAudioTranscription"],P);const q=c(t,["outputAudioTranscription"]);e!==void 0&&q!=null&&f(e,["setup","outputAudioTranscription"],q);const F=c(t,["realtimeInputConfig"]);e!==void 0&&F!=null&&f(e,["setup","realtimeInputConfig"],F);const $=c(t,["contextWindowCompression"]);e!==void 0&&$!=null&&f(e,["setup","contextWindowCompression"],$);const Y=c(t,["proactivity"]);if(e!==void 0&&Y!=null&&f(e,["setup","proactivity"],Y),c(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return i}function FN(t,e){const i={},s=c(e,["model"]);s!=null&&f(i,["setup","model"],De(t,s));const a=c(e,["config"]);return a!=null&&f(i,["config"],qN(a,i)),i}function YN(t){const e={},i=c(t,["mediaResolution"]);i!=null&&f(e,["mediaResolution"],i);const s=c(t,["codeExecutionResult"]);s!=null&&f(e,["codeExecutionResult"],s);const a=c(t,["executableCode"]);a!=null&&f(e,["executableCode"],a);const u=c(t,["fileData"]);u!=null&&f(e,["fileData"],GN(u));const d=c(t,["functionCall"]);d!=null&&f(e,["functionCall"],zN(d));const p=c(t,["functionResponse"]);p!=null&&f(e,["functionResponse"],p);const y=c(t,["inlineData"]);y!=null&&f(e,["inlineData"],LN(y));const m=c(t,["text"]);m!=null&&f(e,["text"],m);const v=c(t,["thought"]);v!=null&&f(e,["thought"],v);const S=c(t,["thoughtSignature"]);S!=null&&f(e,["thoughtSignature"],S);const E=c(t,["videoMetadata"]);return E!=null&&f(e,["videoMetadata"],E),e}function JN(t){const e={},i=c(t,["handle"]);if(i!=null&&f(e,["handle"],i),c(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function $N(t){const e={};if(c(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=c(t,["computerUse"]);i!=null&&f(e,["computerUse"],i);const s=c(t,["fileSearch"]);s!=null&&f(e,["fileSearch"],s);const a=c(t,["codeExecution"]);if(a!=null&&f(e,["codeExecution"],a),c(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=c(t,["functionDeclarations"]);if(u!=null){let v=u;Array.isArray(v)&&(v=v.map(S=>S)),f(e,["functionDeclarations"],v)}const d=c(t,["googleMaps"]);d!=null&&f(e,["googleMaps"],VN(d));const p=c(t,["googleSearch"]);p!=null&&f(e,["googleSearch"],BN(p));const y=c(t,["googleSearchRetrieval"]);y!=null&&f(e,["googleSearchRetrieval"],y);const m=c(t,["urlContext"]);return m!=null&&f(e,["urlContext"],m),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function KN(t){const e=[];for(const i in t)if(Object.prototype.hasOwnProperty.call(t,i)){const s=t[i];if(typeof s=="object"&&s!=null&&Object.keys(s).length>0){const a=Object.keys(s).map(u=>`${i}.${u}`);e.push(...a)}else e.push(i)}return e.join(",")}function XN(t,e){let i=null;const s=t.bidiGenerateContentSetup;if(typeof s=="object"&&s!==null&&"setup"in s){const u=s.setup;typeof u=="object"&&u!==null?(t.bidiGenerateContentSetup=u,i=u):delete t.bidiGenerateContentSetup}else s!==void 0&&delete t.bidiGenerateContentSetup;const a=t.fieldMask;if(i){const u=KN(i);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)u?t.fieldMask=u:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&a!==null&&Array.isArray(a)&&a.length>0){const d=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let p=[];a.length>0&&(p=a.map(m=>d.includes(m)?`generationConfig.${m}`:m));const y=[];u&&y.push(u),p.length>0&&y.push(...p),y.length>0?t.fieldMask=y.join(","):delete t.fieldMask}else delete t.fieldMask}else a!==null&&Array.isArray(a)&&a.length>0?t.fieldMask=a.join(","):delete t.fieldMask;return t}class QN extends Wn{constructor(e){super(),this.apiClient=e}async create(e){var i,s;let a,u="",d={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const p=HN(this.apiClient,e);u=W("auth_tokens",p._url),d=p._query,delete p.config,delete p._url,delete p._query;const y=XN(p,e.config);return a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json()),a.then(m=>m)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function WN(t,e){const i={},s=c(t,["force"]);return e!==void 0&&s!=null&&f(e,["_query","force"],s),i}function ZN(t){const e={},i=c(t,["name"]);i!=null&&f(e,["_url","name"],i);const s=c(t,["config"]);return s!=null&&WN(s,e),e}function jN(t){const e={},i=c(t,["name"]);return i!=null&&f(e,["_url","name"],i),e}function eI(t,e){const i={},s=c(t,["pageSize"]);e!==void 0&&s!=null&&f(e,["_query","pageSize"],s);const a=c(t,["pageToken"]);return e!==void 0&&a!=null&&f(e,["_query","pageToken"],a),i}function tI(t){const e={},i=c(t,["parent"]);i!=null&&f(e,["_url","parent"],i);const s=c(t,["config"]);return s!=null&&eI(s,e),e}function nI(t){const e={},i=c(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const s=c(t,["nextPageToken"]);s!=null&&f(e,["nextPageToken"],s);const a=c(t,["documents"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>d)),f(e,["documents"],u)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class iI extends Wn{constructor(e){super(),this.apiClient=e,this.list=async i=>new po($n.PAGED_ITEM_DOCUMENTS,s=>this.listInternal({parent:i.parent,config:s.config}),await this.listInternal(i),i)}async get(e){var i,s;let a,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=jN(e);return u=W("{name}",p._url),d=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),a.then(y=>y)}}async delete(e){var i,s;let a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=ZN(e);a=W("{name}",d._url),u=d._query,delete d._url,delete d._query,await this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var i,s;let a,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=tI(e);return u=W("{parent}/documents",p._url),d=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),a.then(y=>{const m=nI(y),v=new Lx;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class oI extends Wn{constructor(e,i=new iI(e)){super(),this.apiClient=e,this.documents=i,this.list=async(s={})=>new po($n.PAGED_ITEM_FILE_SEARCH_STORES,a=>this.listInternal(a),await this.listInternal(s),s)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var i,s;let a,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=K1(e);return u=W("fileSearchStores",p._url),d=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),a.then(y=>y)}}async get(e){var i,s;let a,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=W1(e);return u=W("{name}",p._url),d=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),a.then(y=>y)}}async delete(e){var i,s;let a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=Q1(e);a=W("{name}",d._url),u=d._query,delete d._url,delete d._query,await this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var i,s;let a,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=iN(e);return u=W("fileSearchStores",p._url),d=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),a.then(y=>{const m=oN(y),v=new Px;return Object.assign(v,m),v})}}async uploadToFileSearchStoreInternal(e){var i,s;let a,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=sN(e);return u=W("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",p._url),d=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),a.then(y=>{const m=rN(y),v=new Ox;return Object.assign(v,m),v})}}async importFile(e){var i,s;let a,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=eN(e);return u=W("{file_search_store_name}:importFile",p._url),d=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),a.then(y=>{const m=j1(y),v=new $d;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Mv=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return Mv=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),i=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,s=>(+s^i()&15>>+s/4).toString(16))};const sI=()=>Mv();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bd(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const wd=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Qt extends Error{}class yt extends Qt{constructor(e,i,s,a){super(`${yt.makeMessage(e,i,s)}`),this.status=e,this.headers=a,this.error=i}static makeMessage(e,i,s){const a=i!=null&&i.message?typeof i.message=="string"?i.message:JSON.stringify(i.message):i?JSON.stringify(i):s;return e&&a?`${e} ${a}`:e?`${e} status code (no body)`:a||"(no status code or body)"}static generate(e,i,s,a){if(!e||!a)return new bl({message:s,cause:wd(i)});const u=i;return e===400?new Uv(e,u,s,a):e===401?new kv(e,u,s,a):e===403?new Lv(e,u,s,a):e===404?new Pv(e,u,s,a):e===409?new Ov(e,u,s,a):e===422?new Hv(e,u,s,a):e===429?new Gv(e,u,s,a):e>=500?new zv(e,u,s,a):new yt(e,u,s,a)}}class Nd extends yt{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class bl extends yt{constructor({message:e,cause:i}){super(void 0,void 0,e||"Connection error.",void 0),i&&(this.cause=i)}}class Dv extends bl{constructor({message:e}={}){super({message:e??"Request timed out."})}}class Uv extends yt{}class kv extends yt{}class Lv extends yt{}class Pv extends yt{}class Ov extends yt{}class Hv extends yt{}class Gv extends yt{}class zv extends yt{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const rI=/^[a-z][a-z0-9+.-]*:/i,aI=t=>rI.test(t);let Id=t=>(Id=Array.isArray,Id(t));const lI=Id;let uI=lI;const n0=uI;function cI(t){if(!t)return!0;for(const e in t)return!1;return!0}function dI(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const fI=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Qt(`${t} must be an integer`);if(e<0)throw new Qt(`${t} must be a positive integer`);return e},hI=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const pI=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ns="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mI(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const gI=()=>{var t,e,i,s,a;const u=mI();if(u==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ns,"X-Stainless-OS":o0(Deno.build.os),"X-Stainless-Arch":i0(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ns,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(u==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ns,"X-Stainless-OS":o0((i=globalThis.process.platform)!==null&&i!==void 0?i:"unknown"),"X-Stainless-Arch":i0((s=globalThis.process.arch)!==null&&s!==void 0?s:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(a=globalThis.process.version)!==null&&a!==void 0?a:"unknown"};const d=yI();return d?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ns,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${d.browser}`,"X-Stainless-Runtime-Version":d.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ns,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function yI(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:i}of t){const s=i.exec(navigator.userAgent);if(s){const a=s[1]||0,u=s[2]||0,d=s[3]||0;return{browser:e,version:`${a}.${u}.${d}`}}}return null}const i0=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",o0=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let Xa;const vI=()=>Xa??(Xa=gI());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _I(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Vv(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function TI(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return Vv({start(){},async pull(i){const{done:s,value:a}=await e.next();s?i.close():i.enqueue(a)},async cancel(){var i;await((i=e.return)===null||i===void 0?void 0:i.call(e))}})}function Bv(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const i=await e.read();return i!=null&&i.done&&e.releaseLock(),i}catch(i){throw e.releaseLock(),i}},async return(){const i=e.cancel();return e.releaseLock(),await i,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function SI(t){var e,i;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((i=(e=t[Symbol.asyncIterator]()).return)===null||i===void 0?void 0:i.call(e));return}const s=t.getReader(),a=s.cancel();s.releaseLock(),await a}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const EI=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const qv=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,i=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(i?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function td(t,e,i){return qv(),new File(t,e??"unknown_file",i)}function CI(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const xI=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Fv=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",AI=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&Fv(t),bI=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function wI(t,e,i){if(qv(),t=await t,AI(t))return t instanceof File?t:td([await t.arrayBuffer()],t.name);if(bI(t)){const a=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),td(await Rd(a),e,i)}const s=await Rd(t);if(e||(e=CI(t)),!(i!=null&&i.type)){const a=s.find(u=>typeof u=="object"&&"type"in u&&u.type);typeof a=="string"&&(i=Object.assign(Object.assign({},i),{type:a}))}return td(s,e,i)}async function Rd(t){var e,i,s,a,u;let d=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)d.push(t);else if(Fv(t))d.push(t instanceof Blob?t:await t.arrayBuffer());else if(xI(t))try{for(var p=!0,y=rn(t),m;m=await y.next(),e=m.done,!e;p=!0){a=m.value,p=!1;const v=a;d.push(...await Rd(v))}}catch(v){i={error:v}}finally{try{!p&&!e&&(s=y.return)&&await s.call(y)}finally{if(i)throw i.error}}else{const v=(u=t==null?void 0:t.constructor)===null||u===void 0?void 0:u.name;throw new Error(`Unexpected data type: ${typeof t}${v?`; constructor: ${v}`:""}${NI(t)}`)}return d}function NI(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(i=>`"${i}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Yv{constructor(e){this._client=e}}Yv._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Jv(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const s0=Object.freeze(Object.create(null)),II=(t=Jv)=>(function(i,...s){if(i.length===1)return i[0];let a=!1;const u=[],d=i.reduce((v,S,E)=>{var x,N,k;/[?#]/.test(S)&&(a=!0);const U=s[E];let P=(a?encodeURIComponent:t)(""+U);return E!==s.length&&(U==null||typeof U=="object"&&U.toString===((k=Object.getPrototypeOf((N=Object.getPrototypeOf((x=U.hasOwnProperty)!==null&&x!==void 0?x:s0))!==null&&N!==void 0?N:s0))===null||k===void 0?void 0:k.toString))&&(P=U+"",u.push({start:v.length+S.length,length:P.length,error:`Value of type ${Object.prototype.toString.call(U).slice(8,-1)} is not a valid path parameter`})),v+S+(E===s.length?"":P)},""),p=d.split(/[?#]/,1)[0],y=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let m;for(;(m=y.exec(p))!==null;)u.push({start:m.index,length:m[0].length,error:`Value "${m[0]}" can't be safely passed as a path parameter`});if(u.sort((v,S)=>v.start-S.start),u.length>0){let v=0;const S=u.reduce((E,x)=>{const N=" ".repeat(x.start-v),k="^".repeat(x.length);return v=x.start+x.length,E+N+k},"");throw new Qt(`Path parameters result in path with invalid segments:
${u.map(E=>E.error).join(`
`)}
${d}
${S}`)}return d}),Qa=II(Jv);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $v extends Yv{create(e,i){var s;const{api_version:a=this._client.apiVersion}=e,u=dl(e,["api_version"]);if("model"in u&&"agent_config"in u)throw new Qt("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in u&&"generation_config"in u)throw new Qt("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Qa`/${a}/interactions`,Object.assign(Object.assign({body:u},i),{stream:(s=e.stream)!==null&&s!==void 0?s:!1}))}delete(e,i={},s){const{api_version:a=this._client.apiVersion}=i??{};return this._client.delete(Qa`/${a}/interactions/${e}`,s)}cancel(e,i={},s){const{api_version:a=this._client.apiVersion}=i??{};return this._client.post(Qa`/${a}/interactions/${e}/cancel`,s)}get(e,i={},s){var a;const u=i??{},{api_version:d=this._client.apiVersion}=u,p=dl(u,["api_version"]);return this._client.get(Qa`/${d}/interactions/${e}`,Object.assign(Object.assign({query:p},s),{stream:(a=i==null?void 0:i.stream)!==null&&a!==void 0?a:!1}))}}$v._key=Object.freeze(["interactions"]);class Kv extends $v{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function RI(t){let e=0;for(const a of t)e+=a.length;const i=new Uint8Array(e);let s=0;for(const a of t)i.set(a,s),s+=a.length;return i}let Wa;function ef(t){let e;return(Wa??(e=new globalThis.TextEncoder,Wa=e.encode.bind(e)))(t)}let Za;function r0(t){let e;return(Za??(e=new globalThis.TextDecoder,Za=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wl{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const i=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?ef(e):e;this.buffer=RI([this.buffer,i]);const s=[];let a;for(;(a=MI(this.buffer,this.carriageReturnIndex))!=null;){if(a.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=a.index;continue}if(this.carriageReturnIndex!=null&&(a.index!==this.carriageReturnIndex+1||a.carriage)){s.push(r0(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const u=this.carriageReturnIndex!==null?a.preceding-1:a.preceding,d=r0(this.buffer.subarray(0,u));s.push(d),this.buffer=this.buffer.subarray(a.index),this.carriageReturnIndex=null}return s}flush(){return this.buffer.length?this.decode(`
`):[]}}wl.NEWLINE_CHARS=new Set([`
`,"\r"]);wl.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function MI(t,e){for(let a=e??0;a<t.length;a++){if(t[a]===10)return{preceding:a,index:a+1,carriage:!1};if(t[a]===13)return{preceding:a,index:a+1,carriage:!0}}return null}function DI(t){for(let s=0;s<t.length-1;s++){if(t[s]===10&&t[s+1]===10||t[s]===13&&t[s+1]===13)return s+2;if(t[s]===13&&t[s+1]===10&&s+3<t.length&&t[s+2]===13&&t[s+3]===10)return s+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const fl={off:0,error:200,warn:300,info:400,debug:500},a0=(t,e,i)=>{if(t){if(dI(fl,t))return t;mt(i).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(fl))}`)}};function gr(){}function ja(t,e,i){return!e||fl[t]>fl[i]?gr:e[t].bind(e)}const UI={error:gr,warn:gr,info:gr,debug:gr};let l0=new WeakMap;function mt(t){var e;const i=t.logger,s=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!i)return UI;const a=l0.get(i);if(a&&a[0]===s)return a[1];const u={error:ja("error",i,s),warn:ja("warn",i,s),info:ja("info",i,s),debug:ja("debug",i,s)};return l0.set(i,[s,u]),u}const oo=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,i])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":i]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class os{constructor(e,i,s){this.iterator=e,this.controller=i,this.client=s}static fromSSEResponse(e,i,s){let a=!1;const u=s?mt(s):console;function d(){return sn(this,arguments,function*(){var y,m,v,S;if(a)throw new Qt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");a=!0;let E=!1;try{try{for(var x=!0,N=rn(kI(e,i)),k;k=yield fe(N.next()),y=k.done,!y;x=!0){S=k.value,x=!1;const U=S;if(!E)if(U.data.startsWith("[DONE]")){E=!0;continue}else try{yield yield fe(JSON.parse(U.data))}catch(P){throw u.error("Could not parse message into JSON:",U.data),u.error("From chunk:",U.raw),P}}}catch(U){m={error:U}}finally{try{!x&&!y&&(v=N.return)&&(yield fe(v.call(N)))}finally{if(m)throw m.error}}E=!0}catch(U){if(bd(U))return yield fe(void 0);throw U}finally{E||i.abort()}})}return new os(d,i,s)}static fromReadableStream(e,i,s){let a=!1;function u(){return sn(this,arguments,function*(){var y,m,v,S;const E=new wl,x=Bv(e);try{for(var N=!0,k=rn(x),U;U=yield fe(k.next()),y=U.done,!y;N=!0){S=U.value,N=!1;const P=S;for(const q of E.decode(P))yield yield fe(q)}}catch(P){m={error:P}}finally{try{!N&&!y&&(v=k.return)&&(yield fe(v.call(k)))}finally{if(m)throw m.error}}for(const P of E.flush())yield yield fe(P)})}function d(){return sn(this,arguments,function*(){var y,m,v,S;if(a)throw new Qt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");a=!0;let E=!1;try{try{for(var x=!0,N=rn(u()),k;k=yield fe(N.next()),y=k.done,!y;x=!0){S=k.value,x=!1;const U=S;E||U&&(yield yield fe(JSON.parse(U)))}}catch(U){m={error:U}}finally{try{!x&&!y&&(v=N.return)&&(yield fe(v.call(N)))}finally{if(m)throw m.error}}E=!0}catch(U){if(bd(U))return yield fe(void 0);throw U}finally{E||i.abort()}})}return new os(d,i,s)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],i=[],s=this.iterator(),a=u=>({next:()=>{if(u.length===0){const d=s.next();e.push(d),i.push(d)}return u.shift()}});return[new os(()=>a(e),this.controller,this.client),new os(()=>a(i),this.controller,this.client)]}toReadableStream(){const e=this;let i;return Vv({async start(){i=e[Symbol.asyncIterator]()},async pull(s){try{const{value:a,done:u}=await i.next();if(u)return s.close();const d=ef(JSON.stringify(a)+`
`);s.enqueue(d)}catch(a){s.error(a)}},async cancel(){var s;await((s=i.return)===null||s===void 0?void 0:s.call(i))}})}}function kI(t,e){return sn(this,arguments,function*(){var s,a,u,d;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Qt("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Qt("Attempted to iterate over a response with no body");const p=new PI,y=new wl,m=Bv(t.body);try{for(var v=!0,S=rn(LI(m)),E;E=yield fe(S.next()),s=E.done,!s;v=!0){d=E.value,v=!1;const x=d;for(const N of y.decode(x)){const k=p.decode(N);k&&(yield yield fe(k))}}}catch(x){a={error:x}}finally{try{!v&&!s&&(u=S.return)&&(yield fe(u.call(S)))}finally{if(a)throw a.error}}for(const x of y.flush()){const N=p.decode(x);N&&(yield yield fe(N))}})}function LI(t){return sn(this,arguments,function*(){var i,s,a,u;let d=new Uint8Array;try{for(var p=!0,y=rn(t),m;m=yield fe(y.next()),i=m.done,!i;p=!0){u=m.value,p=!1;const v=u;if(v==null)continue;const S=v instanceof ArrayBuffer?new Uint8Array(v):typeof v=="string"?ef(v):v;let E=new Uint8Array(d.length+S.length);E.set(d),E.set(S,d.length),d=E;let x;for(;(x=DI(d))!==-1;)yield yield fe(d.slice(0,x)),d=d.slice(x)}}catch(v){s={error:v}}finally{try{!p&&!i&&(a=y.return)&&(yield fe(a.call(y)))}finally{if(s)throw s.error}}d.length>0&&(yield yield fe(d))})}class PI{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const u={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],u}if(this.chunks.push(e),e.startsWith(":"))return null;let[i,s,a]=OI(e,":");return a.startsWith(" ")&&(a=a.substring(1)),i==="event"?this.event=a:i==="data"&&this.data.push(a),null}}function OI(t,e){const i=t.indexOf(e);return i!==-1?[t.substring(0,i),e,t.substring(i+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function HI(t,e){const{response:i,requestLogID:s,retryOfRequestLogID:a,startTime:u}=e,d=await(async()=>{var p;if(e.options.stream)return mt(t).debug("response",i.status,i.url,i.headers,i.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(i,e.controller,t):os.fromSSEResponse(i,e.controller,t);if(i.status===204)return null;if(e.options.__binaryResponse)return i;const y=i.headers.get("content-type"),m=(p=y==null?void 0:y.split(";")[0])===null||p===void 0?void 0:p.trim();return(m==null?void 0:m.includes("application/json"))||(m==null?void 0:m.endsWith("+json"))?await i.json():await i.text()})();return mt(t).debug(`[${s}] response parsed`,oo({retryOfRequestLogID:a,url:i.url,status:i.status,body:d,durationMs:Date.now()-u})),d}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class tf extends Promise{constructor(e,i,s=HI){super(a=>{a(null)}),this.responsePromise=i,this.parseResponse=s,this.client=e}_thenUnwrap(e){return new tf(this.client,this.responsePromise,async(i,s)=>e(await this.parseResponse(i,s),s))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,i]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:i}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,i){return this.parse().then(e,i)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Xv=Symbol("brand.privateNullableHeaders");function*GI(t){if(!t)return;if(Xv in t){const{values:s,nulls:a}=t;yield*s.entries();for(const u of a)yield[u,null];return}let e=!1,i;t instanceof Headers?i=t.entries():n0(t)?i=t:(e=!0,i=Object.entries(t??{}));for(let s of i){const a=s[0];if(typeof a!="string")throw new TypeError("expected header name to be a string");const u=n0(s[1])?s[1]:[s[1]];let d=!1;for(const p of u)p!==void 0&&(e&&!d&&(d=!0,yield[a,null]),yield[a,p])}}const mr=t=>{const e=new Headers,i=new Set;for(const s of t){const a=new Set;for(const[u,d]of GI(s)){const p=u.toLowerCase();a.has(p)||(e.delete(u),a.add(p)),d===null?(e.delete(u),i.add(p)):(e.append(u,d),i.delete(p))}}return{[Xv]:!0,values:e,nulls:i}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const nd=t=>{var e,i,s,a,u,d;if(typeof globalThis.process<"u")return(s=(i=(e=cx)===null||e===void 0?void 0:e[t])===null||i===void 0?void 0:i.trim())!==null&&s!==void 0?s:void 0;if(typeof globalThis.Deno<"u")return(d=(u=(a=globalThis.Deno.env)===null||a===void 0?void 0:a.get)===null||u===void 0?void 0:u.call(a,t))===null||d===void 0?void 0:d.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Qv;class Nl{constructor(e){var i,s,a,u,d,p,y,{baseURL:m=nd("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:v=(i=nd("GEMINI_API_KEY"))!==null&&i!==void 0?i:null,apiVersion:S="v1beta"}=e,E=dl(e,["baseURL","apiKey","apiVersion"]);const x=Object.assign(Object.assign({apiKey:v,apiVersion:S},E),{baseURL:m||"https://generativelanguage.googleapis.com"});this.baseURL=x.baseURL,this.timeout=(s=x.timeout)!==null&&s!==void 0?s:Nl.DEFAULT_TIMEOUT,this.logger=(a=x.logger)!==null&&a!==void 0?a:console;const N="warn";this.logLevel=N,this.logLevel=(d=(u=a0(x.logLevel,"ClientOptions.logLevel",this))!==null&&u!==void 0?u:a0(nd("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&d!==void 0?d:N,this.fetchOptions=x.fetchOptions,this.maxRetries=(p=x.maxRetries)!==null&&p!==void 0?p:2,this.fetch=(y=x.fetch)!==null&&y!==void 0?y:_I(),this.encoder=EI,this._options=x,this.apiKey=v,this.apiVersion=S,this.clientAdapter=x.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:i}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!i.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const i=mr([e.headers]);if(!(i.values.has("authorization")||i.values.has("x-goog-api-key"))){if(this.apiKey)return mr([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return mr([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([i,s])=>typeof s<"u").map(([i,s])=>{if(typeof s=="string"||typeof s=="number"||typeof s=="boolean")return`${encodeURIComponent(i)}=${encodeURIComponent(s)}`;if(s===null)return`${encodeURIComponent(i)}=`;throw new Qt(`Cannot stringify type ${typeof s}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${ns}`}defaultIdempotencyKey(){return`stainless-node-retry-${sI()}`}makeStatusError(e,i,s,a){return yt.generate(e,i,s,a)}buildURL(e,i,s){const a=!this.baseURLOverridden()&&s||this.baseURL,u=aI(e)?new URL(e):new URL(a+(a.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),d=this.defaultQuery();return cI(d)||(i=Object.assign(Object.assign({},d),i)),typeof i=="object"&&i&&!Array.isArray(i)&&(u.search=this.stringifyQuery(i)),u.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const i=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${i}`}}async prepareRequest(e,{url:i,options:s}){}get(e,i){return this.methodRequest("get",e,i)}post(e,i){return this.methodRequest("post",e,i)}patch(e,i){return this.methodRequest("patch",e,i)}put(e,i){return this.methodRequest("put",e,i)}delete(e,i){return this.methodRequest("delete",e,i)}methodRequest(e,i,s){return this.request(Promise.resolve(s).then(a=>Object.assign({method:e,path:i},a)))}request(e,i=null){return new tf(this,this.makeRequest(e,i,void 0))}async makeRequest(e,i,s){var a,u,d;const p=await e,y=(a=p.maxRetries)!==null&&a!==void 0?a:this.maxRetries;i==null&&(i=y),await this.prepareOptions(p);const{req:m,url:v,timeout:S}=await this.buildRequest(p,{retryCount:y-i});await this.prepareRequest(m,{url:v,options:p});const E="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),x=s===void 0?"":`, retryOf: ${s}`,N=Date.now();if(mt(this).debug(`[${E}] sending request`,oo({retryOfRequestLogID:s,method:p.method,url:v,options:p,headers:m.headers})),!((u=p.signal)===null||u===void 0)&&u.aborted)throw new Nd;const k=new AbortController,U=await this.fetchWithTimeout(v,m,S,k).catch(wd),P=Date.now();if(U instanceof globalThis.Error){const F=`retrying, ${i} attempts remaining`;if(!((d=p.signal)===null||d===void 0)&&d.aborted)throw new Nd;const $=bd(U)||/timed? ?out/i.test(String(U)+("cause"in U?String(U.cause):""));if(i)return mt(this).info(`[${E}] connection ${$?"timed out":"failed"} - ${F}`),mt(this).debug(`[${E}] connection ${$?"timed out":"failed"} (${F})`,oo({retryOfRequestLogID:s,url:v,durationMs:P-N,message:U.message})),this.retryRequest(p,i,s??E);throw mt(this).info(`[${E}] connection ${$?"timed out":"failed"} - error; no more retries left`),mt(this).debug(`[${E}] connection ${$?"timed out":"failed"} (error; no more retries left)`,oo({retryOfRequestLogID:s,url:v,durationMs:P-N,message:U.message})),$?new Dv:new bl({cause:U})}const q=`[${E}${x}] ${m.method} ${v} ${U.ok?"succeeded":"failed"} with status ${U.status} in ${P-N}ms`;if(!U.ok){const F=await this.shouldRetry(U);if(i&&F){const Z=`retrying, ${i} attempts remaining`;return await SI(U.body),mt(this).info(`${q} - ${Z}`),mt(this).debug(`[${E}] response error (${Z})`,oo({retryOfRequestLogID:s,url:U.url,status:U.status,headers:U.headers,durationMs:P-N})),this.retryRequest(p,i,s??E,U.headers)}const $=F?"error; no more retries left":"error; not retryable";mt(this).info(`${q} - ${$}`);const Y=await U.text().catch(Z=>wd(Z).message),te=hI(Y),K=te?void 0:Y;throw mt(this).debug(`[${E}] response error (${$})`,oo({retryOfRequestLogID:s,url:U.url,status:U.status,headers:U.headers,message:K,durationMs:Date.now()-N})),this.makeStatusError(U.status,te,K,U.headers)}return mt(this).info(q),mt(this).debug(`[${E}] response start`,oo({retryOfRequestLogID:s,url:U.url,status:U.status,headers:U.headers,durationMs:P-N})),{response:U,options:p,controller:k,requestLogID:E,retryOfRequestLogID:s,startTime:N}}async fetchWithTimeout(e,i,s,a){const u=i||{},{signal:d,method:p}=u,y=dl(u,["signal","method"]);d&&d.addEventListener("abort",()=>a.abort());const m=setTimeout(()=>a.abort(),s),v=globalThis.ReadableStream&&y.body instanceof globalThis.ReadableStream||typeof y.body=="object"&&y.body!==null&&Symbol.asyncIterator in y.body,S=Object.assign(Object.assign(Object.assign({signal:a.signal},v?{duplex:"half"}:{}),{method:"GET"}),y);p&&(S.method=p.toUpperCase());try{return await this.fetch.call(void 0,e,S)}finally{clearTimeout(m)}}async shouldRetry(e){const i=e.headers.get("x-should-retry");return i==="true"?!0:i==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,i,s,a){var u;let d;const p=a==null?void 0:a.get("retry-after-ms");if(p){const m=parseFloat(p);Number.isNaN(m)||(d=m)}const y=a==null?void 0:a.get("retry-after");if(y&&!d){const m=parseFloat(y);Number.isNaN(m)?d=Date.parse(y)-Date.now():d=m*1e3}if(!(d&&0<=d&&d<60*1e3)){const m=(u=e.maxRetries)!==null&&u!==void 0?u:this.maxRetries;d=this.calculateDefaultRetryTimeoutMillis(i,m)}return await pI(d),this.makeRequest(e,i-1,s)}calculateDefaultRetryTimeoutMillis(e,i){const u=i-e,d=Math.min(.5*Math.pow(2,u),8),p=1-Math.random()*.25;return d*p*1e3}async buildRequest(e,{retryCount:i=0}={}){var s,a,u;const d=Object.assign({},e),{method:p,path:y,query:m,defaultBaseURL:v}=d,S=this.buildURL(y,m,v);"timeout"in d&&fI("timeout",d.timeout),d.timeout=(s=d.timeout)!==null&&s!==void 0?s:this.timeout;const{bodyHeaders:E,body:x}=this.buildBody({options:d}),N=await this.buildHeaders({options:e,method:p,bodyHeaders:E,retryCount:i});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:p,headers:N},d.signal&&{signal:d.signal}),globalThis.ReadableStream&&x instanceof globalThis.ReadableStream&&{duplex:"half"}),x&&{body:x}),(a=this.fetchOptions)!==null&&a!==void 0?a:{}),(u=d.fetchOptions)!==null&&u!==void 0?u:{}),url:S,timeout:d.timeout}}async buildHeaders({options:e,method:i,bodyHeaders:s,retryCount:a}){let u={};this.idempotencyHeader&&i!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),u[this.idempotencyHeader]=e.idempotencyKey);const d=await this.authHeaders(e);let p=mr([u,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(a)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),vI()),this._options.defaultHeaders,s,e.headers,d]);return this.validateHeaders(p),p.values}buildBody({options:{body:e,headers:i}}){if(!e)return{bodyHeaders:void 0,body:void 0};const s=mr([i]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&s.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:TI(e)}:this.encoder({body:e,headers:s})}}Nl.DEFAULT_TIMEOUT=6e4;class rt extends Nl{constructor(){super(...arguments),this.interactions=new Kv(this)}}Qv=rt;rt.GeminiNextGenAPIClient=Qv;rt.GeminiNextGenAPIClientError=Qt;rt.APIError=yt;rt.APIConnectionError=bl;rt.APIConnectionTimeoutError=Dv;rt.APIUserAbortError=Nd;rt.NotFoundError=Pv;rt.ConflictError=Ov;rt.RateLimitError=Gv;rt.BadRequestError=Uv;rt.AuthenticationError=kv;rt.InternalServerError=zv;rt.PermissionDeniedError=Lv;rt.UnprocessableEntityError=Hv;rt.toFile=wI;rt.Interactions=Kv;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zI(t,e){const i={},s=c(t,["name"]);return s!=null&&f(i,["_url","name"],s),i}function VI(t,e){const i={},s=c(t,["name"]);return s!=null&&f(i,["_url","name"],s),i}function BI(t,e){const i={},s=c(t,["sdkHttpResponse"]);return s!=null&&f(i,["sdkHttpResponse"],s),i}function qI(t,e){const i={},s=c(t,["sdkHttpResponse"]);return s!=null&&f(i,["sdkHttpResponse"],s),i}function FI(t,e,i){const s={};if(c(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const a=c(t,["tunedModelDisplayName"]);if(e!==void 0&&a!=null&&f(e,["displayName"],a),c(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const u=c(t,["epochCount"]);e!==void 0&&u!=null&&f(e,["tuningTask","hyperparameters","epochCount"],u);const d=c(t,["learningRateMultiplier"]);if(d!=null&&f(s,["tuningTask","hyperparameters","learningRateMultiplier"],d),c(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(c(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(c(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const p=c(t,["batchSize"]);e!==void 0&&p!=null&&f(e,["tuningTask","hyperparameters","batchSize"],p);const y=c(t,["learningRate"]);if(e!==void 0&&y!=null&&f(e,["tuningTask","hyperparameters","learningRate"],y),c(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(c(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return s}function YI(t,e,i){const s={};let a=c(i,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const x=c(t,["validationDataset"]);e!==void 0&&x!=null&&f(e,["supervisedTuningSpec"],u0(x))}else if(a==="PREFERENCE_TUNING"){const x=c(t,["validationDataset"]);e!==void 0&&x!=null&&f(e,["preferenceOptimizationSpec"],u0(x))}const u=c(t,["tunedModelDisplayName"]);e!==void 0&&u!=null&&f(e,["tunedModelDisplayName"],u);const d=c(t,["description"]);e!==void 0&&d!=null&&f(e,["description"],d);let p=c(i,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const x=c(t,["epochCount"]);e!==void 0&&x!=null&&f(e,["supervisedTuningSpec","hyperParameters","epochCount"],x)}else if(p==="PREFERENCE_TUNING"){const x=c(t,["epochCount"]);e!==void 0&&x!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],x)}let y=c(i,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const x=c(t,["learningRateMultiplier"]);e!==void 0&&x!=null&&f(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],x)}else if(y==="PREFERENCE_TUNING"){const x=c(t,["learningRateMultiplier"]);e!==void 0&&x!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],x)}let m=c(i,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const x=c(t,["exportLastCheckpointOnly"]);e!==void 0&&x!=null&&f(e,["supervisedTuningSpec","exportLastCheckpointOnly"],x)}else if(m==="PREFERENCE_TUNING"){const x=c(t,["exportLastCheckpointOnly"]);e!==void 0&&x!=null&&f(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],x)}let v=c(i,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const x=c(t,["adapterSize"]);e!==void 0&&x!=null&&f(e,["supervisedTuningSpec","hyperParameters","adapterSize"],x)}else if(v==="PREFERENCE_TUNING"){const x=c(t,["adapterSize"]);e!==void 0&&x!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],x)}if(c(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(c(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const S=c(t,["labels"]);e!==void 0&&S!=null&&f(e,["labels"],S);const E=c(t,["beta"]);return e!==void 0&&E!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","beta"],E),s}function JI(t,e){const i={},s=c(t,["baseModel"]);s!=null&&f(i,["baseModel"],s);const a=c(t,["preTunedModel"]);a!=null&&f(i,["preTunedModel"],a);const u=c(t,["trainingDataset"]);u!=null&&iR(u);const d=c(t,["config"]);return d!=null&&FI(d,i),i}function $I(t,e){const i={},s=c(t,["baseModel"]);s!=null&&f(i,["baseModel"],s);const a=c(t,["preTunedModel"]);a!=null&&f(i,["preTunedModel"],a);const u=c(t,["trainingDataset"]);u!=null&&oR(u,i,e);const d=c(t,["config"]);return d!=null&&YI(d,i,e),i}function KI(t,e){const i={},s=c(t,["name"]);return s!=null&&f(i,["_url","name"],s),i}function XI(t,e){const i={},s=c(t,["name"]);return s!=null&&f(i,["_url","name"],s),i}function QI(t,e,i){const s={},a=c(t,["pageSize"]);e!==void 0&&a!=null&&f(e,["_query","pageSize"],a);const u=c(t,["pageToken"]);e!==void 0&&u!=null&&f(e,["_query","pageToken"],u);const d=c(t,["filter"]);return e!==void 0&&d!=null&&f(e,["_query","filter"],d),s}function WI(t,e,i){const s={},a=c(t,["pageSize"]);e!==void 0&&a!=null&&f(e,["_query","pageSize"],a);const u=c(t,["pageToken"]);e!==void 0&&u!=null&&f(e,["_query","pageToken"],u);const d=c(t,["filter"]);return e!==void 0&&d!=null&&f(e,["_query","filter"],d),s}function ZI(t,e){const i={},s=c(t,["config"]);return s!=null&&QI(s,i),i}function jI(t,e){const i={},s=c(t,["config"]);return s!=null&&WI(s,i),i}function eR(t,e){const i={},s=c(t,["sdkHttpResponse"]);s!=null&&f(i,["sdkHttpResponse"],s);const a=c(t,["nextPageToken"]);a!=null&&f(i,["nextPageToken"],a);const u=c(t,["tunedModels"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(p=>Wv(p))),f(i,["tuningJobs"],d)}return i}function tR(t,e){const i={},s=c(t,["sdkHttpResponse"]);s!=null&&f(i,["sdkHttpResponse"],s);const a=c(t,["nextPageToken"]);a!=null&&f(i,["nextPageToken"],a);const u=c(t,["tuningJobs"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(p=>Md(p))),f(i,["tuningJobs"],d)}return i}function nR(t,e){const i={},s=c(t,["name"]);s!=null&&f(i,["model"],s);const a=c(t,["name"]);return a!=null&&f(i,["endpoint"],a),i}function iR(t,e){const i={};if(c(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(c(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const s=c(t,["examples"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(u=>u)),f(i,["examples","examples"],a)}return i}function oR(t,e,i){const s={};let a=c(i,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const d=c(t,["gcsUri"]);e!==void 0&&d!=null&&f(e,["supervisedTuningSpec","trainingDatasetUri"],d)}else if(a==="PREFERENCE_TUNING"){const d=c(t,["gcsUri"]);e!==void 0&&d!=null&&f(e,["preferenceOptimizationSpec","trainingDatasetUri"],d)}let u=c(i,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const d=c(t,["vertexDatasetResource"]);e!==void 0&&d!=null&&f(e,["supervisedTuningSpec","trainingDatasetUri"],d)}else if(u==="PREFERENCE_TUNING"){const d=c(t,["vertexDatasetResource"]);e!==void 0&&d!=null&&f(e,["preferenceOptimizationSpec","trainingDatasetUri"],d)}if(c(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return s}function Wv(t,e){const i={},s=c(t,["sdkHttpResponse"]);s!=null&&f(i,["sdkHttpResponse"],s);const a=c(t,["name"]);a!=null&&f(i,["name"],a);const u=c(t,["state"]);u!=null&&f(i,["state"],hv(u));const d=c(t,["createTime"]);d!=null&&f(i,["createTime"],d);const p=c(t,["tuningTask","startTime"]);p!=null&&f(i,["startTime"],p);const y=c(t,["tuningTask","completeTime"]);y!=null&&f(i,["endTime"],y);const m=c(t,["updateTime"]);m!=null&&f(i,["updateTime"],m);const v=c(t,["description"]);v!=null&&f(i,["description"],v);const S=c(t,["baseModel"]);S!=null&&f(i,["baseModel"],S);const E=c(t,["_self"]);return E!=null&&f(i,["tunedModel"],nR(E)),i}function Md(t,e){const i={},s=c(t,["sdkHttpResponse"]);s!=null&&f(i,["sdkHttpResponse"],s);const a=c(t,["name"]);a!=null&&f(i,["name"],a);const u=c(t,["state"]);u!=null&&f(i,["state"],hv(u));const d=c(t,["createTime"]);d!=null&&f(i,["createTime"],d);const p=c(t,["startTime"]);p!=null&&f(i,["startTime"],p);const y=c(t,["endTime"]);y!=null&&f(i,["endTime"],y);const m=c(t,["updateTime"]);m!=null&&f(i,["updateTime"],m);const v=c(t,["error"]);v!=null&&f(i,["error"],v);const S=c(t,["description"]);S!=null&&f(i,["description"],S);const E=c(t,["baseModel"]);E!=null&&f(i,["baseModel"],E);const x=c(t,["tunedModel"]);x!=null&&f(i,["tunedModel"],x);const N=c(t,["preTunedModel"]);N!=null&&f(i,["preTunedModel"],N);const k=c(t,["supervisedTuningSpec"]);k!=null&&f(i,["supervisedTuningSpec"],k);const U=c(t,["preferenceOptimizationSpec"]);U!=null&&f(i,["preferenceOptimizationSpec"],U);const P=c(t,["tuningDataStats"]);P!=null&&f(i,["tuningDataStats"],P);const q=c(t,["encryptionSpec"]);q!=null&&f(i,["encryptionSpec"],q);const F=c(t,["partnerModelTuningSpec"]);F!=null&&f(i,["partnerModelTuningSpec"],F);const $=c(t,["customBaseModel"]);$!=null&&f(i,["customBaseModel"],$);const Y=c(t,["experiment"]);Y!=null&&f(i,["experiment"],Y);const te=c(t,["labels"]);te!=null&&f(i,["labels"],te);const K=c(t,["outputUri"]);K!=null&&f(i,["outputUri"],K);const he=c(t,["pipelineJob"]);he!=null&&f(i,["pipelineJob"],he);const Z=c(t,["serviceAccount"]);Z!=null&&f(i,["serviceAccount"],Z);const de=c(t,["tunedModelDisplayName"]);de!=null&&f(i,["tunedModelDisplayName"],de);const ge=c(t,["veoTuningSpec"]);return ge!=null&&f(i,["veoTuningSpec"],ge),i}function sR(t,e){const i={},s=c(t,["sdkHttpResponse"]);s!=null&&f(i,["sdkHttpResponse"],s);const a=c(t,["name"]);a!=null&&f(i,["name"],a);const u=c(t,["metadata"]);u!=null&&f(i,["metadata"],u);const d=c(t,["done"]);d!=null&&f(i,["done"],d);const p=c(t,["error"]);return p!=null&&f(i,["error"],p),i}function u0(t,e){const i={},s=c(t,["gcsUri"]);s!=null&&f(i,["validationDatasetUri"],s);const a=c(t,["vertexDatasetResource"]);return a!=null&&f(i,["validationDatasetUri"],a),i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rR extends Wn{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new po($n.PAGED_ITEM_TUNING_JOBS,s=>this.listInternal(s),await this.listInternal(i),i),this.get=async i=>await this.getInternal(i),this.tune=async i=>{var s;if(this.apiClient.isVertexAI())if(i.baseModel.startsWith("projects/")){const a={tunedModelName:i.baseModel};!((s=i.config)===null||s===void 0)&&s.preTunedModelCheckpointId&&(a.checkpointId=i.config.preTunedModelCheckpointId);const u=Object.assign(Object.assign({},i),{preTunedModel:a});return u.baseModel=void 0,await this.tuneInternal(u)}else{const a=Object.assign({},i);return await this.tuneInternal(a)}else{const a=Object.assign({},i),u=await this.tuneMldevInternal(a);let d="";return u.metadata!==void 0&&u.metadata.tunedModel!==void 0?d=u.metadata.tunedModel:u.name!==void 0&&u.name.includes("/operations/")&&(d=u.name.split("/operations/")[0]),{name:d,state:vd.JOB_STATE_QUEUED}}}}async getInternal(e){var i,s,a,u;let d,p="",y={};if(this.apiClient.isVertexAI()){const m=XI(e);return p=W("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>Md(v))}else{const m=KI(e);return p=W("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>Wv(v))}}async listInternal(e){var i,s,a,u;let d,p="",y={};if(this.apiClient.isVertexAI()){const m=jI(e);return p=W("tuningJobs",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const S=tR(v),E=new Ly;return Object.assign(E,S),E})}else{const m=ZI(e);return p=W("tunedModels",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const S=eR(v),E=new Ly;return Object.assign(E,S),E})}}async cancel(e){var i,s,a,u;let d,p="",y={};if(this.apiClient.isVertexAI()){const m=VI(e);return p=W("{name}:cancel",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const S=qI(v),E=new Py;return Object.assign(E,S),E})}else{const m=zI(e);return p=W("{name}:cancel",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const S=BI(v),E=new Py;return Object.assign(E,S),E})}}async tuneInternal(e){var i,s;let a,u="",d={};if(this.apiClient.isVertexAI()){const p=$I(e,e);return u=W("tuningJobs",p._url),d=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),a.then(y=>Md(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var i,s;let a,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=JI(e);return u=W("tunedModels",p._url),d=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),a.then(y=>sR(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class aR{async download(e,i){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const lR=1024*1024*8,uR=3,cR=1e3,dR=2,hl="x-goog-upload-status";async function fR(t,e,i){var s;const a=await Zv(t,e,i),u=await(a==null?void 0:a.json());if(((s=a==null?void 0:a.headers)===null||s===void 0?void 0:s[hl])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return u.file}async function hR(t,e,i){var s;const a=await Zv(t,e,i),u=await(a==null?void 0:a.json());if(((s=a==null?void 0:a.headers)===null||s===void 0?void 0:s[hl])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const d=av(u),p=new Kd;return Object.assign(p,d),p}async function Zv(t,e,i){var s,a;let u=0,d=0,p=new Td(new Response),y="upload";for(u=t.size;d<u;){const m=Math.min(lR,u-d),v=t.slice(d,d+m);d+m>=u&&(y+=", finalize");let S=0,E=cR;for(;S<uR&&(p=await i.request({path:"",body:v,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":String(d),"Content-Length":String(m)}}}),!(!((s=p==null?void 0:p.headers)===null||s===void 0)&&s[hl]));)S++,await mR(E),E=E*dR;if(d+=m,((a=p==null?void 0:p.headers)===null||a===void 0?void 0:a[hl])!=="active")break;if(u<=d)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return p}async function pR(t){return{size:t.size,type:t.type}}function mR(t){return new Promise(e=>setTimeout(e,t))}class gR{async upload(e,i,s){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await fR(e,i,s)}async uploadToFileSearchStore(e,i,s){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await hR(e,i,s)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await pR(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yR{create(e,i,s){return new vR(e,i,s)}}class vR{constructor(e,i,s){this.url=e,this.headers=i,this.callbacks=s}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const c0="x-goog-api-key";class _R{constructor(e){this.apiKey=e}async addAuthHeaders(e,i){if(e.get(c0)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(c0,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const TR="gl-node/";class SR{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const i=new rt({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=i.interactions,this._interactions}constructor(e){var i;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(i=e.vertexai)!==null&&i!==void 0?i:!1,this.apiKey=e.apiKey;const s=px(e.httpOptions,e.vertexai,void 0,void 0);s&&(e.httpOptions?e.httpOptions.baseUrl=s:e.httpOptions={baseUrl:s}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const a=new _R(this.apiKey);this.apiClient=new pN({auth:a,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:TR+"web",uploader:new gR,downloader:new aR}),this.models=new UN(this.apiClient),this.live=new wN(this.apiClient,a,new yR),this.batches=new qA(this.apiClient),this.chats=new xb(this.models,this.apiClient),this.caches=new Sb(this.apiClient),this.files=new kb(this.apiClient),this.operations=new kN(this.apiClient),this.authTokens=new QN(this.apiClient),this.tunings=new rR(this.apiClient),this.fileSearchStores=new oI(this.apiClient)}}var ER={};const CR="https://api-inference.huggingface.co/models/mistralai/Mistral-7B-Instruct-v0.3",d0=ER.HF_TOKEN,Li=async(t,e)=>{var a;if(!d0)throw new Error("No Fallback Key");const i=await fetch(CR,{method:"POST",headers:{Authorization:`Bearer ${d0}`,"Content-Type":"application/json"},body:JSON.stringify({inputs:`<s>[INST] ${t} 

 ${e} [/INST]`,parameters:{max_new_tokens:1024,temperature:.7,return_full_text:!1}})});if(!i.ok)throw new Error("Fallback API Failed");return((a=(await i.json())[0])==null?void 0:a.generated_text)||""},jv=t=>{try{const e=t.match(/\[.*\]/s)||t.match(/\{.*\}/s);return e?JSON.parse(e[0]):null}catch{return null}},xR=async t=>{try{const i=await Li("You are a book search engine. Return a JSON array of 5 books matching the query. properties: title, author, description, publishedYear, coverColor (hex), isbn (13 digit).",`Search for: ${t}`),s=jv(i);if(s&&Array.isArray(s))return s.map((a,u)=>({...a,id:`fallback-${Date.now()}-${u}`,categories:a.categories||["General"],isLocal:!1}));throw new Error("Parse failed")}catch{return[{id:"offline-1",title:"The Offline Library",author:"System Backup",description:"We could not reach our AI services, but here is a classic placeholder.",publishedYear:"2024",categories:["System"],coverColor:"#e2e8f0",isbn:"9780141439518",isLocal:!1}]}},AR=async(t,e)=>{try{const s=await Li("You are a helpful book concierge named Suitcase (Backup Mode). Reply kindly. If asked for books, provide a JSON object with 'reply' (string) and 'suggestions' (array of books with title, author, isbn).",t),a=jv(s);return a&&a.reply?{reply:a.reply,suggestions:Array.isArray(a.suggestions)?a.suggestions.map((u,d)=>({...u,id:`fb-con-${d}`,coverColor:"#cbd5e1",isLocal:!1,categories:[]})):[]}:{reply:s,suggestions:[]}}catch{return{reply:"I'm having trouble connecting to the cloud, but I'm here listening.",suggestions:[]}}},bR=async t=>[{id:"off-1",title:"The Great Gatsby",author:"F. Scott Fitzgerald",description:"A classic of the Jazz Age.",publishedYear:"1925",categories:["Classic"],coverColor:"#fef3c7",isbn:"9780743273565",matchReason:"Timeless classic",isLocal:!1},{id:"off-2",title:"1984",author:"George Orwell",description:"Dystopian social science fiction.",publishedYear:"1949",categories:["Sci-Fi"],coverColor:"#f3f4f6",isbn:"9780451524935",matchReason:"Essential reading",isLocal:!1},{id:"off-3",title:"Dune",author:"Frank Herbert",description:"Epic science fiction.",publishedYear:"1965",categories:["Sci-Fi"],coverColor:"#fed7aa",isbn:"9780441013593",matchReason:"Masterpiece",isLocal:!1},{id:"off-4",title:"Sapiens",author:"Yuval Noah Harari",description:"A brief history of humankind.",publishedYear:"2011",categories:["History"],coverColor:"#e0f2fe",isbn:"9780062316097",matchReason:"Thought provoking",isLocal:!1}],wR=async(t,e)=>[{id:"rev-1",reviewerName:"Offline Reader",rating:5,text:"This book is a masterpiece!",date:"Today",avatarColor:"#3b82f6"},{id:"rev-2",reviewerName:"Bookworm",rating:4,text:"Really enjoyed the plot twists.",date:"Yesterday",avatarColor:"#ef4444"}],NR=async(t,e,i)=>{try{const s=`You are a literary assistant discussing "${t}". Keep answers short.`;return await Li(s,e)}catch{return"I can't analyze this book right now due to connection issues."}},IR=async t=>{try{return await Li("Translate the following text to English.",t)}catch{return"Translation service unavailable."}},RR=async(t,e)=>{try{const i=`Explain the context of this text from "${e}".`;return await Li(i,t)}catch{return"Context service unavailable."}},MR=async(t,e,i=1)=>{try{const s=`Write Chapter ${i} of "${t}" by ${e}. HTML format <p>.`;return await Li(s,"Generate chapter content.")||"<p>Content generation failed.</p>"}catch{return`
            <h3>Chapter ${i}</h3>
            <p>We are currently unable to generate the full text for <strong>${t}</strong> due to high demand on our AI services.</p>
            <p>Please try again later or upload a local PDF copy of this book to continue reading.</p>
        `}},DR=async t=>{try{return await Li(`Summarize "${t}".`,"Summary:")}catch{return"Summary unavailable offline."}},UR=async t=>{try{return await Li(`Recap the plot of "${t}".`,"Recap:")}catch{return"Recap unavailable offline."}},_n=new SR({apiKey:"AIzaSyBq25jNAHIs5t4SqnDq9zE0REEeDe1lmbI"}),Tn="gemini-1.5-flash",Il=t=>{if(!t)return[];try{return JSON.parse(t)}catch{const i=t.replace(/```json\n?|```/g,"").trim();try{return JSON.parse(i)}catch(s){return console.error("Failed to parse Gemini JSON",s),[]}}},kR=async t=>{try{const e={type:ue.OBJECT,properties:{title:{type:ue.STRING},author:{type:ue.STRING},description:{type:ue.STRING},publishedYear:{type:ue.STRING},categories:{type:ue.ARRAY,items:{type:ue.STRING}},coverColor:{type:ue.STRING,description:"A pastel hex color code matching the book vibe"},isbn:{type:ue.STRING,description:"Valid ISBN-13 (preferred) or ISBN-10 to fetch cover image."}},required:["title","author","description","publishedYear","categories","coverColor","isbn"]},i={type:ue.ARRAY,items:e},s=`
      You are the search engine for the world's largest digital library.
      The user is searching for: "${t}".
      
      Instructions:
      1. If the query specifies a particular book title (e.g., "The Great Gatsby"), return that specific book first.
      2. If the query is a genre or topic (e.g., "Sci-Fi", "Cooking"), return 6 popular, high-quality books in that category.
      3. If the query is nonsense, random characters, or matches no known books (e.g., "asdfghjkl"), return an EMPTY array [].
      4. CRITICAL: Provide a valid real-world 'isbn' (ISBN-13 preferred) for every book so we can display the cover.
      
      For 'description', write a compelling 2-sentence hook.
      For 'coverColor', generate a unique, aesthetic pastel hex code for each book as a fallback.
    `,a=await _n.models.generateContent({model:Tn,contents:s,config:{responseMimeType:"application/json",responseSchema:i}});return Il(a.text).map((d,p)=>({id:`gemini-search-${Date.now()}-${p}`,title:d.title,author:d.author,coverColor:d.coverColor||"#E2E8F0",isbn:d.isbn,description:d.description,isLocal:!1,publishedYear:d.publishedYear,categories:d.categories||[],fileUrl:void 0}))}catch(e){return console.warn("Gemini Search Error, switching to fallback:",e),xR(t)}},LR=async(t,e)=>{try{const i={type:ue.OBJECT,properties:{title:{type:ue.STRING},author:{type:ue.STRING},description:{type:ue.STRING},publishedYear:{type:ue.STRING},categories:{type:ue.ARRAY,items:{type:ue.STRING}},coverColor:{type:ue.STRING},isbn:{type:ue.STRING,description:"Valid ISBN-13."},matchReason:{type:ue.STRING,description:"Why this recommendation fits the conversation."}},required:["title","author","description","publishedYear","categories","coverColor","isbn","matchReason"]},s={type:ue.OBJECT,properties:{reply:{type:ue.STRING,description:"Your conversational response to the user."},suggestions:{type:ue.ARRAY,items:i,description:"List of 1-3 books if relevant to the user's request. Can be empty if the user is just chatting."}},required:["reply","suggestions"]},a=`
            You are a sophisticated, warm, and highly knowledgeable literary concierge named "Suitcase".
            Your goal is to have a natural conversation with the user to help them find the perfect book.
            
            Conversation History:
            ${JSON.stringify(e.slice(-6))}
            
            Current User Input: "${t}"
            
            Instructions:
            1. Respond conversationally to the user's input. Be witty and helpful.
            2. If the user is asking for books, feeling a certain way, or discussing genres, provide 1-3 highly curated recommendations.
            3. If the user is just saying hello or asking a general question, reply without suggestions.
            4. 'matchReason' should be a personalized sentence about why you picked this book for them.
        `,u=await _n.models.generateContent({model:Tn,contents:a,config:{responseMimeType:"application/json",responseSchema:s}}),d=Il(u.text),p=(d.suggestions||[]).map((y,m)=>({id:`concierge-${Date.now()}-${m}`,title:y.title,author:y.author,coverColor:y.coverColor||"#E2E8F0",isbn:y.isbn,description:y.description,isLocal:!1,publishedYear:y.publishedYear,categories:y.categories||[],matchReason:y.matchReason,fileUrl:void 0}));return{reply:d.reply||"I'm pondering that thought...",suggestions:p}}catch(i){return console.warn("Concierge Error, using fallback",i),AR(t)}},id=async t=>{try{const e={type:ue.OBJECT,properties:{title:{type:ue.STRING},author:{type:ue.STRING},description:{type:ue.STRING},publishedYear:{type:ue.STRING},categories:{type:ue.ARRAY,items:{type:ue.STRING}},coverColor:{type:ue.STRING},isbn:{type:ue.STRING,description:"Valid ISBN-13 (preferred) or ISBN-10."},matchReason:{type:ue.STRING,description:"Why this fits the user's preferences."}},required:["title","author","description","publishedYear","categories","coverColor","isbn","matchReason"]},i={type:ue.ARRAY,items:e},s=`
        The user loves these genres: ${t.genres.join(", ")}.
        Their reading goal is: ${t.readingGoal}.
        
        Recommend 4 diverse, highly-rated books that fit this profile.
        Use soft, elegant colors for coverColor as fallback.
        CRITICAL: Provide a valid 'isbn' for each book for cover lookup.
      `,a=await _n.models.generateContent({model:Tn,contents:s,config:{responseMimeType:"application/json",responseSchema:i}});return Il(a.text).map((d,p)=>({id:`gemini-onboarding-${Date.now()}-${p}`,title:d.title,author:d.author,coverColor:d.coverColor||"#E2E8F0",isbn:d.isbn,description:d.description,isLocal:!1,publishedYear:d.publishedYear,categories:d.categories||[],matchReason:d.matchReason,fileUrl:void 0}))}catch(e){return console.warn("Gemini Onboarding Error, using fallback:",e),bR()}},PR=async(t,e)=>{try{const i={type:ue.OBJECT,properties:{reviewerName:{type:ue.STRING},rating:{type:ue.NUMBER},text:{type:ue.STRING},date:{type:ue.STRING}},required:["reviewerName","rating","text","date"]},s={type:ue.ARRAY,items:i},a=`
      Generate 4 realistic user reviews for "${t}" by ${e}.
      Style: Goodreads or Amazon reviews. 
      Mix of lengths. Some detailed, some short. 
      Vary the ratings (mostly positive but maybe one critical).
    `,u=await _n.models.generateContent({model:Tn,contents:a,config:{responseMimeType:"application/json",responseSchema:s}}),d=Il(u.text),p=["#EF4444","#F59E0B","#10B981","#3B82F6","#8B5CF6","#EC4899"];return d.map((y,m)=>({id:`review-${m}`,reviewerName:y.reviewerName,rating:y.rating,text:y.text,date:y.date,avatarColor:p[m%p.length]}))}catch(i){return console.warn("Review Gen Error, using fallback:",i),wR()}},e_=async(t,e,i)=>{try{const s=`
            You are an expert literary scholar and reading companion.
            Context: The user is currently reading "${t}".
            
            Previous Conversation:
            ${JSON.stringify(i.slice(-5))}
            
            User Question: "${e}"
            
            Answer concisely but deeply. If they ask about plot, be careful with spoilers unless asked.
        `;return(await _n.models.generateContent({model:Tn,contents:s})).text||"I couldn't generate a response."}catch{return NR(t,e)}},OR=async(t,e="English")=>{try{const i=`Translate the following literary text to ${e}. Preserve the tone and style: "${t}"`;return(await _n.models.generateContent({model:Tn,contents:i})).text||"Translation failed."}catch{return IR(t)}},HR=async(t,e)=>{try{const i=`The user is reading "${e}" and highlighted this text: "${t}".
        Explain this excerpt in simple terms. Provide necessary context, historical background, or define archaic words.`;return(await _n.models.generateContent({model:Tn,contents:i})).text||"Could not explain context."}catch{return RR(t,e)}},GR=async(t,e,i=1)=>{try{const s=`
          The user wants to read **Chapter ${i}** of the book "${t}" by ${e}.
          
          Instructions:
          1. Write the FULL text for **Chapter ${i}**. 
          2. If it is a public domain book, provide the exact text.
          3. If it is copyrighted, write a very detailed, high-fidelity narrative adaptation that covers all events, dialogue, and descriptions of the chapter so the user can read it like a real book.
          4. Length: Write at least 800-1200 words. Do not be brief.
          5. Formatting: Use clean HTML. Use <h3> for the Chapter Title. Use <p> for paragraphs.
          
          Do NOT use markdown code blocks. Just return the HTML string.
        `;let u=(await _n.models.generateContent({model:Tn,contents:s})).text||"<p>Content unavailable.</p>";return u=u.replace(/```html|```/g,"").trim(),u}catch{return MR(t,e,i)}},zR=async t=>{try{const e=`Provide a comprehensive summary of the book "${t}". Cover the main plot points, themes, and character arcs.`;return(await _n.models.generateContent({model:Tn,contents:e})).text||"Summary unavailable."}catch{return DR(t)}},VR=async t=>{try{const e=`The user is reading "${t}" and has forgotten what happened previously. Provide a quick recap of the beginning/setup of the book to jog their memory.`;return(await _n.models.generateContent({model:Tn,contents:e})).text||"Recap unavailable."}catch{return UR(t)}},BR=({book:t,onClose:e,onRead:i})=>{const[s,a]=Q.useState([]),[u,d]=Q.useState(!1),[p,y]=Q.useState("reviews"),[m,v]=Q.useState(""),[S,E]=Q.useState([]),[x,N]=Q.useState(!1),k=Q.useRef(null);Q.useEffect(()=>{const P=async()=>{d(!0);const q=await PR(t.title,t.author);a(q),d(!1)};p==="reviews"&&s.length===0&&P()},[t,p]),Q.useEffect(()=>{var P;(P=k.current)==null||P.scrollIntoView({behavior:"smooth"})},[S]);const U=async P=>{if(P.preventDefault(),!m.trim())return;const q=m;v("");const F=[...S,{role:"user",text:q}];E(F),N(!0);try{const $=await e_(t.title,q,F);E(Y=>[...Y,{role:"model",text:$}])}catch($){console.error($)}finally{N(!1)}};return _.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 sm:p-6 animate-spring",children:[_.jsx("div",{className:"absolute inset-0 bg-gray-900/40 backdrop-blur-sm transition-opacity",onClick:e}),_.jsxs("div",{className:"relative w-full max-w-4xl bg-[#FBFBFD] h-[85vh] rounded-[2rem] shadow-2xl overflow-hidden flex flex-col md:flex-row animate-[scale-up_0.4s_cubic-bezier(0.16,1,0.3,1)]",children:[_.jsxs("div",{className:"w-full md:w-1/3 bg-white border-r border-gray-100 flex flex-col",children:[_.jsxs("div",{className:"relative h-64 md:h-1/2 w-full flex items-center justify-center overflow-hidden",style:{backgroundColor:t.coverColor},children:[_.jsx("button",{onClick:e,className:"absolute top-4 left-4 p-2 bg-black/10 hover:bg-black/20 text-white rounded-full backdrop-blur-lg transition-colors z-10 md:hidden",children:_.jsx(rs,{size:20})}),_.jsx(Fn,{className:"text-white/80 w-24 h-24 drop-shadow-lg transform hover:scale-105 transition-transform duration-700"}),t.matchReason&&_.jsx("div",{className:"absolute bottom-6 left-6 right-6",children:_.jsxs("div",{className:"bg-white/90 backdrop-blur p-4 rounded-2xl shadow-lg border border-white/50",children:[_.jsxs("p",{className:"text-[10px] uppercase font-bold text-blue-600 mb-1 flex items-center gap-1",children:[_.jsx(Lt,{size:10})," Why this book?"]}),_.jsxs("p",{className:"text-xs text-gray-700 font-medium leading-relaxed",children:['"',t.matchReason,'"']})]})})]}),_.jsxs("div",{className:"p-8 flex flex-col flex-1 bg-white",children:[_.jsx("h2",{className:"text-2xl font-serif font-bold text-gray-900 mb-2 leading-tight",children:t.title}),_.jsx("p",{className:"text-lg text-gray-500 font-medium mb-6",children:t.author}),_.jsx("div",{className:"mt-auto space-y-3",children:_.jsxs("button",{onClick:i,className:"w-full bg-[#1D1D1F] text-white py-4 rounded-2xl font-semibold hover:bg-black transition-transform active:scale-95 flex items-center justify-center gap-2 shadow-lg",children:[_.jsx(Fn,{size:18}),"Read"]})})]})]}),_.jsxs("div",{className:"flex-1 flex flex-col bg-[#F5F5F7]",children:[_.jsx("div",{className:"p-6 md:p-8 pb-0 shrink-0",children:_.jsxs("div",{className:"flex justify-between items-start mb-6",children:[_.jsx("div",{className:"flex bg-gray-200/50 p-1 rounded-full relative",children:["reviews","details","chat"].map(P=>_.jsx("button",{onClick:()=>y(P),className:`px-6 py-2 rounded-full text-sm font-semibold transition-all duration-300 relative z-10 ${p===P?"bg-white text-gray-900 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:P.charAt(0).toUpperCase()+P.slice(1)},P))}),_.jsx("button",{onClick:e,className:"hidden md:block p-2 text-gray-400 hover:text-gray-900 bg-white rounded-full shadow-sm hover:shadow transition-all",children:_.jsx(rs,{size:20})})]})}),_.jsxs("div",{className:"flex-1 overflow-y-auto px-6 md:px-8 pb-8",children:[p==="reviews"&&_.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:[_.jsxs("div",{className:"flex items-center justify-between mb-6",children:[_.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Critics & Readers"}),_.jsxs("div",{className:"flex items-center gap-2 text-xs font-medium text-gray-500 bg-white px-3 py-1.5 rounded-full shadow-sm",children:[_.jsx(Lt,{size:12,className:"text-blue-500"})," Smart Summary"]})]}),t.reviewSnippet&&_.jsxs("div",{className:"mb-8 p-6 bg-blue-50/50 rounded-3xl border border-blue-100/50",children:[_.jsx(XC,{className:"text-blue-200 mb-2 w-8 h-8"}),_.jsx("p",{className:"text-lg font-serif text-gray-800 italic leading-relaxed",children:t.reviewSnippet})]}),u?_.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[_.jsx(ao,{className:"animate-spin text-gray-400 w-8 h-8 mb-4"}),_.jsx("p",{className:"text-gray-400 text-sm",children:"Aggregating reviews..."})]}):_.jsx("div",{className:"grid gap-4",children:s.map(P=>_.jsxs("div",{className:"bg-white p-6 rounded-3xl shadow-sm border border-white hover:border-blue-100 transition-colors",children:[_.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[_.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-white text-sm font-bold shadow-sm",style:{backgroundColor:P.avatarColor},children:P.reviewerName.charAt(0)}),_.jsxs("div",{children:[_.jsx("p",{className:"text-sm font-bold text-gray-900",children:P.reviewerName}),_.jsx("div",{className:"flex gap-0.5",children:[1,2,3,4,5].map(q=>_.jsx(sv,{size:10,className:`${q<=P.rating?"text-yellow-400 fill-yellow-400":"text-gray-200"}`},q))})]}),_.jsx("span",{className:"ml-auto text-xs font-medium text-gray-400 bg-gray-50 px-2 py-1 rounded-md",children:P.date})]}),_.jsxs("p",{className:"text-sm text-gray-600 leading-relaxed",children:['"',P.text,'"']})]},P.id))})]}),p==="details"&&_.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[_.jsxs("div",{className:"bg-white p-8 rounded-[2rem] shadow-sm",children:[_.jsx("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-4",children:"Synopsis"}),_.jsx("p",{className:"text-gray-700 leading-loose font-serif text-lg",children:t.description||"No description provided."})]}),_.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[_.jsxs("div",{className:"bg-white p-6 rounded-3xl shadow-sm",children:[_.jsxs("div",{className:"flex items-center gap-2 text-gray-400 mb-2",children:[_.jsx(nv,{size:18}),_.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"Published"})]}),_.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.publishedYear||"Unknown"})]}),_.jsxs("div",{className:"bg-white p-6 rounded-3xl shadow-sm",children:[_.jsxs("div",{className:"flex items-center gap-2 text-gray-400 mb-2",children:[_.jsx(rv,{size:18}),_.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"Rights"})]}),_.jsx("p",{className:"text-lg font-bold text-gray-900",children:"Public Domain"})]})]}),_.jsxs("div",{children:[_.jsx("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-4",children:"Categories"}),_.jsx("div",{className:"flex flex-wrap gap-2",children:t.categories.map(P=>_.jsx("span",{className:"px-4 py-2 bg-white border border-gray-200 text-gray-600 rounded-full text-sm font-medium shadow-sm",children:P},P))})]})]}),p==="chat"&&_.jsxs("div",{className:"flex flex-col h-full animate-in fade-in slide-in-from-bottom-4 duration-500",children:[_.jsxs("div",{className:"flex-1 overflow-y-auto space-y-4 mb-4 pr-2 min-h-[300px]",children:[S.length===0&&_.jsxs("div",{className:"text-center py-12",children:[_.jsx("div",{className:"bg-blue-50 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:_.jsx(Lt,{className:"w-8 h-8 text-blue-500"})}),_.jsx("h4",{className:"text-gray-900 font-bold text-lg mb-1",children:"Book Companion"}),_.jsx("p",{className:"text-gray-500 text-sm",children:"Ask about themes, characters, or plot points."})]}),S.map((P,q)=>_.jsx("div",{className:`flex ${P.role==="user"?"justify-end":"justify-start"}`,children:_.jsx("div",{className:`max-w-[85%] p-4 rounded-2xl text-sm leading-relaxed shadow-sm ${P.role==="user"?"bg-blue-600 text-white rounded-br-sm":"bg-white text-gray-800 rounded-bl-sm border border-gray-100"}`,children:P.text})},q)),x&&_.jsx("div",{className:"flex justify-start",children:_.jsx("div",{className:"bg-white border border-gray-100 p-4 rounded-2xl rounded-bl-sm shadow-sm",children:_.jsx(ao,{size:16,className:"animate-spin text-gray-400"})})}),_.jsx("div",{ref:k})]}),_.jsxs("form",{onSubmit:U,className:"relative mt-auto",children:[_.jsx("input",{type:"text",placeholder:"Ask a question...",className:"w-full pl-6 pr-14 py-4 bg-white border-0 shadow-lg shadow-gray-200/50 rounded-full focus:ring-2 focus:ring-blue-500 outline-none text-base font-medium placeholder:text-gray-400 transition-all",value:m,onChange:P=>v(P.target.value)}),_.jsx("button",{type:"submit",disabled:!m.trim()||x,className:"absolute right-2 top-2 p-2.5 bg-black text-white rounded-full hover:bg-gray-800 disabled:opacity-50 disabled:cursor-not-allowed transition-all active:scale-90",children:_.jsx(Yd,{size:18})})]})]})]})]})]})]})},qR=({book:t,onClose:e,onReward:i,onUpdateBookData:s})=>{const[a,u]=Q.useState(!1),[d,p]=Q.useState(""),[y,m]=Q.useState(!0),[v,S]=Q.useState(t.isLocal?"complete":"selecting"),[E,x]=Q.useState(t.currentChapter||1),[N,k]=Q.useState(null),[U,P]=Q.useState(t.userHighlights||[]),[q,F]=Q.useState(t.userNotes||[]),[$,Y]=Q.useState(null),[te,K]=Q.useState(!1),[he,Z]=Q.useState(""),[de,ge]=Q.useState([]),[ye,Se]=Q.useState(""),[Ye,$e]=Q.useState(!1),[H,J]=Q.useState(null),[se,be]=Q.useState(!1),[Ie,w]=Q.useState(""),[V,X]=Q.useState(!1);Q.useEffect(()=>{s(t.id,{userNotes:q,userHighlights:U,lastReadDate:Date.now(),currentChapter:E})},[q,U,E]);const j=async L=>{if(m(!0),t.isLocal&&t.fileUrl)m(!1);else{const oe=await GR(t.title,t.author,L),ee=Ze(oe,U);p(ee),m(!1)}};Q.useEffect(()=>{t.isLocal?(S("complete"),m(!1)):t.content&&t.currentChapter&&(S("complete"),p(Ze(t.content,U)),m(!1))},[]);const ce=L=>{S(L),j(L==="preview"?1:E)},ve=()=>{const L=E+1;x(L),j(L),window.scrollTo(0,0)},Ne=()=>{if(E>1){const L=E-1;x(L),j(L),window.scrollTo(0,0)}},Ze=(L,oe)=>{let ee=L;return oe.forEach(ke=>{ee.includes(ke.text)&&(ee=ee.replace(ke.text,`<mark style="background-color: ${ke.color}; color: black; border-radius: 2px; padding: 2px 0;">${ke.text}</mark>`))}),ee},Be=()=>{document.fullscreenElement?document.exitFullscreen&&(document.exitFullscreen(),u(!1)):(document.documentElement.requestFullscreen(),u(!0))},En=()=>{const L=window.getSelection();if(L&&L.toString().length>0){const ee=L.getRangeAt(0).getBoundingClientRect();if($)return;k({text:L.toString(),top:ee.top+window.scrollY,left:ee.left+ee.width/2+window.scrollX}),K(!1),J(null)}else te||k(null)},ei=L=>{L.preventDefault()},Oi=L=>{var oe;if(N){const ee={id:Date.now().toString(),text:N.text,color:L};P(ke=>[...ke,ee]),p(ke=>ke.replace(N.text,`<mark style="background-color: ${L}; color: black; border-radius: 2px; padding: 2px 0;">${N.text}</mark>`)),k(null),window.getSelection&&((oe=window.getSelection())==null||oe.removeAllRanges())}},yo=async()=>{if(!N)return;J({text:"Translating...",type:"translation"});const L=N.text;k(null);const oe=await OR(L);J({text:oe,type:"translation"})},Wt=async()=>{if(!N)return;J({text:"Analyzing context...",type:"explanation"});const L=N.text;k(null);const oe=await HR(L,t.title);J({text:oe,type:"explanation"})},Hi=()=>{N&&(window.open(`https://www.google.com/search?q=${encodeURIComponent(N.text)}`,"_blank"),k(null))},Gi=()=>{K(!0)},_s=()=>{if(N&&he){const L={id:Date.now().toString(),text:he,selectedText:N.text,createdAt:Date.now()};F(oe=>[...oe,L]),Z(""),K(!1),k(null),Y("notes")}},Cn=async L=>{if(L.preventDefault(),!ye.trim())return;const oe=ye;Se(""),ge(ke=>[...ke,{role:"user",text:oe}]),$e(!0);const ee=await e_(t.title,oe,de);ge(ke=>[...ke,{role:"model",text:ee}]),$e(!1)},Ht=async L=>{Y("chat"),$e(!0);let oe="";L==="summarize"?(ge(ee=>[...ee,{role:"user",text:"Summarize this book."}]),oe=await zR(t.title)):(ge(ee=>[...ee,{role:"user",text:"Where was I? Recap the context."}]),oe=await VR(t.title)),ge(ee=>[...ee,{role:"model",text:oe}]),$e(!1)},ti=()=>{be(!0)},un=()=>{be(!1),s(t.id,{isFinished:!0}),X(!0),i&&i()};return v==="selecting"&&!t.isLocal?_.jsx("div",{className:"fixed inset-0 z-50 bg-[#F5F5F7] flex items-center justify-center p-4",children:_.jsxs("div",{className:"max-w-2xl w-full bg-white rounded-[2rem] p-8 shadow-2xl animate-spring",children:[_.jsxs("div",{className:"text-center mb-8",children:[_.jsx(lC,{size:48,className:"mx-auto text-blue-500 mb-4"}),_.jsx("h2",{className:"text-3xl font-serif font-bold mb-2",children:"How would you like to read?"}),_.jsxs("p",{className:"text-gray-500",children:['Choose your reading experience for "',t.title,'".']})]}),_.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[_.jsxs("button",{onClick:()=>ce("preview"),className:"p-6 rounded-3xl border-2 border-gray-100 hover:border-blue-500 hover:bg-blue-50 transition-all text-left group",children:[_.jsx(TC,{size:24,className:"text-gray-400 group-hover:text-blue-500 mb-4"}),_.jsx("h3",{className:"font-bold text-lg mb-1",children:"Quick Preview"}),_.jsx("p",{className:"text-sm text-gray-500",children:"Read a generated summary and excerpt to see if it's your vibe."})]}),_.jsxs("button",{onClick:()=>ce("complete"),className:"p-6 rounded-3xl border-2 border-black bg-black text-white hover:scale-[1.02] transition-all text-left",children:[_.jsx(Fn,{size:24,className:"text-white mb-4"}),_.jsx("h3",{className:"font-bold text-lg mb-1",children:"Read Complete Book"}),_.jsx("p",{className:"text-sm text-gray-400",children:"Read the full book chapter by chapter with AI generation."})]})]}),_.jsx("button",{onClick:e,className:"mt-8 mx-auto block text-sm font-bold text-gray-400 hover:text-gray-900",children:"Cancel"})]})}):_.jsxs("div",{className:"flex h-screen bg-[#F5F5F7] text-gray-900 animate-in fade-in duration-300 overflow-hidden font-serif",children:[_.jsxs("div",{className:`flex-1 flex flex-col relative transition-all duration-500 ${$?"mr-96":""}`,children:[_.jsxs("div",{className:"h-16 flex items-center justify-between px-6 bg-white/80 backdrop-blur-md border-b border-gray-200 z-20",children:[_.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:_.jsx(iC,{size:20})}),_.jsxs("div",{className:"text-center",children:[_.jsx("h1",{className:"text-sm font-bold",children:t.title}),_.jsxs("p",{className:"text-xs text-gray-500",children:[t.author,v==="complete"&&!t.isLocal&&_.jsxs("span",{className:"ml-2 bg-gray-100 px-2 py-0.5 rounded-full text-[10px] font-bold tracking-wide",children:["CH ",E]})]})]}),_.jsx("div",{className:"flex gap-2",children:_.jsx("button",{onClick:Be,className:"p-2 hover:bg-gray-100 rounded-full",children:a?_.jsx(zC,{size:20}):_.jsx(OC,{size:20})})})]}),_.jsxs("div",{className:"flex-1 overflow-y-auto p-8 md:p-16 relative scroll-smooth",onMouseUp:En,children:[y?_.jsxs("div",{className:"flex flex-col items-center justify-center h-full gap-4",children:[_.jsx(ao,{className:"animate-spin text-gray-400"}),_.jsxs("p",{className:"text-sm text-gray-400",children:["Loading ",v==="complete"?`Chapter ${E}`:"Preview","..."]})]}):t.isLocal&&!t.fileUrl?_.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center",children:[_.jsx("div",{className:"bg-gray-100 p-6 rounded-full mb-4",children:_.jsx(Ig,{size:32,className:"text-gray-400"})}),_.jsx("h3",{className:"text-lg font-bold mb-2",children:"File Content Missing"}),_.jsx("p",{className:"text-gray-500 max-w-sm",children:"This is a local file. For security reasons, the browser does not persist the PDF content after a reload. Please re-upload to read again."})]}):t.isLocal&&t.fileUrl?_.jsx("iframe",{src:t.fileUrl,className:"w-full h-full rounded-2xl shadow-sm",title:"PDF"}):_.jsxs("div",{className:"max-w-2xl mx-auto bg-white p-12 shadow-sm rounded-[2px] min-h-full leading-loose text-lg text-gray-800 selection:bg-blue-100 selection:text-blue-900 pb-32",children:[_.jsx("div",{dangerouslySetInnerHTML:{__html:d}}),v==="complete"&&_.jsxs("div",{className:"mt-16 pt-8 border-t border-gray-100 flex items-center justify-between",children:[_.jsxs("button",{onClick:Ne,disabled:E<=1,className:"flex items-center gap-2 px-6 py-3 rounded-full text-sm font-bold text-gray-500 hover:bg-gray-100 disabled:opacity-30 disabled:hover:bg-transparent",children:[_.jsx(hC,{size:16})," Previous"]}),_.jsxs("button",{onClick:ve,className:"flex items-center gap-2 px-8 py-3 bg-black text-white rounded-full text-sm font-bold hover:scale-105 transition-transform",children:["Next Chapter ",_.jsx(iv,{size:16})]})]}),v==="preview"&&_.jsx("div",{className:"mt-8 pt-8 border-t border-gray-100 text-center text-xs text-gray-400 italic",children:'This is an AI-generated preview. Switch to "Complete Book" mode to read more.'})]}),N&&!te&&_.jsxs("div",{className:"fixed z-50 bg-gray-900/90 backdrop-blur-xl text-white rounded-xl shadow-2xl flex items-center gap-1 p-1 animate-in zoom-in-95 duration-200",style:{top:N.top-60,left:N.left-180},onMouseDown:ei,children:[_.jsx("button",{onClick:()=>Oi("#fef08a"),className:"p-3 hover:bg-white/20 rounded-lg group tooltip-container relative",children:_.jsx(MC,{size:16,className:"text-yellow-300"})}),_.jsx("div",{className:"w-px h-4 bg-white/20"}),_.jsx("button",{onClick:Gi,className:"p-3 hover:bg-white/20 rounded-lg",children:_.jsx(ed,{size:16,className:"text-pink-300"})}),_.jsx("div",{className:"w-px h-4 bg-white/20"}),_.jsxs("button",{onClick:yo,className:"p-3 hover:bg-white/20 rounded-lg text-xs font-bold flex items-center gap-1",children:[_.jsx(wC,{size:14})," Translate"]}),_.jsx("div",{className:"w-px h-4 bg-white/20"}),_.jsxs("button",{onClick:Wt,className:"p-3 hover:bg-white/20 rounded-lg text-xs font-bold flex items-center gap-1",children:[_.jsx(Fn,{size:14})," Explain"]}),_.jsx("div",{className:"w-px h-4 bg-white/20"}),_.jsx("button",{onClick:Hi,className:"p-3 hover:bg-white/20 rounded-lg",children:_.jsx(gd,{size:16})})]}),te&&N&&_.jsxs("div",{className:"fixed z-50 bg-white rounded-2xl shadow-2xl p-4 w-72 animate-in zoom-in-95 duration-200 border border-gray-100",style:{top:N.top-120,left:N.left-144},onMouseDown:L=>L.stopPropagation(),children:[_.jsx("textarea",{className:"w-full bg-yellow-50 p-3 rounded-xl text-sm mb-2 focus:outline-none focus:ring-2 focus:ring-yellow-200",placeholder:"Add your note here...",rows:3,value:he,onChange:L=>Z(L.target.value),autoFocus:!0}),_.jsxs("div",{className:"flex justify-end gap-2",children:[_.jsx("button",{onClick:()=>K(!1),className:"text-xs font-bold text-gray-400 px-3 py-1.5 hover:bg-gray-100 rounded-lg",children:"Cancel"}),_.jsx("button",{onClick:_s,className:"text-xs font-bold bg-black text-white px-3 py-1.5 rounded-lg",children:"Save Note"})]})]}),H&&_.jsxs("div",{className:"fixed bottom-24 left-1/2 -translate-x-1/2 bg-white rounded-2xl shadow-2xl p-6 max-w-md w-full animate-in slide-in-from-bottom-4 z-40 border border-gray-100",children:[_.jsxs("div",{className:"flex justify-between items-center mb-3",children:[_.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-blue-600",children:H.type==="translation"?"Translation":"Context & Analysis"}),_.jsx("button",{onClick:()=>J(null),children:_.jsx(rs,{size:16,className:"text-gray-400 hover:text-gray-900"})})]}),_.jsx("p",{className:"text-gray-800 leading-relaxed font-serif text-lg",children:H.text})]})]}),_.jsxs("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2 bg-white/90 backdrop-blur-xl border border-white shadow-2xl rounded-full px-6 py-3 flex items-center gap-6 z-30 hover:scale-105 transition-transform",children:[_.jsxs("button",{onClick:()=>Y($==="chat"?null:"chat"),className:`flex items-center gap-2 text-sm font-bold ${$==="chat"?"text-blue-600":"text-gray-600"}`,children:[_.jsx(Rg,{size:18}),"Ask Companion"]}),_.jsx("div",{className:"w-px h-6 bg-gray-300"}),_.jsxs("button",{onClick:()=>Y($==="notes"?null:"notes"),className:`flex items-center gap-2 text-sm font-bold ${$==="notes"?"text-blue-600":"text-gray-600"}`,children:[_.jsx(md,{size:18}),"Notes (",q.length,")"]}),_.jsx("div",{className:"w-px h-6 bg-gray-300"}),_.jsxs("button",{onClick:ti,className:"flex items-center gap-2 text-sm font-bold text-gray-600 hover:text-gray-900",children:[_.jsx(vC,{size:18}),"Finish"]})]})]}),_.jsxs("div",{className:`fixed top-0 right-0 bottom-0 w-96 bg-white border-l border-gray-200 shadow-2xl transform transition-transform duration-500 z-40 ${$?"translate-x-0":"translate-x-full"}`,children:[$==="chat"&&_.jsxs("div",{className:"flex flex-col h-full",children:[_.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50/50",children:[_.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2",children:[_.jsx(Lt,{size:18,className:"text-blue-500"})," Reading Companion"]}),_.jsx("button",{onClick:()=>Y(null),children:_.jsx(rs,{size:20,className:"text-gray-400 hover:text-gray-900"})})]}),_.jsxs("div",{className:"p-4 flex gap-2 overflow-x-auto border-b border-gray-50",children:[_.jsxs("button",{onClick:()=>Ht("summarize"),className:"flex items-center gap-1.5 px-3 py-1.5 bg-blue-50 text-blue-600 rounded-full text-xs font-bold hover:bg-blue-100 whitespace-nowrap",children:[_.jsx(Ig,{size:12})," Summarize"]}),_.jsxs("button",{onClick:()=>Ht("recap"),className:"flex items-center gap-1.5 px-3 py-1.5 bg-purple-50 text-purple-600 rounded-full text-xs font-bold hover:bg-purple-100 whitespace-nowrap",children:[_.jsx(WC,{size:12})," Where was I?"]})]}),_.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-white",children:[de.length===0&&_.jsxs("div",{className:"text-center mt-10 text-gray-400",children:[_.jsx(Rg,{size:32,className:"mx-auto mb-2 opacity-20"}),_.jsx("p",{className:"text-sm",children:"Ask anything about the book."})]}),de.map((L,oe)=>_.jsx("div",{className:`p-3 rounded-xl text-sm leading-relaxed shadow-sm ${L.role==="user"?"bg-black text-white ml-8 rounded-br-none":"bg-gray-100 text-gray-800 mr-8 rounded-bl-none"}`,children:L.text},oe)),Ye&&_.jsx("div",{className:"p-3 bg-gray-50 rounded-xl w-12",children:_.jsx(ao,{size:16,className:"animate-spin text-gray-400"})})]}),_.jsx("form",{onSubmit:Cn,className:"p-4 bg-white border-t border-gray-100",children:_.jsxs("div",{className:"relative",children:[_.jsx("input",{value:ye,onChange:L=>Se(L.target.value),placeholder:"Ask about the plot...",className:"w-full bg-gray-100 rounded-full px-4 py-3 pr-10 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 transition-shadow"}),_.jsx("button",{type:"submit",className:"absolute right-2 top-2 p-1.5 bg-blue-500 text-white rounded-full hover:scale-105 transition-transform",children:_.jsx(Yd,{size:14})})]})})]}),$==="notes"&&_.jsxs("div",{className:"flex flex-col h-full",children:[_.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50/50",children:[_.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2",children:[_.jsx(ed,{size:18,className:"text-pink-500"})," My Notes"]}),_.jsx("button",{onClick:()=>Y(null),children:_.jsx(rs,{size:20,className:"text-gray-400 hover:text-gray-900"})})]}),_.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:q.length===0?_.jsxs("div",{className:"text-center mt-20 opacity-50",children:[_.jsx(md,{size:48,className:"mx-auto mb-4 text-gray-300"}),_.jsx("p",{className:"text-gray-500 font-medium",children:"No notes yet."}),_.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Select text to add a note."})]}):q.map(L=>_.jsxs("div",{className:"bg-yellow-50 p-4 rounded-2xl border border-yellow-100/50 shadow-sm",children:[_.jsxs("div",{className:"text-xs font-bold text-yellow-600/70 uppercase tracking-wider mb-2 flex items-center gap-1",children:[_.jsx(ed,{size:10})," Note"]}),_.jsxs("p",{className:"text-gray-900 font-medium text-sm mb-3 font-serif",children:['"',L.text,'"']}),L.selectedText&&_.jsx("div",{className:"pl-3 border-l-2 border-yellow-200",children:_.jsxs("p",{className:"text-xs text-gray-500 italic line-clamp-2",children:['Re: "',L.selectedText,'"']})}),_.jsx("p",{className:"text-[10px] text-right text-gray-400 mt-2",children:new Date(L.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]},L.id))})]})]}),se&&_.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-gray-900/60 backdrop-blur-sm p-4 animate-in fade-in",children:_.jsxs("div",{className:"bg-white rounded-[2rem] w-full max-w-lg p-8 shadow-2xl animate-spring",children:[_.jsx("h2",{className:"text-3xl font-serif font-bold text-center mb-2",children:"Congratulations!"}),_.jsxs("p",{className:"text-center text-gray-500 mb-8",children:["You've finished ",t.title,"."]}),_.jsxs("div",{className:"mb-6",children:[_.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-400 mb-2",children:"Leave a note for the author"}),_.jsx("textarea",{className:"w-full bg-gray-50 rounded-2xl p-4 text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-100 h-32 resize-none",placeholder:"Your thoughts meant the world...",value:Ie,onChange:L=>w(L.target.value)})]}),_.jsxs("button",{onClick:un,className:"w-full bg-black text-white py-4 rounded-xl font-bold text-lg hover:scale-[1.02] transition-transform flex items-center justify-center gap-2",children:["Send & Claim Reward ",_.jsx(AC,{size:18})]})]})}),V&&_.jsxs("div",{className:"fixed inset-0 z-[70] flex flex-col items-center justify-center bg-black/90 text-white animate-in fade-in duration-500",children:[_.jsxs("div",{className:"relative mb-8 animate-[spin_10s_linear_infinite]",children:[_.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-yellow-400 to-purple-500 blur-3xl opacity-50 rounded-full"}),_.jsx("div",{className:"relative w-64 h-80 bg-gray-800 rounded-xl overflow-hidden border-2 border-yellow-500/50 shadow-[0_0_50px_rgba(234,179,8,0.3)]",children:_.jsx("div",{className:"w-full h-full flex items-center justify-center",style:{backgroundColor:t.coverColor},children:_.jsx(Fn,{size:64,className:"text-white/50"})})})]}),_.jsx("h1",{className:"text-4xl font-bold mb-2 text-transparent bg-clip-text bg-gradient-to-r from-yellow-200 to-yellow-500",children:"NFT Minted!"}),_.jsx("p",{className:"text-gray-400 mb-8",children:"You earned 50 Suitcase Tokens (SCT)"}),_.jsx("button",{onClick:()=>{X(!1),e()},className:"px-8 py-3 bg-white text-black rounded-full font-bold hover:bg-gray-200 transition-colors",children:"Add to Wallet"})]})]})},FR=["Sci-Fi","Mystery","Romance","History","Fantasy","Business","Philosophy","Thriller"],YR=[{id:"relax",label:"Relax & Escape",icon:""},{id:"learn",label:"Learn & Grow",icon:""},{id:"adventure",label:"Adventure",icon:""}],JR=({onComplete:t})=>{const[e,i]=Q.useState(1),[s,a]=Q.useState([]),[u,d]=Q.useState(""),[p,y]=Q.useState(""),m=S=>{s.includes(S)?a(E=>E.filter(x=>x!==S)):s.length<3&&a(E=>[...E,S])},v=()=>{e===1&&p.trim()?i(2):e===2&&s.length>0?i(3):e===3&&u&&t({name:p,genres:s,readingGoal:u,onboardingComplete:!0,joinDate:Date.now()})};return _.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-[#F5F5F7]",children:_.jsxs("div",{className:"max-w-xl w-full p-8 animate-spring",children:[_.jsxs("div",{className:"flex justify-center gap-2 mb-12",children:[_.jsx("div",{className:`h-1 w-12 rounded-full transition-colors ${e>=1?"bg-black":"bg-gray-200"}`}),_.jsx("div",{className:`h-1 w-12 rounded-full transition-colors ${e>=2?"bg-black":"bg-gray-200"}`}),_.jsx("div",{className:`h-1 w-12 rounded-full transition-colors ${e>=3?"bg-black":"bg-gray-200"}`})]}),_.jsxs("div",{className:"text-center mb-10",children:[_.jsx("div",{className:"inline-block p-4 bg-white rounded-[2rem] shadow-lg mb-6 rotate-3",children:_.jsx(Lt,{size:32,className:"text-blue-500"})}),_.jsx("h1",{className:"text-4xl font-serif font-bold text-gray-900 mb-4",children:e===1?"Welcome Traveler":e===2?"What do you like to read?":"Why are you reading?"}),_.jsx("p",{className:"text-gray-500 text-lg",children:e===1?"What should we call you?":e===2?"Pick up to 3 genres.":"Help us curate your perfect suitcase."})]}),_.jsxs("div",{className:"min-h-[200px]",children:[e===1&&_.jsx("div",{className:"animate-in fade-in slide-in-from-bottom-4",children:_.jsx("input",{value:p,onChange:S=>y(S.target.value),className:"w-full text-center text-3xl font-bold border-b-2 border-gray-200 focus:border-black bg-transparent outline-none py-2",placeholder:"Enter your name",autoFocus:!0})}),e===2&&_.jsx("div",{className:"flex flex-wrap justify-center gap-3 animate-in fade-in slide-in-from-bottom-4",children:FR.map(S=>_.jsx("button",{onClick:()=>m(S),className:`px-6 py-3 rounded-full text-lg font-medium transition-all duration-300 ${s.includes(S)?"bg-black text-white shadow-lg scale-105":"bg-white text-gray-500 hover:bg-gray-100"}`,children:S},S))}),e===3&&_.jsx("div",{className:"grid gap-4 animate-in fade-in slide-in-from-bottom-4",children:YR.map(S=>_.jsxs("button",{onClick:()=>d(S.label),className:`flex items-center gap-4 p-5 rounded-[2rem] text-left transition-all duration-300 border-2 ${u===S.label?"border-blue-500 bg-blue-50 shadow-lg":"border-transparent bg-white hover:bg-gray-50"}`,children:[_.jsx("span",{className:"text-3xl",children:S.icon}),_.jsx("span",{className:`text-xl font-bold ${u===S.label?"text-blue-900":"text-gray-700"}`,children:S.label}),u===S.label&&_.jsx(pd,{className:"ml-auto text-blue-500"})]},S.id))})]}),_.jsx("div",{className:"flex justify-center mt-8",children:_.jsxs("button",{onClick:v,disabled:e===1?!p.trim():e===2?s.length===0:!u,className:"group flex items-center gap-2 bg-black text-white px-8 py-4 rounded-full font-bold text-lg disabled:opacity-50 disabled:cursor-not-allowed transition-all hover:scale-105 active:scale-95",children:[e===3?"Finish Setup":"Next",_.jsx(Fd,{className:"group-hover:translate-x-1 transition-transform"})]})})]})})},$R=["Sci-Fi","Mystery","Romance","History","Fantasy","Business","Philosophy","Thriller"],f0=[{id:"relax",label:"Relax & Escape",icon:""},{id:"learn",label:"Learn & Grow",icon:""},{id:"adventure",label:"Adventure",icon:""}],KR=({userPrefs:t,wallet:e,library:i,onClose:s,onUpdateProfile:a,onReset:u})=>{var $;const[d,p]=Q.useState(!1),[y,m]=Q.useState(t.name||"Traveler"),[v,S]=Q.useState(t.readingGoal),[E,x]=Q.useState(t.genres),N=i.filter(Y=>Y.isFinished).length,k=i.reduce((Y,te)=>{var K;return Y+(((K=te.userNotes)==null?void 0:K.length)||0)},0),U=i.filter(Y=>e.nfts.includes(Y.id)),P=()=>{a({...t,name:y,readingGoal:v,genres:E}),p(!1)},q=()=>{m(t.name||"Traveler"),S(t.readingGoal),x(t.genres),p(!1)},F=Y=>{E.includes(Y)?x(te=>te.filter(K=>K!==Y)):E.length<5&&x(te=>[...te,Y])};return _.jsxs("div",{className:"animate-in fade-in zoom-in-95 duration-300 max-w-4xl mx-auto mt-8 mb-24",children:[_.jsx("div",{className:"flex justify-end mb-4",children:d?_.jsxs("div",{className:"flex gap-2",children:[_.jsx("button",{onClick:q,className:"px-4 py-2 bg-white text-gray-500 rounded-full font-bold shadow-sm hover:bg-gray-50 text-sm",children:"Cancel"}),_.jsxs("button",{onClick:P,className:"px-4 py-2 bg-black text-white rounded-full font-bold shadow-lg hover:bg-gray-800 text-sm flex items-center gap-2",children:[_.jsx(pd,{size:14})," Save Changes"]})]}):_.jsxs("button",{onClick:()=>p(!0),className:"px-4 py-2 bg-white text-gray-900 rounded-full font-bold shadow-sm hover:bg-gray-50 text-sm flex items-center gap-2",children:[_.jsx(qC,{size:14})," Edit Profile"]})}),_.jsxs("div",{className:"bg-white rounded-[2.5rem] p-8 shadow-sm mb-8 relative overflow-hidden",children:[_.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-gradient-to-bl from-blue-100 to-purple-100 rounded-bl-[10rem] -z-0 opacity-50 pointer-events-none"}),_.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8 relative z-10",children:[_.jsx("div",{className:"w-32 h-32 rounded-full bg-gradient-to-tr from-gray-900 to-gray-700 shadow-2xl flex items-center justify-center text-4xl font-serif font-bold text-white border-4 border-white",children:y.charAt(0).toUpperCase()}),_.jsxs("div",{className:"text-center md:text-left flex-1 w-full",children:[d?_.jsxs("div",{className:"flex flex-col gap-2 mb-2 w-full max-w-md",children:[_.jsx("label",{className:"text-xs font-bold uppercase text-gray-400 tracking-wider",children:"Display Name"}),_.jsx("input",{value:y,onChange:Y=>m(Y.target.value),className:"text-2xl font-serif font-bold text-gray-900 bg-gray-50 rounded-xl px-4 py-3 outline-none focus:ring-2 focus:ring-blue-500 w-full"})]}):_.jsx("h1",{className:"text-4xl font-serif font-bold text-gray-900 mb-2",children:y}),_.jsx("div",{className:"flex flex-wrap items-center justify-center md:justify-start gap-4 text-sm text-gray-500 font-medium",children:_.jsxs("span",{className:"flex items-center gap-1.5",children:[_.jsx(nv,{size:14})," Joined ",new Date(t.joinDate).toLocaleDateString()]})})]}),_.jsxs("div",{className:"bg-gray-900 text-white p-6 rounded-3xl shadow-xl min-w-[200px] text-center md:text-right relative overflow-hidden group",children:[_.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-yellow-500/20 to-purple-500/20 group-hover:opacity-100 transition-opacity opacity-0"}),_.jsxs("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-1 flex items-center justify-end gap-2",children:["Balance ",_.jsx(lx,{size:12})]}),_.jsxs("div",{className:"text-3xl font-mono font-bold tracking-tight text-transparent bg-clip-text bg-gradient-to-r from-yellow-200 to-yellow-500",children:[e.balance," SCT"]})]})]})]}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[_.jsxs("div",{className:`bg-white p-6 rounded-3xl shadow-sm border border-gray-100 ${d?"ring-2 ring-blue-500/20":""}`,children:[_.jsxs("h3",{className:"text-xs font-bold uppercase text-gray-400 tracking-wider mb-4 flex items-center gap-2",children:[_.jsx(Lt,{size:14})," Current Focus"]}),d?_.jsx("div",{className:"grid gap-2",children:f0.map(Y=>_.jsxs("button",{onClick:()=>S(Y.label),className:`flex items-center gap-3 p-3 rounded-xl border text-left transition-colors ${v===Y.label?"border-blue-500 bg-blue-50 text-blue-900":"border-gray-100 hover:bg-gray-50"}`,children:[_.jsx("span",{className:"text-xl",children:Y.icon}),_.jsx("span",{className:"font-bold text-sm",children:Y.label}),v===Y.label&&_.jsx(pd,{size:16,className:"ml-auto text-blue-600"})]},Y.id))}):_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("span",{className:"text-3xl",children:(($=f0.find(Y=>Y.label===v))==null?void 0:$.icon)||""}),_.jsx("span",{className:"text-xl font-bold text-gray-900",children:v})]})]}),_.jsxs("div",{className:`bg-white p-6 rounded-3xl shadow-sm border border-gray-100 ${d?"ring-2 ring-blue-500/20":""}`,children:[_.jsxs("h3",{className:"text-xs font-bold uppercase text-gray-400 tracking-wider mb-4 flex items-center gap-2",children:[_.jsx(Fn,{size:14})," Favorite Genres"]}),_.jsx("div",{className:"flex flex-wrap gap-2",children:d?$R.map(Y=>_.jsx("button",{onClick:()=>F(Y),className:`px-3 py-1.5 rounded-full text-sm font-bold transition-colors ${E.includes(Y)?"bg-black text-white":"bg-gray-100 text-gray-500 hover:bg-gray-200"}`,children:Y},Y)):E.map(Y=>_.jsx("span",{className:"px-3 py-1.5 bg-gray-100 text-gray-700 rounded-full text-sm font-bold",children:Y},Y))})]})]}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-12",children:[_.jsxs("div",{className:"bg-white p-6 rounded-3xl shadow-sm border border-gray-100 flex items-center gap-4",children:[_.jsx("div",{className:"w-12 h-12 rounded-2xl bg-blue-50 flex items-center justify-center text-blue-600",children:_.jsx(Fn,{size:24})}),_.jsxs("div",{children:[_.jsx("p",{className:"text-2xl font-bold text-gray-900",children:N}),_.jsx("p",{className:"text-xs text-gray-500 font-bold uppercase tracking-wide",children:"Books Finished"})]})]}),_.jsxs("div",{className:"bg-white p-6 rounded-3xl shadow-sm border border-gray-100 flex items-center gap-4",children:[_.jsx("div",{className:"w-12 h-12 rounded-2xl bg-purple-50 flex items-center justify-center text-purple-600",children:_.jsx(md,{size:24})}),_.jsxs("div",{children:[_.jsx("p",{className:"text-2xl font-bold text-gray-900",children:k}),_.jsx("p",{className:"text-xs text-gray-500 font-bold uppercase tracking-wide",children:"Notes Taken"})]})]}),_.jsxs("div",{className:"bg-white p-6 rounded-3xl shadow-sm border border-gray-100 flex items-center gap-4",children:[_.jsx("div",{className:"w-12 h-12 rounded-2xl bg-yellow-50 flex items-center justify-center text-yellow-600",children:_.jsx(Ng,{size:24})}),_.jsxs("div",{children:[_.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.nfts.length}),_.jsx("p",{className:"text-xs text-gray-500 font-bold uppercase tracking-wide",children:"NFTs Collected"})]})]})]}),_.jsxs("div",{className:"mb-12",children:[_.jsxs("div",{className:"flex items-center gap-2 mb-6 px-2",children:[_.jsx(Lt,{className:"text-yellow-500",size:20}),_.jsx("h2",{className:"text-2xl font-serif font-bold text-gray-900",children:"Your Collection (NFTs)"})]}),U.length===0?_.jsxs("div",{className:"bg-white rounded-[2rem] p-12 text-center border-2 border-dashed border-gray-200",children:[_.jsx("div",{className:"w-16 h-16 bg-gray-50 rounded-full flex items-center justify-center mx-auto mb-4 text-gray-300",children:_.jsx(Ng,{size:32})}),_.jsx("h3",{className:"text-gray-900 font-bold mb-1",children:"No Digital Collectibles Yet"}),_.jsx("p",{className:"text-gray-500 text-sm",children:"Finish books to mint their covers as NFTs."})]}):_.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:U.map(Y=>_.jsxs("div",{className:"group relative aspect-[2/3] rounded-2xl overflow-hidden shadow-lg transition-transform hover:scale-105",children:[_.jsx("div",{className:"absolute inset-0",style:{backgroundColor:Y.coverColor}}),Y.isbn&&_.jsx("img",{src:`https://covers.openlibrary.org/b/isbn/${Y.isbn}-L.jpg`,className:"absolute inset-0 w-full h-full object-cover",alt:Y.title}),_.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent opacity-0 group-hover:opacity-100 transition-opacity flex flex-col justify-end p-4",children:[_.jsx("p",{className:"text-white font-bold text-sm line-clamp-2",children:Y.title}),_.jsx("div",{className:"flex items-center gap-1 mt-1",children:_.jsx("span",{className:"text-[10px] font-bold bg-yellow-400 text-black px-1.5 rounded",children:"NFT"})})]})]},Y.id))})]}),_.jsx("div",{className:"flex justify-center",children:_.jsxs("button",{onClick:u,className:"text-red-500 text-sm font-bold flex items-center gap-2 hover:bg-red-50 px-6 py-3 rounded-full transition-colors",children:[_.jsx(ov,{size:16})," Reset Profile & Data"]})})]})},XR=()=>{};var h0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t_=function(t){const e=[];let i=0;for(let s=0;s<t.length;s++){let a=t.charCodeAt(s);a<128?e[i++]=a:a<2048?(e[i++]=a>>6|192,e[i++]=a&63|128):(a&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++s)&1023),e[i++]=a>>18|240,e[i++]=a>>12&63|128,e[i++]=a>>6&63|128,e[i++]=a&63|128):(e[i++]=a>>12|224,e[i++]=a>>6&63|128,e[i++]=a&63|128)}return e},QR=function(t){const e=[];let i=0,s=0;for(;i<t.length;){const a=t[i++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const u=t[i++];e[s++]=String.fromCharCode((a&31)<<6|u&63)}else if(a>239&&a<365){const u=t[i++],d=t[i++],p=t[i++],y=((a&7)<<18|(u&63)<<12|(d&63)<<6|p&63)-65536;e[s++]=String.fromCharCode(55296+(y>>10)),e[s++]=String.fromCharCode(56320+(y&1023))}else{const u=t[i++],d=t[i++];e[s++]=String.fromCharCode((a&15)<<12|(u&63)<<6|d&63)}}return e.join("")},n_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<t.length;a+=3){const u=t[a],d=a+1<t.length,p=d?t[a+1]:0,y=a+2<t.length,m=y?t[a+2]:0,v=u>>2,S=(u&3)<<4|p>>4;let E=(p&15)<<2|m>>6,x=m&63;y||(x=64,d||(E=64)),s.push(i[v],i[S],i[E],i[x])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(t_(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):QR(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<t.length;){const u=i[t.charAt(a++)],p=a<t.length?i[t.charAt(a)]:0;++a;const m=a<t.length?i[t.charAt(a)]:64;++a;const S=a<t.length?i[t.charAt(a)]:64;if(++a,u==null||p==null||m==null||S==null)throw new WR;const E=u<<2|p>>4;if(s.push(E),m!==64){const x=p<<4&240|m>>2;if(s.push(x),S!==64){const N=m<<6&192|S;s.push(N)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class WR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ZR=function(t){const e=t_(t);return n_.encodeByteArray(e,!0)},i_=function(t){return ZR(t).replace(/\./g,"")},o_=function(t){try{return n_.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eM=()=>jR().__FIREBASE_DEFAULTS__,tM=()=>{if(typeof process>"u"||typeof h0>"u")return;const t=h0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},nM=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&o_(t[1]);return e&&JSON.parse(e)},nf=()=>{try{return XR()||eM()||tM()||nM()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},iM=t=>{var e,i;return(i=(e=nf())==null?void 0:e.emulatorHosts)==null?void 0:i[t]},s_=()=>{var t;return(t=nf())==null?void 0:t.config},r_=t=>{var e;return(e=nf())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function sM(t){return(await fetch(t,{credentials:"include"})).ok}const Tr={};function rM(){const t={prod:[],emulator:[]};for(const e of Object.keys(Tr))Tr[e]?t.emulator.push(e):t.prod.push(e);return t}function aM(t){let e=document.getElementById(t),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),i=!0),{created:i,element:e}}let p0=!1;function lM(t,e){if(typeof window>"u"||typeof document>"u"||!Rl(window.location.host)||Tr[t]===e||Tr[t]||p0)return;Tr[t]=e;function i(E){return`__firebase__banner__${E}`}const s="__firebase__banner",u=rM().prod.length>0;function d(){const E=document.getElementById(s);E&&E.remove()}function p(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function y(E,x){E.setAttribute("width","24"),E.setAttribute("id",x),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function m(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{p0=!0,d()},E}function v(E,x){E.setAttribute("id",x),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function S(){const E=aM(s),x=i("text"),N=document.getElementById(x)||document.createElement("span"),k=i("learnmore"),U=document.getElementById(k)||document.createElement("a"),P=i("preprendIcon"),q=document.getElementById(P)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const F=E.element;p(F),v(U,k);const $=m();y(q,P),F.append(q,N,U,$),document.body.appendChild(F)}u?(N.innerText="Preview backend disconnected.",q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function uM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vt())}function cM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function a_(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function dM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function fM(){const t=vt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function l_(){try{return typeof indexedDB=="object"}catch{return!1}}function u_(){return new Promise((t,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),i||self.indexedDB.deleteDatabase(s),t(!0)},a.onupgradeneeded=()=>{i=!1},a.onerror=()=>{var u;e(((u=a.error)==null?void 0:u.message)||"")}}catch(i){e(i)}})}function hM(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pM="FirebaseError";class Sn extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=pM,Object.setPrototypeOf(this,Sn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mo.prototype.create)}}class mo{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},a=`${this.service}/${e}`,u=this.errors[e],d=u?mM(u,s):"Error",p=`${this.serviceName}: ${d} (${a}).`;return new Sn(a,p,s)}}function mM(t,e){return t.replace(gM,(i,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const gM=/\{\$([^}]+)}/g;function yM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function lo(t,e){if(t===e)return!0;const i=Object.keys(t),s=Object.keys(e);for(const a of i){if(!s.includes(a))return!1;const u=t[a],d=e[a];if(m0(u)&&m0(d)){if(!lo(u,d))return!1}else if(u!==d)return!1}for(const a of s)if(!i.includes(a))return!1;return!0}function m0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ar(t){const e=[];for(const[i,s]of Object.entries(t))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function yr(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,u]=s.split("=");e[decodeURIComponent(a)]=decodeURIComponent(u)}}),e}function vr(t){const e=t.indexOf("?");if(!e)return"";const i=t.indexOf("#",e);return t.substring(e,i>0?i:void 0)}function vM(t,e){const i=new _M(t,e);return i.subscribe.bind(i)}class _M{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,s){let a;if(e===void 0&&i===void 0&&s===void 0)throw new Error("Missing Observer.");TM(e,["next","error","complete"])?a=e:a={next:e,error:i,complete:s},a.next===void 0&&(a.next=od),a.error===void 0&&(a.error=od),a.complete===void 0&&(a.complete=od);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function TM(t,e){if(typeof t!="object"||t===null)return!1;for(const i of e)if(i in t&&typeof t[i]=="function")return!0;return!1}function od(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SM=1e3,EM=2,CM=14400*1e3,xM=.5;function g0(t,e=SM,i=EM){const s=e*Math.pow(i,t),a=Math.round(xM*s*(Math.random()-.5)*2);return Math.min(CM,s+a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ot(t){return t&&t._delegate?t._delegate:t}class vn{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const so="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new oM;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:i});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(wM(e))try{this.getOrInitializeService({instanceIdentifier:so})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:a});s.resolve(u)}catch{}}}}clearInstance(e=so){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=so){return this.instances.has(e)}getOptions(e=so){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[u,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);s===p&&d.resolve(a)}return a}onInit(e,i){const s=this.normalizeInstanceIdentifier(i),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const u=this.instances.get(s);return u&&e(u,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const a of s)try{a(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:bM(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=so){return this.component?this.component.multipleInstances?e:so:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function bM(t){return t===so?void 0:t}function wM(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new AM(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ve||(Ve={}));const IM={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},RM=Ve.INFO,MM={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},DM=(t,e,...i)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),a=MM[e];if(a)console[a](`[${s}]  ${t.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class of{constructor(e){this.name=e,this._logLevel=RM,this._logHandler=DM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?IM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const UM=(t,e)=>e.some(i=>t instanceof i);let y0,v0;function kM(){return y0||(y0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function LM(){return v0||(v0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const c_=new WeakMap,Dd=new WeakMap,d_=new WeakMap,sd=new WeakMap,sf=new WeakMap;function PM(t){const e=new Promise((i,s)=>{const a=()=>{t.removeEventListener("success",u),t.removeEventListener("error",d)},u=()=>{i(Di(t.result)),a()},d=()=>{s(t.error),a()};t.addEventListener("success",u),t.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&c_.set(i,t)}).catch(()=>{}),sf.set(e,t),e}function OM(t){if(Dd.has(t))return;const e=new Promise((i,s)=>{const a=()=>{t.removeEventListener("complete",u),t.removeEventListener("error",d),t.removeEventListener("abort",d)},u=()=>{i(),a()},d=()=>{s(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",u),t.addEventListener("error",d),t.addEventListener("abort",d)});Dd.set(t,e)}let Ud={get(t,e,i){if(t instanceof IDBTransaction){if(e==="done")return Dd.get(t);if(e==="objectStoreNames")return t.objectStoreNames||d_.get(t);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Di(t[e])},set(t,e,i){return t[e]=i,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function HM(t){Ud=t(Ud)}function GM(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=t.call(rd(this),e,...i);return d_.set(s,e.sort?e.sort():[e]),Di(s)}:LM().includes(t)?function(...e){return t.apply(rd(this),e),Di(c_.get(this))}:function(...e){return Di(t.apply(rd(this),e))}}function zM(t){return typeof t=="function"?GM(t):(t instanceof IDBTransaction&&OM(t),UM(t,kM())?new Proxy(t,Ud):t)}function Di(t){if(t instanceof IDBRequest)return PM(t);if(sd.has(t))return sd.get(t);const e=zM(t);return e!==t&&(sd.set(t,e),sf.set(e,t)),e}const rd=t=>sf.get(t);function f_(t,e,{blocked:i,upgrade:s,blocking:a,terminated:u}={}){const d=indexedDB.open(t,e),p=Di(d);return s&&d.addEventListener("upgradeneeded",y=>{s(Di(d.result),y.oldVersion,y.newVersion,Di(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),p.then(y=>{u&&y.addEventListener("close",()=>u()),a&&y.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),p}const VM=["get","getKey","getAll","getAllKeys","count"],BM=["put","add","delete","clear"],ad=new Map;function _0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ad.get(e))return ad.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,a=BM.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(a||VM.includes(i)))return;const u=async function(d,...p){const y=this.transaction(d,a?"readwrite":"readonly");let m=y.store;return s&&(m=m.index(p.shift())),(await Promise.all([m[i](...p),a&&y.done]))[0]};return ad.set(e,u),u}HM(t=>({...t,get:(e,i,s)=>_0(e,i)||t.get(e,i,s),has:(e,i)=>!!_0(e,i)||t.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(FM(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function FM(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const kd="@firebase/app",T0="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kn=new of("@firebase/app"),YM="@firebase/app-compat",JM="@firebase/analytics-compat",$M="@firebase/analytics",KM="@firebase/app-check-compat",XM="@firebase/app-check",QM="@firebase/auth",WM="@firebase/auth-compat",ZM="@firebase/database",jM="@firebase/data-connect",e2="@firebase/database-compat",t2="@firebase/functions",n2="@firebase/functions-compat",i2="@firebase/installations",o2="@firebase/installations-compat",s2="@firebase/messaging",r2="@firebase/messaging-compat",a2="@firebase/performance",l2="@firebase/performance-compat",u2="@firebase/remote-config",c2="@firebase/remote-config-compat",d2="@firebase/storage",f2="@firebase/storage-compat",h2="@firebase/firestore",p2="@firebase/ai",m2="@firebase/firestore-compat",g2="firebase",y2="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ld="[DEFAULT]",v2={[kd]:"fire-core",[YM]:"fire-core-compat",[$M]:"fire-analytics",[JM]:"fire-analytics-compat",[XM]:"fire-app-check",[KM]:"fire-app-check-compat",[QM]:"fire-auth",[WM]:"fire-auth-compat",[ZM]:"fire-rtdb",[jM]:"fire-data-connect",[e2]:"fire-rtdb-compat",[t2]:"fire-fn",[n2]:"fire-fn-compat",[i2]:"fire-iid",[o2]:"fire-iid-compat",[s2]:"fire-fcm",[r2]:"fire-fcm-compat",[a2]:"fire-perf",[l2]:"fire-perf-compat",[u2]:"fire-rc",[c2]:"fire-rc-compat",[d2]:"fire-gcs",[f2]:"fire-gcs-compat",[h2]:"fire-fst",[m2]:"fire-fst-compat",[p2]:"fire-vertex","fire-js":"fire-js",[g2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pl=new Map,_2=new Map,Pd=new Map;function S0(t,e){try{t.container.addComponent(e)}catch(i){Kn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,i)}}function Xn(t){const e=t.name;if(Pd.has(e))return Kn.debug(`There were multiple attempts to register component ${e}.`),!1;Pd.set(e,t);for(const i of pl.values())S0(i,t);for(const i of _2.values())S0(i,t);return!0}function ys(t,e){const i=t.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),t.container.getProvider(e)}function nn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ui=new mo("app","Firebase",T2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(e,i,s){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new vn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ui.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const br=y2;function h_(t,e={}){let i=t;typeof e!="object"&&(e={name:e});const s={name:Ld,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw Ui.create("bad-app-name",{appName:String(a)});if(i||(i=s_()),!i)throw Ui.create("no-options");const u=pl.get(a);if(u){if(lo(i,u.options)&&lo(s,u.config))return u;throw Ui.create("duplicate-app",{appName:a})}const d=new NM(a);for(const y of Pd.values())d.addComponent(y);const p=new S2(i,s,d);return pl.set(a,p),p}function p_(t=Ld){const e=pl.get(t);if(!e&&t===Ld&&s_())return h_();if(!e)throw Ui.create("no-app",{appName:t});return e}function mn(t,e,i){let s=v2[t]??t;i&&(s+=`-${i}`);const a=s.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const d=[`Unable to register library "${s}" with version "${e}":`];a&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Kn.warn(d.join(" "));return}Xn(new vn(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2="firebase-heartbeat-database",C2=1,Cr="firebase-heartbeat-store";let ld=null;function m_(){return ld||(ld=f_(E2,C2,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Cr)}catch(i){console.warn(i)}}}}).catch(t=>{throw Ui.create("idb-open",{originalErrorMessage:t.message})})),ld}async function x2(t){try{const i=(await m_()).transaction(Cr),s=await i.objectStore(Cr).get(g_(t));return await i.done,s}catch(e){if(e instanceof Sn)Kn.warn(e.message);else{const i=Ui.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Kn.warn(i.message)}}}async function E0(t,e){try{const s=(await m_()).transaction(Cr,"readwrite");await s.objectStore(Cr).put(e,g_(t)),await s.done}catch(i){if(i instanceof Sn)Kn.warn(i.message);else{const s=Ui.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Kn.warn(s.message)}}}function g_(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A2=1024,b2=30;class w2{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new I2(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,i;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=C0();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)==null?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(d=>d.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:a}),this._heartbeatsCache.heartbeats.length>b2){const d=R2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Kn.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=C0(),{heartbeatsToSend:s,unsentEntries:a}=N2(this._heartbeatsCache.heartbeats),u=i_(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(i){return Kn.warn(i),""}}}function C0(){return new Date().toISOString().substring(0,10)}function N2(t,e=A2){const i=[];let s=t.slice();for(const a of t){const u=i.find(d=>d.agent===a.agent);if(u){if(u.dates.push(a.date),x0(i)>e){u.dates.pop();break}}else if(i.push({agent:a.agent,dates:[a.date]}),x0(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class I2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return l_()?u_().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await x2(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return E0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return E0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function x0(t){return i_(JSON.stringify({version:2,heartbeats:t})).length}function R2(t){if(t.length===0)return-1;let e=0,i=t[0].date;for(let s=1;s<t.length;s++)t[s].date<i&&(i=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M2(t){Xn(new vn("platform-logger",e=>new qM(e),"PRIVATE")),Xn(new vn("heartbeat",e=>new w2(e),"PRIVATE")),mn(kd,T0,t),mn(kd,T0,"esm2020"),mn("fire-js","")}M2("");function y_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const D2=y_,v_=new mo("auth","Firebase",y_());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ml=new of("@firebase/auth");function U2(t,...e){ml.logLevel<=Ve.WARN&&ml.warn(`Auth (${br}): ${t}`,...e)}function il(t,...e){ml.logLevel<=Ve.ERROR&&ml.error(`Auth (${br}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(t,...e){throw rf(t,...e)}function gn(t,...e){return rf(t,...e)}function __(t,e,i){const s={...D2(),[e]:i};return new mo("auth","Firebase",s).create(e,{appName:t.name})}function Yn(t){return __(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function rf(t,...e){if(typeof t!="string"){const i=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(i,...s)}return v_.create(t,...e)}function le(t,e,...i){if(!t)throw rf(e,...i)}function Bn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw il(e),new Error(e)}function Qn(t,e){t||Bn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Od(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function k2(){return A0()==="http:"||A0()==="https:"}function A0(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(k2()||a_()||"connection"in navigator)?navigator.onLine:!0}function P2(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e,i){this.shortDelay=e,this.longDelay=i,Qn(i>e,"Short delay should be less than long delay!"),this.isMobile=uM()||dM()}get(){return L2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function af(t,e){Qn(t.emulator,"Emulator should always be set here");const{url:i}=t.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T_{static initialize(e,i,s){this.fetchImpl=e,i&&(this.headersImpl=i),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Bn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Bn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Bn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],G2=new wr(3e4,6e4);function Pi(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function jn(t,e,i,s,a={}){return S_(t,a,async()=>{let u={},d={};s&&(e==="GET"?d=s:u={body:JSON.stringify(s)});const p=Ar({key:t.config.apiKey,...d}).slice(1),y=await t._getAdditionalHeaders();y["Content-Type"]="application/json",t.languageCode&&(y["X-Firebase-Locale"]=t.languageCode);const m={method:e,headers:y,...u};return cM()||(m.referrerPolicy="no-referrer"),t.emulatorConfig&&Rl(t.emulatorConfig.host)&&(m.credentials="include"),T_.fetch()(await E_(t,t.config.apiHost,i,p),m)})}async function S_(t,e,i){t._canInitEmulator=!1;const s={...O2,...e};try{const a=new V2(t),u=await Promise.race([i(),a.promise]);a.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw el(t,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const p=u.ok?d.errorMessage:d.error.message,[y,m]=p.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw el(t,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw el(t,"email-already-in-use",d);if(y==="USER_DISABLED")throw el(t,"user-disabled",d);const v=s[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw __(t,v,m);an(t,v)}}catch(a){if(a instanceof Sn)throw a;an(t,"network-request-failed",{message:String(a)})}}async function Nr(t,e,i,s,a={}){const u=await jn(t,e,i,s,a);return"mfaPendingCredential"in u&&an(t,"multi-factor-auth-required",{_serverResponse:u}),u}async function E_(t,e,i,s){const a=`${e}${i}?${s}`,u=t,d=u.config.emulator?af(t.config,a):`${t.config.apiScheme}://${a}`;return H2.includes(i)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(d).toString():d}function z2(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class V2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,s)=>{this.timer=setTimeout(()=>s(gn(this.auth,"network-request-failed")),G2.get())})}}function el(t,e,i){const s={appName:t.name};i.email&&(s.email=i.email),i.phoneNumber&&(s.phoneNumber=i.phoneNumber);const a=gn(t,e,s);return a.customData._tokenResponse=i,a}function b0(t){return t!==void 0&&t.enterprise!==void 0}class B2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===e)return z2(i.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function q2(t,e){return jn(t,"GET","/v2/recaptchaConfig",Pi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F2(t,e){return jn(t,"POST","/v1/accounts:delete",e)}async function gl(t,e){return jn(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sr(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Y2(t,e=!1){const i=Ot(t),s=await i.getIdToken(e),a=lf(s);le(a&&a.exp&&a.auth_time&&a.iat,i.auth,"internal-error");const u=typeof a.firebase=="object"?a.firebase:void 0,d=u==null?void 0:u.sign_in_provider;return{claims:a,token:s,authTime:Sr(ud(a.auth_time)),issuedAtTime:Sr(ud(a.iat)),expirationTime:Sr(ud(a.exp)),signInProvider:d||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function ud(t){return Number(t)*1e3}function lf(t){const[e,i,s]=t.split(".");if(e===void 0||i===void 0||s===void 0)return il("JWT malformed, contained fewer than 3 sections"),null;try{const a=o_(i);return a?JSON.parse(a):(il("Failed to decode base64 JWT payload"),null)}catch(a){return il("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function w0(t){const e=lf(t);return le(e,"internal-error"),le(typeof e.exp<"u","internal-error"),le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hs(t,e,i=!1){if(i)return e;try{return await e}catch(s){throw s instanceof Sn&&J2(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function J2({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Sr(this.lastLoginAt),this.creationTime=Sr(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yl(t){var S;const e=t.auth,i=await t.getIdToken(),s=await hs(t,gl(e,{idToken:i}));le(s==null?void 0:s.users.length,e,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const u=(S=a.providerUserInfo)!=null&&S.length?C_(a.providerUserInfo):[],d=X2(t.providerData,u),p=t.isAnonymous,y=!(t.email&&a.passwordHash)&&!(d!=null&&d.length),m=p?y:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:d,metadata:new Hd(a.createdAt,a.lastLoginAt),isAnonymous:m};Object.assign(t,v)}async function K2(t){const e=Ot(t);await yl(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function X2(t,e){return[...t.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function C_(t){return t.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q2(t,e){const i=await S_(t,{},async()=>{const s=Ar({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:u}=t.config,d=await E_(t,a,"/v1/token",`key=${u}`),p=await t._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:p,body:s};return t.emulatorConfig&&Rl(t.emulatorConfig.host)&&(y.credentials="include"),T_.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function W2(t,e){return jn(t,"POST","/v2/accounts:revokeToken",Pi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){le(e.idToken,"internal-error"),le(typeof e.idToken<"u","internal-error"),le(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):w0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){le(e.length!==0,"internal-error");const i=w0(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(le(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:s,refreshToken:a,expiresIn:u}=await Q2(e,i);this.updateTokensAndExpiration(s,a,Number(u))}updateTokensAndExpiration(e,i,s){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,i){const{refreshToken:s,accessToken:a,expirationTime:u}=i,d=new us;return s&&(le(typeof s=="string","internal-error",{appName:e}),d.refreshToken=s),a&&(le(typeof a=="string","internal-error",{appName:e}),d.accessToken=a),u&&(le(typeof u=="number","internal-error",{appName:e}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new us,this.toJSON())}_performRefresh(){return Bn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wi(t,e){le(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class on{constructor({uid:e,auth:i,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new $2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Hd(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const i=await hs(this,this.stsTokenManager.getToken(this.auth,e));return le(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return Y2(this,e)}reload(){return K2(this)}_assign(e){this!==e&&(le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new on({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),i&&await yl(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(nn(this.auth.app))return Promise.reject(Yn(this.auth));const e=await this.getIdToken();return await hs(this,F2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const s=i.displayName??void 0,a=i.email??void 0,u=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,y=i._redirectEventId??void 0,m=i.createdAt??void 0,v=i.lastLoginAt??void 0,{uid:S,emailVerified:E,isAnonymous:x,providerData:N,stsTokenManager:k}=i;le(S&&k,e,"internal-error");const U=us.fromJSON(this.name,k);le(typeof S=="string",e,"internal-error"),wi(s,e.name),wi(a,e.name),le(typeof E=="boolean",e,"internal-error"),le(typeof x=="boolean",e,"internal-error"),wi(u,e.name),wi(d,e.name),wi(p,e.name),wi(y,e.name),wi(m,e.name),wi(v,e.name);const P=new on({uid:S,auth:e,email:a,emailVerified:E,displayName:s,isAnonymous:x,photoURL:d,phoneNumber:u,tenantId:p,stsTokenManager:U,createdAt:m,lastLoginAt:v});return N&&Array.isArray(N)&&(P.providerData=N.map(q=>({...q}))),y&&(P._redirectEventId=y),P}static async _fromIdTokenResponse(e,i,s=!1){const a=new us;a.updateFromServerResponse(i);const u=new on({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await yl(u),u}static async _fromGetAccountInfoResponse(e,i,s){const a=i.users[0];le(a.localId!==void 0,"internal-error");const u=a.providerUserInfo!==void 0?C_(a.providerUserInfo):[],d=!(a.email&&a.passwordHash)&&!(u!=null&&u.length),p=new us;p.updateFromIdToken(s);const y=new on({uid:a.localId,auth:e,stsTokenManager:p,isAnonymous:d}),m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new Hd(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(u!=null&&u.length)};return Object.assign(y,m),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0=new Map;function qn(t){Qn(t instanceof Function,"Expected a class definition");let e=N0.get(t);return e?(Qn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,N0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}x_.type="NONE";const I0=x_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ol(t,e,i){return`firebase:${t}:${e}:${i}`}class cs{constructor(e,i,s){this.persistence=e,this.auth=i,this.userKey=s;const{config:a,name:u}=this.auth;this.fullUserKey=ol(this.userKey,a.apiKey,u),this.fullPersistenceKey=ol("persistence",a.apiKey,u),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await gl(this.auth,{idToken:e}).catch(()=>{});return i?on._fromGetAccountInfoResponse(this.auth,i,e):null}return on._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,s="authUser"){if(!i.length)return new cs(qn(I0),e,s);const a=(await Promise.all(i.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let u=a[0]||qn(I0);const d=ol(s,e.config.apiKey,e.name);let p=null;for(const m of i)try{const v=await m._get(d);if(v){let S;if(typeof v=="string"){const E=await gl(e,{idToken:v}).catch(()=>{});if(!E)break;S=await on._fromGetAccountInfoResponse(e,E,v)}else S=on._fromJSON(e,v);m!==u&&(p=S),u=m;break}}catch{}const y=a.filter(m=>m._shouldAllowMigration);return!u._shouldAllowMigration||!y.length?new cs(u,e,s):(u=y[0],p&&await u._set(d,p.toJSON()),await Promise.all(i.map(async m=>{if(m!==u)try{await m._remove(d)}catch{}})),new cs(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(N_(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(A_(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(R_(e))return"Blackberry";if(M_(e))return"Webos";if(b_(e))return"Safari";if((e.includes("chrome/")||w_(e))&&!e.includes("edge/"))return"Chrome";if(I_(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(i);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function A_(t=vt()){return/firefox\//i.test(t)}function b_(t=vt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function w_(t=vt()){return/crios\//i.test(t)}function N_(t=vt()){return/iemobile/i.test(t)}function I_(t=vt()){return/android/i.test(t)}function R_(t=vt()){return/blackberry/i.test(t)}function M_(t=vt()){return/webos/i.test(t)}function uf(t=vt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Z2(t=vt()){var e;return uf(t)&&!!((e=window.navigator)!=null&&e.standalone)}function j2(){return fM()&&document.documentMode===10}function D_(t=vt()){return uf(t)||I_(t)||M_(t)||R_(t)||/windows phone/i.test(t)||N_(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U_(t,e=[]){let i;switch(t){case"Browser":i=R0(vt());break;case"Worker":i=`${R0(vt())}-${t}`;break;default:i=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${br}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const s=u=>new Promise((d,p)=>{try{const y=e(u);d(y)}catch(y){p(y)}});s.onAbort=i,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const s of this.queue)await s(e),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const a of i)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tD(t,e={}){return jn(t,"GET","/v2/passwordPolicy",Pi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD=6;class iD{constructor(e){var s;const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??nD,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=e.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(i.meetsMinPasswordLength=e.length>=s),a&&(i.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(i,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,i,s,a,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(e,i,s,a){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new M0(this),this.idTokenSubscription=new M0(this),this.beforeStateQueue=new eD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=v_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=qn(i)),this._initializationPromise=this.queue(async()=>{var s,a,u;if(!this._deleted&&(this.persistenceManager=await cs.create(this,e),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((a=this._popupRedirectResolver)!=null&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=((u=this.currentUser)==null?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await gl(this,{idToken:e}),s=await on._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(s)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var u;if(nn(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(p,p))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(u=this.redirectUser)==null?void 0:u._redirectEventId,p=s==null?void 0:s._redirectEventId,y=await this.tryRedirectSignIn(e);(!d||d===p)&&(y!=null&&y.user)&&(s=y.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(d){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return le(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await yl(e)}catch(i){if((i==null?void 0:i.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=P2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(nn(this.app))return Promise.reject(Yn(this));const i=e?Ot(e):null;return i&&le(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return nn(this.app)?Promise.reject(Yn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return nn(this.app)?Promise.reject(Yn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(qn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await tD(this),i=new iD(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new mo("auth","Firebase",e())}onAuthStateChanged(e,i,s){return this.registerStateListener(this.authStateSubscription,e,i,s)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,s){return this.registerStateListener(this.idTokenSubscription,e,i,s)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(s.tenantId=this.tenantId),await W2(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,i){const s=await this.getOrInitRedirectPersistenceManager(i);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&qn(e)||this._popupRedirectResolver;le(i,this,"argument-error"),this.redirectPersistenceManager=await cs.create(this,[qn(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var i,s;return this._isInitialized&&await this.queue(async()=>{}),((i=this._currentUser)==null?void 0:i._redirectEventId)===e?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((i=this.currentUser)==null?void 0:i.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,s,a){if(this._deleted)return()=>{};const u=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(le(p,this,"internal-error"),p.then(()=>{d||u(this.currentUser)}),typeof i=="function"){const y=e.addObserver(i,s,a);return()=>{d=!0,y()}}else{const y=e.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=U_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var a;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await((a=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:a.getHeartbeatsHeader());i&&(e["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var i;if(nn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((i=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getToken());return e!=null&&e.error&&U2(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function go(t){return Ot(t)}class M0{constructor(e){this.auth=e,this.observer=null,this.addObserver=vM(i=>this.observer=i)}get next(){return le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ml={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function sD(t){Ml=t}function k_(t){return Ml.loadJS(t)}function rD(){return Ml.recaptchaEnterpriseScript}function aD(){return Ml.gapiScript}function lD(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class uD{constructor(){this.enterprise=new cD}ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}class cD{ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}const dD="recaptcha-enterprise",L_="NO_RECAPTCHA";class fD{constructor(e){this.type=dD,this.auth=go(e)}async verify(e="verify",i=!1){async function s(u){if(!i){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(d,p)=>{q2(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const m=new B2(y);return u.tenantId==null?u._agentRecaptchaConfig=m:u._tenantRecaptchaConfigs[u.tenantId]=m,d(m.siteKey)}}).catch(y=>{p(y)})})}function a(u,d,p){const y=window.grecaptcha;b0(y)?y.enterprise.ready(()=>{y.enterprise.execute(u,{action:e}).then(m=>{d(m)}).catch(()=>{d(L_)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new uD().execute("siteKey",{action:"verify"}):new Promise((u,d)=>{s(this.auth).then(p=>{if(!i&&b0(window.grecaptcha))a(p,u,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let y=rD();y.length!==0&&(y+=p),k_(y).then(()=>{a(p,u,d)}).catch(m=>{d(m)})}}).catch(p=>{d(p)})})}}async function D0(t,e,i,s=!1,a=!1){const u=new fD(t);let d;if(a)d=L_;else try{d=await u.verify(i)}catch{d=await u.verify(i,!0)}const p={...e};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const y=p.phoneEnrollmentInfo.phoneNumber,m=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:m,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const y=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return s?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function Gd(t,e,i,s,a){var u;if((u=t._getRecaptchaConfig())!=null&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const d=await D0(t,e,i,i==="getOobCode");return s(t,d)}else return s(t,e).catch(async d=>{if(d.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const p=await D0(t,e,i,i==="getOobCode");return s(t,p)}else return Promise.reject(d)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hD(t,e){const i=ys(t,"auth");if(i.isInitialized()){const a=i.getImmediate(),u=i.getOptions();if(lo(u,e??{}))return a;an(a,"already-initialized")}return i.initialize({options:e})}function pD(t,e){const i=(e==null?void 0:e.persistence)||[],s=(Array.isArray(i)?i:[i]).map(qn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function mD(t,e,i){const s=go(t);le(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,u=P_(e),{host:d,port:p}=gD(e),y=p===null?"":`:${p}`,m={url:`${u}//${d}${y}/`},v=Object.freeze({host:d,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){le(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),le(lo(m,s.config.emulator)&&lo(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=m,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,Rl(d)?(sM(`${u}//${d}${y}`),lM("Auth",!0)):yD()}function P_(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function gD(t){const e=P_(t),i=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!i)return{host:"",port:null};const s=i[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const u=a[1];return{host:u,port:U0(s.substr(u.length+1))}}else{const[u,d]=s.split(":");return{host:u,port:U0(d)}}}function U0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function yD(){function t(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return Bn("not implemented")}_getIdTokenResponse(e){return Bn("not implemented")}_linkToIdToken(e,i){return Bn("not implemented")}_getReauthenticationResolver(e){return Bn("not implemented")}}async function vD(t,e){return jn(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _D(t,e){return Nr(t,"POST","/v1/accounts:signInWithPassword",Pi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TD(t,e){return Nr(t,"POST","/v1/accounts:signInWithEmailLink",Pi(t,e))}async function SD(t,e){return Nr(t,"POST","/v1/accounts:signInWithEmailLink",Pi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr extends cf{constructor(e,i,s,a=null){super("password",s),this._email=e,this._password=i,this._tenantId=a}static _fromEmailAndPassword(e,i){return new xr(e,i,"password")}static _fromEmailAndCode(e,i,s=null){return new xr(e,i,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e;if(i!=null&&i.email&&(i!=null&&i.password)){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gd(e,i,"signInWithPassword",_D);case"emailLink":return TD(e,{email:this._email,oobCode:this._password});default:an(e,"internal-error")}}async _linkToIdToken(e,i){switch(this.signInMethod){case"password":const s={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gd(e,s,"signUpPassword",vD);case"emailLink":return SD(e,{idToken:i,email:this._email,oobCode:this._password});default:an(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ds(t,e){return Nr(t,"POST","/v1/accounts:signInWithIdp",Pi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ED="http://localhost";class uo extends cf{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new uo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):an("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a,...u}=i;if(!s||!a)return null;const d=new uo(s,a);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return ds(e,i)}_linkToIdToken(e,i){const s=this.buildRequest();return s.idToken=i,ds(e,s)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,ds(e,i)}buildRequest(){const e={requestUri:ED,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=Ar(i)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CD(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function xD(t){const e=yr(vr(t)).link,i=e?yr(vr(e)).deep_link_id:null,s=yr(vr(t)).deep_link_id;return(s?yr(vr(s)).link:null)||s||i||e||t}class df{constructor(e){const i=yr(vr(e)),s=i.apiKey??null,a=i.oobCode??null,u=CD(i.mode??null);le(s&&a&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=a,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(e){const i=xD(e);try{return new df(i)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(){this.providerId=vs.PROVIDER_ID}static credential(e,i){return xr._fromEmailAndPassword(e,i)}static credentialWithLink(e,i){const s=df.parseLink(i);return le(s,"argument-error"),xr._fromEmailAndCode(e,s.code,s.tenantId)}}vs.PROVIDER_ID="password";vs.EMAIL_PASSWORD_SIGN_IN_METHOD="password";vs.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir extends O_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni extends Ir{constructor(){super("facebook.com")}static credential(e){return uo._fromParams({providerId:Ni.PROVIDER_ID,signInMethod:Ni.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ni.credentialFromTaggedObject(e)}static credentialFromError(e){return Ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ni.credential(e.oauthAccessToken)}catch{return null}}}Ni.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ni.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii extends Ir{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return uo._fromParams({providerId:Ii.PROVIDER_ID,signInMethod:Ii.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return Ii.credentialFromTaggedObject(e)}static credentialFromError(e){return Ii.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:s}=e;if(!i&&!s)return null;try{return Ii.credential(i,s)}catch{return null}}}Ii.GOOGLE_SIGN_IN_METHOD="google.com";Ii.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri extends Ir{constructor(){super("github.com")}static credential(e){return uo._fromParams({providerId:Ri.PROVIDER_ID,signInMethod:Ri.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ri.credentialFromTaggedObject(e)}static credentialFromError(e){return Ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ri.credential(e.oauthAccessToken)}catch{return null}}}Ri.GITHUB_SIGN_IN_METHOD="github.com";Ri.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi extends Ir{constructor(){super("twitter.com")}static credential(e,i){return uo._fromParams({providerId:Mi.PROVIDER_ID,signInMethod:Mi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return Mi.credentialFromTaggedObject(e)}static credentialFromError(e){return Mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:s}=e;if(!i||!s)return null;try{return Mi.credential(i,s)}catch{return null}}}Mi.TWITTER_SIGN_IN_METHOD="twitter.com";Mi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AD(t,e){return Nr(t,"POST","/v1/accounts:signUp",Pi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,s,a=!1){const u=await on._fromIdTokenResponse(e,s,a),d=k0(s);return new co({user:u,providerId:d,_tokenResponse:s,operationType:i})}static async _forOperation(e,i,s){await e._updateTokensIfNecessary(s,!0);const a=k0(s);return new co({user:e,providerId:a,_tokenResponse:s,operationType:i})}}function k0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl extends Sn{constructor(e,i,s,a){super(i.code,i.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,vl.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,i,s,a){return new vl(e,i,s,a)}}function H_(t,e,i,s){return(e==="reauthenticate"?i._getReauthenticationResolver(t):i._getIdTokenResponse(t)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?vl._fromErrorAndOperation(t,u,e,s):u})}async function bD(t,e,i=!1){const s=await hs(t,e._linkToIdToken(t.auth,await t.getIdToken()),i);return co._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wD(t,e,i=!1){const{auth:s}=t;if(nn(s.app))return Promise.reject(Yn(s));const a="reauthenticate";try{const u=await hs(t,H_(s,a,e,t),i);le(u.idToken,s,"internal-error");const d=lf(u.idToken);le(d,s,"internal-error");const{sub:p}=d;return le(t.uid===p,s,"user-mismatch"),co._forOperation(t,a,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&an(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G_(t,e,i=!1){if(nn(t.app))return Promise.reject(Yn(t));const s="signIn",a=await H_(t,s,e),u=await co._fromIdTokenResponse(t,s,a);return i||await t._updateCurrentUser(u.user),u}async function ND(t,e){return G_(go(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z_(t){const e=go(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function ID(t,e,i){if(nn(t.app))return Promise.reject(Yn(t));const s=go(t),d=await Gd(s,{returnSecureToken:!0,email:e,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",AD).catch(y=>{throw y.code==="auth/password-does-not-meet-requirements"&&z_(t),y}),p=await co._fromIdTokenResponse(s,"signIn",d);return await s._updateCurrentUser(p.user),p}function RD(t,e,i){return nn(t.app)?Promise.reject(Yn(t)):ND(Ot(t),vs.credential(e,i)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&z_(t),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MD(t,e){return jn(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DD(t,{displayName:e,photoURL:i}){if(e===void 0&&i===void 0)return;const s=Ot(t),u={idToken:await s.getIdToken(),displayName:e,photoUrl:i,returnSecureToken:!0},d=await hs(s,MD(s.auth,u));s.displayName=d.displayName||null,s.photoURL=d.photoUrl||null;const p=s.providerData.find(({providerId:y})=>y==="password");p&&(p.displayName=s.displayName,p.photoURL=s.photoURL),await s._updateTokensIfNecessary(d)}function UD(t,e,i,s){return Ot(t).onIdTokenChanged(e,i,s)}function kD(t,e,i){return Ot(t).beforeAuthStateChanged(e,i)}function LD(t,e,i,s){return Ot(t).onAuthStateChanged(e,i,s)}function PD(t){return Ot(t).signOut()}const _l="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(_l,"1"),this.storage.removeItem(_l),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD=1e3,HD=10;class B_ extends V_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=D_(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const s=this.storage.getItem(i),a=this.localCache[i];s!==a&&e(i,a,s)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,p,y)=>{this.notifyListeners(d,y)});return}const s=e.key;i?this.detachListener():this.stopPolling();const a=()=>{const d=this.storage.getItem(s);!i&&this.localCache[s]===d||this.notifyListeners(s,d)},u=this.storage.getItem(s);j2()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,HD):a()}notifyListeners(e,i){this.localCache[e]=i;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:s}),!0)})},OD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}B_.type="LOCAL";const GD=B_;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_ extends V_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}q_.type="SESSION";const F_=q_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zD(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(a=>a.isListeningto(e));if(i)return i;const s=new Dl(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:s,eventType:a,data:u}=i.data,d=this.handlersMap[a];if(!(d!=null&&d.size))return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const p=Array.from(d).map(async m=>m(i.origin,u)),y=await zD(p);i.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:y})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Dl.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ff(t="",e=10){let i="";for(let s=0;s<e;s++)i+=Math.floor(Math.random()*10);return t+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let u,d;return new Promise((p,y)=>{const m=ff("",20);a.port1.start();const v=setTimeout(()=>{y(new Error("unsupported_event"))},s);d={messageChannel:a,onMessage(S){const E=S;if(E.data.eventId===m)switch(E.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(E.data.response);break;default:clearTimeout(v),clearTimeout(u),y(new Error("invalid_response"));break}}},this.handlers.add(d),a.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:m,data:i},[a.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yn(){return window}function BD(t){yn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y_(){return typeof yn().WorkerGlobalScope<"u"&&typeof yn().importScripts=="function"}async function qD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function FD(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function YD(){return Y_()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_="firebaseLocalStorageDb",JD=1,Tl="firebaseLocalStorage",$_="fbase_key";class Rr{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Ul(t,e){return t.transaction([Tl],e?"readwrite":"readonly").objectStore(Tl)}function $D(){const t=indexedDB.deleteDatabase(J_);return new Rr(t).toPromise()}function zd(){const t=indexedDB.open(J_,JD);return new Promise((e,i)=>{t.addEventListener("error",()=>{i(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(Tl,{keyPath:$_})}catch(a){i(a)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(Tl)?e(s):(s.close(),await $D(),e(await zd()))})})}async function L0(t,e,i){const s=Ul(t,!0).put({[$_]:e,value:i});return new Rr(s).toPromise()}async function KD(t,e){const i=Ul(t,!1).get(e),s=await new Rr(i).toPromise();return s===void 0?null:s.value}function P0(t,e){const i=Ul(t,!0).delete(e);return new Rr(i).toPromise()}const XD=800,QD=3;class K_{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await zd(),this.db)}async _withRetries(e){let i=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(i++>QD)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Y_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Dl._getInstance(YD()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){var i,s;if(this.activeServiceWorker=await qD(),!this.activeServiceWorker)return;this.sender=new VD(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(i=e[0])!=null&&i.fulfilled&&(s=e[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||FD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await zd();return await L0(e,_l,"1"),await P0(e,_l),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(s=>L0(s,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(s=>KD(s,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>P0(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const u=Ul(a,!1).getAll();return new Rr(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:u}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(u)&&(this.notifyListeners(a,u),i.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),i.push(a));return i}notifyListeners(e,i){this.localCache[e]=i;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),XD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}K_.type="LOCAL";const WD=K_;new wr(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZD(t,e){return e?qn(e):(le(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf extends cf{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ds(e,this._buildIdpRequest())}_linkToIdToken(e,i){return ds(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return ds(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function jD(t){return G_(t.auth,new hf(t),t.bypassAuthState)}function eU(t){const{auth:e,user:i}=t;return le(i,e,"internal-error"),wD(i,new hf(t),t.bypassAuthState)}async function tU(t){const{auth:e,user:i}=t;return le(i,e,"internal-error"),bD(i,new hf(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X_{constructor(e,i,s,a,u=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:s,postBody:a,tenantId:u,error:d,type:p}=e;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:s,tenantId:u||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(y))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return jD;case"linkViaPopup":case"linkViaRedirect":return tU;case"reauthViaPopup":case"reauthViaRedirect":return eU;default:an(this.auth,"internal-error")}}resolve(e){Qn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Qn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nU=new wr(2e3,1e4);class ss extends X_{constructor(e,i,s,a,u){super(e,i,a,u),this.provider=s,this.authWindow=null,this.pollId=null,ss.currentPopupAction&&ss.currentPopupAction.cancel(),ss.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return le(e,this.auth,"internal-error"),e}async onExecution(){Qn(this.filter.length===1,"Popup operations only handle one event");const e=ff();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(gn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(gn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ss.currentPopupAction=null}pollUserCancellation(){const e=()=>{var i,s;if((s=(i=this.authWindow)==null?void 0:i.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(gn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,nU.get())};e()}}ss.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iU="pendingRedirect",sl=new Map;class oU extends X_{constructor(e,i,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,s),this.eventId=null}async execute(){let e=sl.get(this.auth._key());if(!e){try{const s=await sU(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(i){e=()=>Promise.reject(i)}sl.set(this.auth._key(),e)}return this.bypassAuthState||sl.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function sU(t,e){const i=lU(e),s=aU(t);if(!await s._isAvailable())return!1;const a=await s._get(i)==="true";return await s._remove(i),a}function rU(t,e){sl.set(t._key(),e)}function aU(t){return qn(t._redirectPersistence)}function lU(t){return ol(iU,t.config.apiKey,t.name)}async function uU(t,e,i=!1){if(nn(t.app))return Promise.reject(Yn(t));const s=go(t),a=ZD(s,e),d=await new oU(s,a,i).execute();return d&&!i&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cU=600*1e3;class dU{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(i=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!fU(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){var s;if(e.error&&!Q_(e)){const a=((s=e.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";i.onError(gn(this.auth,a))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const s=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=cU&&this.cachedEventUids.clear(),this.cachedEventUids.has(O0(e))}saveEventToCache(e){this.cachedEventUids.add(O0(e)),this.lastProcessedEventTime=Date.now()}}function O0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Q_({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function fU(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Q_(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hU(t,e={}){return jn(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mU=/^https?/;async function gU(t){if(t.config.emulator)return;const{authorizedDomains:e}=await hU(t);for(const i of e)try{if(yU(i))return}catch{}an(t,"unauthorized-domain")}function yU(t){const e=Od(),{protocol:i,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const d=new URL(t);return d.hostname===""&&s===""?i==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===s}if(!mU.test(i))return!1;if(pU.test(t))return s===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vU=new wr(3e4,6e4);function H0(){const t=yn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let i=0;i<t.CP.length;i++)t.CP[i]=null}}function _U(t){return new Promise((e,i)=>{var a,u,d;function s(){H0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{H0(),i(gn(t,"network-request-failed"))},timeout:vU.get()})}if((u=(a=yn().gapi)==null?void 0:a.iframes)!=null&&u.Iframe)e(gapi.iframes.getContext());else if((d=yn().gapi)!=null&&d.load)s();else{const p=lD("iframefcb");return yn()[p]=()=>{gapi.load?s():i(gn(t,"network-request-failed"))},k_(`${aD()}?onload=${p}`).catch(y=>i(y))}}).catch(e=>{throw rl=null,e})}let rl=null;function TU(t){return rl=rl||_U(t),rl}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SU=new wr(5e3,15e3),EU="__/auth/iframe",CU="emulator/auth/iframe",xU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},AU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bU(t){const e=t.config;le(e.authDomain,t,"auth-domain-config-required");const i=e.emulator?af(e,CU):`https://${t.config.authDomain}/${EU}`,s={apiKey:e.apiKey,appName:t.name,v:br},a=AU.get(t.config.apiHost);a&&(s.eid=a);const u=t._getFrameworks();return u.length&&(s.fw=u.join(",")),`${i}?${Ar(s).slice(1)}`}async function wU(t){const e=await TU(t),i=yn().gapi;return le(i,t,"internal-error"),e.open({where:document.body,url:bU(t),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xU,dontclear:!0},s=>new Promise(async(a,u)=>{await s.restyle({setHideOnLeave:!1});const d=gn(t,"network-request-failed"),p=yn().setTimeout(()=>{u(d)},SU.get());function y(){yn().clearTimeout(p),a(s)}s.ping(y).then(y,()=>{u(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},IU=500,RU=600,MU="_blank",DU="http://localhost";class G0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function UU(t,e,i,s=IU,a=RU){const u=Math.max((window.screen.availHeight-a)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const y={...NU,width:s.toString(),height:a.toString(),top:u,left:d},m=vt().toLowerCase();i&&(p=w_(m)?MU:i),A_(m)&&(e=e||DU,y.scrollbars="yes");const v=Object.entries(y).reduce((E,[x,N])=>`${E}${x}=${N},`,"");if(Z2(m)&&p!=="_self")return kU(e||"",p),new G0(null);const S=window.open(e||"",p,v);le(S,t,"popup-blocked");try{S.focus()}catch{}return new G0(S)}function kU(t,e){const i=document.createElement("a");i.href=t,i.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LU="__/auth/handler",PU="emulator/auth/handler",OU=encodeURIComponent("fac");async function z0(t,e,i,s,a,u){le(t.config.authDomain,t,"auth-domain-config-required"),le(t.config.apiKey,t,"invalid-api-key");const d={apiKey:t.config.apiKey,appName:t.name,authType:i,redirectUrl:s,v:br,eventId:a};if(e instanceof O_){e.setDefaultLanguage(t.languageCode),d.providerId=e.providerId||"",yM(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,S]of Object.entries({}))d[v]=S}if(e instanceof Ir){const v=e.getScopes().filter(S=>S!=="");v.length>0&&(d.scopes=v.join(","))}t.tenantId&&(d.tid=t.tenantId);const p=d;for(const v of Object.keys(p))p[v]===void 0&&delete p[v];const y=await t._getAppCheckToken(),m=y?`#${OU}=${encodeURIComponent(y)}`:"";return`${HU(t)}?${Ar(p).slice(1)}${m}`}function HU({config:t}){return t.emulator?af(t,PU):`https://${t.authDomain}/${LU}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cd="webStorageSupport";class GU{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=F_,this._completeRedirectFn=uU,this._overrideRedirectResult=rU}async _openPopup(e,i,s,a){var d;Qn((d=this.eventManagers[e._key()])==null?void 0:d.manager,"_initialize() not called before _openPopup()");const u=await z0(e,i,s,Od(),a);return UU(e,u,ff())}async _openRedirect(e,i,s,a){await this._originValidation(e);const u=await z0(e,i,s,Od(),a);return BD(u),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:a,promise:u}=this.eventManagers[i];return a?Promise.resolve(a):(Qn(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[i]={promise:s},s.catch(()=>{delete this.eventManagers[i]}),s}async initAndGetManager(e){const i=await wU(e),s=new dU(e);return i.register("authEvent",a=>(le(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=i,s}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(cd,{type:cd},a=>{var d;const u=(d=a==null?void 0:a[0])==null?void 0:d[cd];u!==void 0&&i(!!u),an(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=gU(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return D_()||b_()||uf()}}const zU=GU;var V0="@firebase/auth",B0="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VU{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BU(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function qU(t){Xn(new vn("auth",(e,{options:i})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=s.options;le(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const y={apiKey:d,authDomain:p,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:U_(t)},m=new oD(s,a,u,y);return pD(m,i),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,s)=>{e.getProvider("auth-internal").initialize()})),Xn(new vn("auth-internal",e=>{const i=go(e.getProvider("auth").getImmediate());return(s=>new VU(s))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),mn(V0,B0,BU(t)),mn(V0,B0,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FU=300,YU=r_("authIdTokenMaxAge")||FU;let q0=null;const JU=t=>async e=>{const i=e&&await e.getIdTokenResult(),s=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(s&&s>YU)return;const a=i==null?void 0:i.token;q0!==a&&(q0=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function $U(t=p_()){const e=ys(t,"auth");if(e.isInitialized())return e.getImmediate();const i=hD(t,{popupRedirectResolver:zU,persistence:[WD,GD,F_]}),s=r_("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const d=JU(u.toString());kD(i,d,()=>d(i.currentUser)),UD(i,p=>d(p))}}const a=iM("auth");return a&&mD(i,`http://${a}`),i}function KU(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}sD({loadJS(t){return new Promise((e,i)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=a=>{const u=gn("internal-error");u.customData=a,i(u)},s.type="text/javascript",s.charset="UTF-8",KU().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});qU("Browser");var XU="firebase",QU="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mn(XU,QU,"app");const W_="@firebase/installations",pf="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_=1e4,j_=`w:${pf}`,eT="FIS_v2",WU="https://firebaseinstallations.googleapis.com/v1",ZU=3600*1e3,jU="installations",ek="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tk={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},fo=new mo(jU,ek,tk);function tT(t){return t instanceof Sn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nT({projectId:t}){return`${WU}/projects/${t}/installations`}function iT(t){return{token:t.token,requestStatus:2,expiresIn:ik(t.expiresIn),creationTime:Date.now()}}async function oT(t,e){const s=(await e.json()).error;return fo.create("request-failed",{requestName:t,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function sT({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function nk(t,{refreshToken:e}){const i=sT(t);return i.append("Authorization",ok(e)),i}async function rT(t){const e=await t();return e.status>=500&&e.status<600?t():e}function ik(t){return Number(t.replace("s","000"))}function ok(t){return`${eT} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sk({appConfig:t,heartbeatServiceProvider:e},{fid:i}){const s=nT(t),a=sT(t),u=e.getImmediate({optional:!0});if(u){const m=await u.getHeartbeatsHeader();m&&a.append("x-firebase-client",m)}const d={fid:i,authVersion:eT,appId:t.appId,sdkVersion:j_},p={method:"POST",headers:a,body:JSON.stringify(d)},y=await rT(()=>fetch(s,p));if(y.ok){const m=await y.json();return{fid:m.fid||i,registrationStatus:2,refreshToken:m.refreshToken,authToken:iT(m.authToken)}}else throw await oT("Create Installation",y)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aT(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rk(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ak=/^[cdef][\w-]{21}$/,Vd="";function lk(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const i=uk(t);return ak.test(i)?i:Vd}catch{return Vd}}function uk(t){return rk(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kl(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT=new Map;function uT(t,e){const i=kl(t);cT(i,e),ck(i,e)}function cT(t,e){const i=lT.get(t);if(i)for(const s of i)s(e)}function ck(t,e){const i=dk();i&&i.postMessage({key:t,fid:e}),fk()}let ro=null;function dk(){return!ro&&"BroadcastChannel"in self&&(ro=new BroadcastChannel("[Firebase] FID Change"),ro.onmessage=t=>{cT(t.data.key,t.data.fid)}),ro}function fk(){lT.size===0&&ro&&(ro.close(),ro=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hk="firebase-installations-database",pk=1,ho="firebase-installations-store";let dd=null;function mf(){return dd||(dd=f_(hk,pk,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ho)}}})),dd}async function Sl(t,e){const i=kl(t),a=(await mf()).transaction(ho,"readwrite"),u=a.objectStore(ho),d=await u.get(i);return await u.put(e,i),await a.done,(!d||d.fid!==e.fid)&&uT(t,e.fid),e}async function dT(t){const e=kl(t),s=(await mf()).transaction(ho,"readwrite");await s.objectStore(ho).delete(e),await s.done}async function Ll(t,e){const i=kl(t),a=(await mf()).transaction(ho,"readwrite"),u=a.objectStore(ho),d=await u.get(i),p=e(d);return p===void 0?await u.delete(i):await u.put(p,i),await a.done,p&&(!d||d.fid!==p.fid)&&uT(t,p.fid),p}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gf(t){let e;const i=await Ll(t.appConfig,s=>{const a=mk(s),u=gk(t,a);return e=u.registrationPromise,u.installationEntry});return i.fid===Vd?{installationEntry:await e}:{installationEntry:i,registrationPromise:e}}function mk(t){const e=t||{fid:lk(),registrationStatus:0};return fT(e)}function gk(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(fo.create("app-offline"));return{installationEntry:e,registrationPromise:a}}const i={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=yk(t,i);return{installationEntry:i,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:vk(t)}:{installationEntry:e}}async function yk(t,e){try{const i=await sk(t,e);return Sl(t.appConfig,i)}catch(i){throw tT(i)&&i.customData.serverCode===409?await dT(t.appConfig):await Sl(t.appConfig,{fid:e.fid,registrationStatus:0}),i}}async function vk(t){let e=await F0(t.appConfig);for(;e.registrationStatus===1;)await aT(100),e=await F0(t.appConfig);if(e.registrationStatus===0){const{installationEntry:i,registrationPromise:s}=await gf(t);return s||i}return e}function F0(t){return Ll(t,e=>{if(!e)throw fo.create("installation-not-found");return fT(e)})}function fT(t){return _k(t)?{fid:t.fid,registrationStatus:0}:t}function _k(t){return t.registrationStatus===1&&t.registrationTime+Z_<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tk({appConfig:t,heartbeatServiceProvider:e},i){const s=Sk(t,i),a=nk(t,i),u=e.getImmediate({optional:!0});if(u){const m=await u.getHeartbeatsHeader();m&&a.append("x-firebase-client",m)}const d={installation:{sdkVersion:j_,appId:t.appId}},p={method:"POST",headers:a,body:JSON.stringify(d)},y=await rT(()=>fetch(s,p));if(y.ok){const m=await y.json();return iT(m)}else throw await oT("Generate Auth Token",y)}function Sk(t,{fid:e}){return`${nT(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yf(t,e=!1){let i;const s=await Ll(t.appConfig,u=>{if(!hT(u))throw fo.create("not-registered");const d=u.authToken;if(!e&&xk(d))return u;if(d.requestStatus===1)return i=Ek(t,e),u;{if(!navigator.onLine)throw fo.create("app-offline");const p=bk(u);return i=Ck(t,p),p}});return i?await i:s.authToken}async function Ek(t,e){let i=await Y0(t.appConfig);for(;i.authToken.requestStatus===1;)await aT(100),i=await Y0(t.appConfig);const s=i.authToken;return s.requestStatus===0?yf(t,e):s}function Y0(t){return Ll(t,e=>{if(!hT(e))throw fo.create("not-registered");const i=e.authToken;return wk(i)?{...e,authToken:{requestStatus:0}}:e})}async function Ck(t,e){try{const i=await Tk(t,e),s={...e,authToken:i};return await Sl(t.appConfig,s),i}catch(i){if(tT(i)&&(i.customData.serverCode===401||i.customData.serverCode===404))await dT(t.appConfig);else{const s={...e,authToken:{requestStatus:0}};await Sl(t.appConfig,s)}throw i}}function hT(t){return t!==void 0&&t.registrationStatus===2}function xk(t){return t.requestStatus===2&&!Ak(t)}function Ak(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+ZU}function bk(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function wk(t){return t.requestStatus===1&&t.requestTime+Z_<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nk(t){const e=t,{installationEntry:i,registrationPromise:s}=await gf(e);return s?s.catch(console.error):yf(e).catch(console.error),i.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ik(t,e=!1){const i=t;return await Rk(i),(await yf(i,e)).token}async function Rk(t){const{registrationPromise:e}=await gf(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mk(t){if(!t||!t.options)throw fd("App Configuration");if(!t.name)throw fd("App Name");const e=["projectId","apiKey","appId"];for(const i of e)if(!t.options[i])throw fd(i);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function fd(t){return fo.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT="installations",Dk="installations-internal",Uk=t=>{const e=t.getProvider("app").getImmediate(),i=Mk(e),s=ys(e,"heartbeat");return{app:e,appConfig:i,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},kk=t=>{const e=t.getProvider("app").getImmediate(),i=ys(e,pT).getImmediate();return{getId:()=>Nk(i),getToken:a=>Ik(i,a)}};function Lk(){Xn(new vn(pT,Uk,"PUBLIC")),Xn(new vn(Dk,kk,"PRIVATE"))}Lk();mn(W_,pf);mn(W_,pf,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const El="analytics",Pk="firebase_id",Ok="origin",Hk=60*1e3,Gk="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",vf="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gt=new of("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zk={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Pt=new mo("analytics","Analytics",zk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vk(t){if(!t.startsWith(vf)){const e=Pt.create("invalid-gtag-resource",{gtagURL:t});return gt.warn(e.message),""}return t}function mT(t){return Promise.all(t.map(e=>e.catch(i=>i)))}function Bk(t,e){let i;return window.trustedTypes&&(i=window.trustedTypes.createPolicy(t,e)),i}function qk(t,e){const i=Bk("firebase-js-sdk-policy",{createScriptURL:Vk}),s=document.createElement("script"),a=`${vf}?l=${t}&id=${e}`;s.src=i?i==null?void 0:i.createScriptURL(a):a,s.async=!0,document.head.appendChild(s)}function Fk(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function Yk(t,e,i,s,a,u){const d=s[a];try{if(d)await e[d];else{const y=(await mT(i)).find(m=>m.measurementId===a);y&&await e[y.appId]}}catch(p){gt.error(p)}t("config",a,u)}async function Jk(t,e,i,s,a){try{let u=[];if(a&&a.send_to){let d=a.send_to;Array.isArray(d)||(d=[d]);const p=await mT(i);for(const y of d){const m=p.find(S=>S.measurementId===y),v=m&&e[m.appId];if(v)u.push(v);else{u=[];break}}}u.length===0&&(u=Object.values(e)),await Promise.all(u),t("event",s,a||{})}catch(u){gt.error(u)}}function $k(t,e,i,s){async function a(u,...d){try{if(u==="event"){const[p,y]=d;await Jk(t,e,i,p,y)}else if(u==="config"){const[p,y]=d;await Yk(t,e,i,s,p,y)}else if(u==="consent"){const[p,y]=d;t("consent",p,y)}else if(u==="get"){const[p,y,m]=d;t("get",p,y,m)}else if(u==="set"){const[p]=d;t("set",p)}else t(u,...d)}catch(p){gt.error(p)}}return a}function Kk(t,e,i,s,a){let u=function(...d){window[s].push(arguments)};return window[a]&&typeof window[a]=="function"&&(u=window[a]),window[a]=$k(u,t,e,i),{gtagCore:u,wrappedGtag:window[a]}}function Xk(t){const e=window.document.getElementsByTagName("script");for(const i of Object.values(e))if(i.src&&i.src.includes(vf)&&i.src.includes(t))return i;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qk=30,Wk=1e3;class Zk{constructor(e={},i=Wk){this.throttleMetadata=e,this.intervalMillis=i}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,i){this.throttleMetadata[e]=i}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const gT=new Zk;function jk(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function eL(t){var d;const{appId:e,apiKey:i}=t,s={method:"GET",headers:jk(i)},a=Gk.replace("{app-id}",e),u=await fetch(a,s);if(u.status!==200&&u.status!==304){let p="";try{const y=await u.json();(d=y.error)!=null&&d.message&&(p=y.error.message)}catch{}throw Pt.create("config-fetch-failed",{httpStatus:u.status,responseMessage:p})}return u.json()}async function tL(t,e=gT,i){const{appId:s,apiKey:a,measurementId:u}=t.options;if(!s)throw Pt.create("no-app-id");if(!a){if(u)return{measurementId:u,appId:s};throw Pt.create("no-api-key")}const d=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},p=new oL;return setTimeout(async()=>{p.abort()},Hk),yT({appId:s,apiKey:a,measurementId:u},d,p,e)}async function yT(t,{throttleEndTimeMillis:e,backoffCount:i},s,a=gT){var p;const{appId:u,measurementId:d}=t;try{await nL(s,e)}catch(y){if(d)return gt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${y==null?void 0:y.message}]`),{appId:u,measurementId:d};throw y}try{const y=await eL(t);return a.deleteThrottleMetadata(u),y}catch(y){const m=y;if(!iL(m)){if(a.deleteThrottleMetadata(u),d)return gt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${m==null?void 0:m.message}]`),{appId:u,measurementId:d};throw y}const v=Number((p=m==null?void 0:m.customData)==null?void 0:p.httpStatus)===503?g0(i,a.intervalMillis,Qk):g0(i,a.intervalMillis),S={throttleEndTimeMillis:Date.now()+v,backoffCount:i+1};return a.setThrottleMetadata(u,S),gt.debug(`Calling attemptFetch again in ${v} millis`),yT(t,S,s,a)}}function nL(t,e){return new Promise((i,s)=>{const a=Math.max(e-Date.now(),0),u=setTimeout(i,a);t.addEventListener(()=>{clearTimeout(u),s(Pt.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function iL(t){if(!(t instanceof Sn)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class oL{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function sL(t,e,i,s,a){if(a&&a.global){t("event",i,s);return}else{const u=await e,d={...s,send_to:u};t("event",i,d)}}async function rL(t,e,i,s){if(s&&s.global){const a={};for(const u of Object.keys(i))a[`user_properties.${u}`]=i[u];return t("set",a),Promise.resolve()}else{const a=await e;t("config",a,{update:!0,user_properties:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aL(){if(l_())try{await u_()}catch(t){return gt.warn(Pt.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return gt.warn(Pt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function lL(t,e,i,s,a,u,d){const p=tL(t);p.then(E=>{i[E.measurementId]=E.appId,t.options.measurementId&&E.measurementId!==t.options.measurementId&&gt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${E.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(E=>gt.error(E)),e.push(p);const y=aL().then(E=>{if(E)return s.getId()}),[m,v]=await Promise.all([p,y]);Xk(u)||qk(u,m.measurementId),a("js",new Date);const S=(d==null?void 0:d.config)??{};return S[Ok]="firebase",S.update=!0,v!=null&&(S[Pk]=v),a("config",m.measurementId,S),m.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uL{constructor(e){this.app=e}_delete(){return delete fs[this.app.options.appId],Promise.resolve()}}let fs={},J0=[];const $0={};let hd="dataLayer",cL="gtag",K0,_f,X0=!1;function dL(){const t=[];if(a_()&&t.push("This is a browser extension environment."),hM()||t.push("Cookies are not available."),t.length>0){const e=t.map((s,a)=>`(${a+1}) ${s}`).join(" "),i=Pt.create("invalid-analytics-context",{errorInfo:e});gt.warn(i.message)}}function fL(t,e,i){dL();const s=t.options.appId;if(!s)throw Pt.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)gt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Pt.create("no-api-key");if(fs[s]!=null)throw Pt.create("already-exists",{id:s});if(!X0){Fk(hd);const{wrappedGtag:u,gtagCore:d}=Kk(fs,J0,$0,hd,cL);_f=u,K0=d,X0=!0}return fs[s]=lL(t,J0,$0,e,K0,hd,i),new uL(t)}function hL(t=p_()){t=Ot(t);const e=ys(t,El);return e.isInitialized()?e.getImmediate():pL(t)}function pL(t,e={}){const i=ys(t,El);if(i.isInitialized()){const a=i.getImmediate();if(lo(e,i.getOptions()))return a;throw Pt.create("already-initialized")}return i.initialize({options:e})}function mL(t,e,i){t=Ot(t),rL(_f,fs[t.app.options.appId],e,i).catch(s=>gt.error(s))}function gL(t,e,i,s){t=Ot(t),sL(_f,fs[t.app.options.appId],e,i,s).catch(a=>gt.error(a))}const Q0="@firebase/analytics",W0="0.10.19";function yL(){Xn(new vn(El,(e,{options:i})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("installations-internal").getImmediate();return fL(s,a,i)},"PUBLIC")),Xn(new vn("analytics-internal",t,"PRIVATE")),mn(Q0,W0),mn(Q0,W0,"esm2020");function t(e){try{const i=e.getProvider(El).getImmediate();return{logEvent:(s,a,u)=>gL(i,s,a,u),setUserProperties:(s,a)=>mL(i,s,a)}}catch(i){throw Pt.create("interop-component-reg-failed",{reason:i})}}}yL();const vL={apiKey:"AIzaSyDGAI-Y0jWMkkTwVa3pWRYTRnIjeR5IgDo",authDomain:"suitcase-e579b.firebaseapp.com",projectId:"suitcase-e579b",storageBucket:"suitcase-e579b.firebasestorage.app",messagingSenderId:"535507830039",appId:"1:535507830039:web:1380d5f29396b0a614e352",measurementId:"G-1E9GL03TX0"},vT=h_(vL);hL(vT);const _r=$U(vT),al=t=>({id:t.uid,email:t.email||"",name:t.displayName||"Traveler"}),Bd={signup:async(t,e,i)=>{try{const s=await ID(_r,e,i);return await DD(s.user,{displayName:t}),al({...s.user,displayName:t})}catch(s){throw console.error("Signup Error:",s),new Error(Z0(s.code))}},login:async(t,e)=>{try{const i=await RD(_r,t,e);return al(i.user)}catch(i){throw console.error("Login Error:",i),new Error(Z0(i.code))}},logout:async()=>{try{await PD(_r)}catch(t){console.error("Logout Error",t)}},getCurrentUser:()=>{const t=_r.currentUser;return t?al(t):null}},Z0=t=>{switch(t){case"auth/email-already-in-use":return"That email is already registered.";case"auth/invalid-email":return"Please enter a valid email address.";case"auth/user-not-found":case"auth/wrong-password":case"auth/invalid-credential":return"Invalid email or password.";case"auth/weak-password":return"Password should be at least 6 characters.";default:return"Authentication failed. Please try again."}},_L=({onSuccess:t})=>{const[e,i]=Q.useState(!0),[s,a]=Q.useState(!1),[u,d]=Q.useState(null),[p,y]=Q.useState(""),[m,v]=Q.useState(""),[S,E]=Q.useState(""),x=async N=>{N.preventDefault(),d(null),a(!0);try{let k;if(e)k=await Bd.login(m,S);else{if(!p.trim())throw new Error("Name is required");k=await Bd.signup(p,m,S)}t(k)}catch(k){d(k.message||"Something went wrong")}finally{a(!1)}};return _.jsxs("div",{className:"min-h-screen bg-white flex flex-col md:flex-row relative",children:[_.jsxs("div",{className:"w-full md:w-1/2 bg-[#F5F5F7] p-8 md:p-12 flex flex-col justify-between relative overflow-hidden h-[30vh] md:h-auto",children:[_.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-gradient-to-tr from-blue-200 to-purple-200 rounded-full blur-[80px] opacity-60 animate-float pointer-events-none"}),_.jsxs("div",{className:"relative z-10 flex items-center gap-2",children:[_.jsx("div",{className:"p-2 bg-black text-white rounded-xl",children:_.jsx(tv,{size:24})}),_.jsx("span",{className:"font-serif font-bold text-2xl tracking-tight text-gray-900",children:"Suitcase"})]}),_.jsxs("div",{className:"relative z-10 hidden md:block",children:[_.jsxs("h1",{className:"text-5xl lg:text-7xl font-serif font-bold text-gray-900 mb-6 leading-[1.1]",children:["Pack your ",_.jsx("br",{})," ",_.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-purple-600",children:"imagination."})]}),_.jsx("p",{className:"text-xl text-gray-500 max-w-md leading-relaxed",children:"Your intelligent travel companion for literary journeys. Discover, read, and collect books with smart insights."})]}),_.jsx("div",{className:"relative z-10 md:hidden mt-4",children:_.jsx("h1",{className:"text-3xl font-serif font-bold text-gray-900",children:"Your literary journey starts here."})}),_.jsxs("div",{className:"hidden md:flex items-center gap-2 text-sm font-bold text-gray-400 uppercase tracking-widest",children:[_.jsx(Lt,{size:16,className:"text-yellow-500"}),_.jsx("span",{children:"Next Gen Library"})]})]}),_.jsx("div",{className:"w-full md:w-1/2 p-8 md:p-20 flex flex-col justify-center bg-white -mt-6 md:mt-0 rounded-t-[2rem] md:rounded-none shadow-[0_-10px_40px_-10px_rgba(0,0,0,0.1)] md:shadow-none z-20",children:_.jsxs("div",{className:"max-w-md w-full mx-auto",children:[_.jsxs("div",{className:"mb-8",children:[_.jsx("h2",{className:"text-3xl font-serif font-bold text-gray-900 mb-2",children:e?"Welcome back":"Create account"}),_.jsx("p",{className:"text-gray-500",children:e?"Enter your details to access your library.":"Start building your digital suitcase today."})]}),u&&_.jsxs("div",{className:"mb-6 p-4 bg-red-50 text-red-600 rounded-xl flex items-center gap-2 text-sm font-medium animate-in slide-in-from-top-2",children:[_.jsx(gC,{size:16}),u]}),_.jsxs("form",{onSubmit:x,className:"space-y-4",children:[!e&&_.jsxs("div",{className:"space-y-1 animate-in fade-in slide-in-from-bottom-2",children:[_.jsx("label",{className:"text-xs font-bold uppercase text-gray-400 tracking-wider ml-1",children:"Full Name"}),_.jsx("input",{type:"text",value:p,onChange:N=>y(N.target.value),className:"w-full bg-gray-50 border-2 border-transparent focus:bg-white focus:border-black rounded-2xl px-5 py-4 text-gray-900 font-medium outline-none transition-all",placeholder:"Ernest Hemingway"})]}),_.jsxs("div",{className:"space-y-1",children:[_.jsx("label",{className:"text-xs font-bold uppercase text-gray-400 tracking-wider ml-1",children:"Email Address"}),_.jsx("input",{type:"email",value:m,onChange:N=>v(N.target.value),className:"w-full bg-gray-50 border-2 border-transparent focus:bg-white focus:border-black rounded-2xl px-5 py-4 text-gray-900 font-medium outline-none transition-all",placeholder:"reader@example.com"})]}),_.jsxs("div",{className:"space-y-1",children:[_.jsx("label",{className:"text-xs font-bold uppercase text-gray-400 tracking-wider ml-1",children:"Password"}),_.jsx("input",{type:"password",value:S,onChange:N=>E(N.target.value),className:"w-full bg-gray-50 border-2 border-transparent focus:bg-white focus:border-black rounded-2xl px-5 py-4 text-gray-900 font-medium outline-none transition-all",placeholder:""})]}),_.jsx("button",{type:"submit",disabled:s,className:"w-full bg-black text-white py-5 rounded-2xl font-bold text-lg hover:scale-[1.02] active:scale-[0.98] transition-all flex items-center justify-center gap-2 mt-4 shadow-xl shadow-gray-200",children:s?_.jsx(ao,{className:"animate-spin"}):_.jsxs(_.Fragment,{children:[e?"Sign In":"Create Account"," ",_.jsx(Fd,{size:20})]})})]}),_.jsx("div",{className:"mt-8 text-center",children:_.jsx("button",{onClick:()=>{i(!e),d(null)},className:"text-sm font-semibold text-gray-500 hover:text-black transition-colors",children:e?"New to Suitcase? Create an account":"Already have an account? Log in"})})]})}),_.jsx("div",{className:"absolute bottom-4 right-8 z-30 hidden md:block",children:_.jsxs("p",{className:"text-xs font-medium text-gray-400 flex items-center gap-1",children:["Crafted with ",_.jsx(IC,{size:10,className:"fill-red-400 text-red-400"})," by Yashraj Pardeshi (@incyashraj)"]})})]})},Jn=(t,e)=>`suitcase_${t}_${e}`,TL=(t,e)=>{try{localStorage.setItem(Jn(t,"prefs"),JSON.stringify(e))}catch(i){console.error("Failed to save prefs",i)}},SL=t=>{try{const e=localStorage.getItem(Jn(t,"prefs"));return e?JSON.parse(e):null}catch{return null}},EL=(t,e)=>{try{const i=e.map(s=>({...s,fileUrl:s.isLocal?void 0:s.fileUrl}));localStorage.setItem(Jn(t,"library"),JSON.stringify(i))}catch(i){console.error("Failed to save library",i)}},CL=t=>{try{const e=localStorage.getItem(Jn(t,"library"));return e?JSON.parse(e):[]}catch{return[]}},xL=(t,e)=>{try{localStorage.setItem(Jn(t,"wallet"),JSON.stringify(e))}catch(i){console.error("Failed to save wallet",i)}},AL=t=>{try{const e=localStorage.getItem(Jn(t,"wallet"));return e?JSON.parse(e):{balance:0,nfts:[]}}catch{return{balance:0,nfts:[]}}},bL=t=>{localStorage.removeItem(Jn(t,"prefs")),localStorage.removeItem(Jn(t,"library")),localStorage.removeItem(Jn(t,"wallet")),window.location.reload()};function wL(){const[t,e]=Q.useState(null),[i,s]=Q.useState("auth"),[a,u]=Q.useState(null),[d,p]=Q.useState([]),[y,m]=Q.useState(null),[v,S]=Q.useState({balance:0,nfts:[]}),[E,x]=Q.useState(!1),[N,k]=Q.useState([]),[U,P]=Q.useState([]),[q,F]=Q.useState([]),[$,Y]=Q.useState(""),[te,K]=Q.useState(""),[he,Z]=Q.useState(!1),[de,ge]=Q.useState(!1),[ye,Se]=Q.useState("library"),[Ye,$e]=Q.useState(!1),[H,J]=Q.useState(!1),se=Q.useRef(null),be=Q.useRef(null),Ie=Q.useRef(null);Q.useEffect(()=>{const L=LD(_r,oe=>{if(oe){const ee=al(oe);e(ee),w(ee.id)}else e(null),s("auth"),x(!0)});return()=>L()},[]);const w=L=>{const oe=SL(L),ee=CL(L),ke=AL(L);m(oe),p(ee),S(ke),x(!0),oe?(s("library"),id(oe).then(cn=>{cn&&cn.length>0&&P(cn)})):s("onboarding")};Q.useEffect(()=>{t&&E&&y&&TL(t.id,y)},[y,E,t]),Q.useEffect(()=>{t&&E&&EL(t.id,d)},[d,E,t]),Q.useEffect(()=>{t&&E&&xL(t.id,v)},[v,E,t]),Q.useEffect(()=>{ye==="search"&&be.current&&be.current.focus()},[ye]),Q.useEffect(()=>{var L;ye==="mood"&&((L=Ie.current)==null||L.scrollIntoView({behavior:"smooth"}))},[q,ye]);const V=()=>{const L=new Date().getHours();return L<12?"Good morning":L<18?"Good afternoon":"Good evening"},X=L=>{e(L),w(L.id)},j=async()=>{await Bd.logout(),m(null),p([]),S({balance:0,nfts:[]})},ce=L=>{var ee;const oe=(ee=L.target.files)==null?void 0:ee[0];oe&&oe.type==="application/pdf"&&Be(oe)},ve=L=>{L.preventDefault(),L.stopPropagation(),$e(!0)},Ne=L=>{L.preventDefault(),L.stopPropagation(),!L.currentTarget.contains(L.relatedTarget)&&$e(!1)},Ze=L=>{L.preventDefault(),L.stopPropagation(),$e(!1);const oe=L.dataTransfer.files;oe&&oe.length>0&&oe[0].type==="application/pdf"&&Be(oe[0])},Be=L=>{const oe={id:`local-${Date.now()}`,title:L.name.replace(".pdf",""),author:"My Document",description:"Imported PDF document from local device.",coverColor:En(),fileUrl:URL.createObjectURL(L),isLocal:!0,categories:["Uploads"],publishedYear:new Date().getFullYear().toString()};p(ee=>[oe,...ee]),ye!=="library"&&Se("library")},En=()=>{const L=["#e0f2fe","#f0fdf4","#fdf4ff","#fff1f2","#fefce8"];return L[Math.floor(Math.random()*L.length)]},ei=async L=>{if(L.preventDefault(),!te.trim())return;Z(!0),k([]),ge(!1);const oe=await kR(te);k(oe),ge(!0),Z(!1)},Oi=async L=>{if(L.preventDefault(),!$.trim())return;const oe=$;Y(""),Z(!0),F(Zt=>[...Zt,{role:"user",text:oe}]);const ee=q.map(Zt=>({role:Zt.role,text:Zt.text})),{reply:ke,suggestions:cn}=await LR(oe,ee);F(Zt=>[...Zt,{role:"model",text:ke,books:cn}]),Z(!1)},yo=async L=>{J(!0),m(L),S({balance:100,nfts:[]});const oe=new Promise(Zt=>setTimeout(Zt,2500)),ee=id(L),[ke,cn]=await Promise.all([oe,ee]);P(cn),J(!1),s("library")},Wt=()=>{S(L=>({...L,balance:L.balance+50,nfts:[...L.nfts,(a==null?void 0:a.id)||"unknown"]}))},Hi=(L,oe)=>{p(ee=>ee.map(ke=>ke.id===L?{...ke,...oe}:ke)),a&&a.id===L&&u(ee=>ee?{...ee,...oe}:null)},Gi=L=>{m(L),id(L).then(P)},_s=()=>{t&&(bL(t.id),j())},Cn=L=>{const oe=d.find(ee=>ee.id===L.id);u(oe||L),s("details")},Ht=L=>{const oe=d.find(ee=>ee.id===L.id);if(oe)u(oe);else{const ee={...L,lastReadDate:Date.now()};p(ke=>[ee,...ke]),u(ee)}s("reader")},ti=()=>{s("library"),u(null)},un=({icon:L,label:oe,isActive:ee,onClick:ke})=>_.jsxs("button",{onClick:ke,className:"group relative flex flex-col items-center justify-center w-12 h-12 rounded-full dock-icon-transition hover:scale-125 hover:-translate-y-2",children:[_.jsx("div",{className:`p-2.5 rounded-full transition-colors duration-300 ${ee?"bg-blue-50 text-blue-600":"text-gray-400 hover:text-gray-600"}`,children:_.jsx(L,{size:26,strokeWidth:ee?2.5:2})}),_.jsx("span",{className:`absolute -bottom-1 w-1.5 h-1.5 rounded-full bg-blue-600 transition-transform duration-300 ${ee?"scale-100":"scale-0"}`})]});return!E&&i!=="auth"?_.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#F5F5F7]",children:_.jsx(ao,{className:"animate-spin text-gray-400"})}):i==="auth"?_.jsx(_L,{onSuccess:X}):i==="onboarding"?_.jsx(JR,{onComplete:yo}):H?_.jsxs("div",{className:"fixed inset-0 z-50 flex flex-col items-center justify-center bg-[#F5F5F7] animate-in fade-in duration-500",children:[_.jsxs("div",{className:"relative",children:[_.jsx("div",{className:"absolute inset-0 bg-blue-100 rounded-full blur-xl animate-pulse"}),_.jsx(Fn,{size:64,className:"relative text-blue-600 mb-6 animate-bounce"})]}),_.jsx("h2",{className:"text-2xl font-serif font-bold text-gray-900 mb-2",children:"Curating your Suitcase..."}),_.jsx("p",{className:"text-gray-500",children:"Finding books that match your vibe."})]}):_.jsxs("div",{className:"min-h-screen flex flex-col bg-[#F5F5F7] selection:bg-blue-100 overflow-x-hidden relative",onDragOver:ve,onDragLeave:Ne,onDrop:Ze,children:[Ye&&_.jsx("div",{className:"fixed inset-0 z-[100] bg-blue-500/10 backdrop-blur-sm border-4 border-blue-500 border-dashed m-4 rounded-[3rem] flex items-center justify-center pointer-events-none animate-in fade-in duration-200",children:_.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-2xl flex flex-col items-center",children:[_.jsx(Mg,{size:48,className:"text-blue-500 mb-4 animate-bounce"}),_.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Drop PDF to Upload"})]})}),_.jsxs("div",{className:"fixed top-0 left-0 right-0 z-30 px-6 py-4 flex justify-between items-center pointer-events-none",children:[_.jsxs("div",{className:"flex items-center gap-2 mix-blend-multiply opacity-50",children:[_.jsx(tv,{size:20,className:"text-gray-900"}),_.jsx("span",{className:"font-serif font-bold text-xl tracking-tight text-gray-900 hidden sm:block",children:"Suitcase"})]}),_.jsxs("div",{className:"pointer-events-auto flex items-center gap-3",children:[_.jsx("button",{onClick:j,className:"bg-white/60 backdrop-blur-md p-2 rounded-full shadow-sm border border-white/50 text-gray-500 hover:text-red-500 transition-colors",children:_.jsx(ov,{size:16})}),_.jsxs("div",{onClick:()=>{Se("library"),s("profile")},className:"bg-white/60 backdrop-blur-md px-4 py-2 rounded-full shadow-sm border border-white/50 flex items-center gap-2 hover:scale-105 transition-transform cursor-pointer",children:[_.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-tr from-yellow-400 to-yellow-600 flex items-center justify-center shadow-sm",children:_.jsx("span",{className:"text-[10px] font-bold text-white",children:"$"})}),_.jsx("span",{className:"text-sm font-bold text-gray-800",children:v.balance})]})]})]}),_.jsx("input",{type:"file",ref:se,className:"hidden",accept:"application/pdf",onChange:ce}),_.jsxs("main",{className:"flex-1 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-24 pb-36 w-full",children:[i==="profile"&&y&&_.jsx(KR,{userPrefs:y,wallet:v,library:d,onClose:()=>s("library"),onUpdateProfile:Gi,onReset:_s}),i==="library"&&ye==="mood"&&y&&_.jsxs("div",{className:"max-w-4xl mx-auto h-[calc(100vh-140px)] flex flex-col",children:[q.length===0?_.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center animate-spring pb-20",children:[_.jsx("div",{className:"animate-float inline-flex items-center justify-center w-20 h-20 bg-gradient-to-tr from-blue-100 to-purple-100 rounded-full mb-6 shadow-xl shadow-blue-100/50",children:_.jsx(Lt,{size:32,className:"text-blue-500"})}),_.jsx("h1",{className:"text-4xl md:text-5xl font-serif font-bold text-gray-900 mb-4 tracking-tight",children:"How are you feeling?"}),_.jsx("p",{className:"text-gray-500 text-lg max-w-md mb-8",children:"Tell me your mood, or what you're curious about, and I'll curate a selection just for you."})]}):_.jsxs("div",{className:"flex-1 overflow-y-auto space-y-6 pb-24 px-4 scroll-smooth",children:[q.map((L,oe)=>_.jsxs("div",{className:`flex flex-col ${L.role==="user"?"items-end":"items-start"} animate-in fade-in slide-in-from-bottom-2`,children:[_.jsx("div",{className:`max-w-[85%] md:max-w-[70%] p-5 rounded-[1.5rem] text-base leading-relaxed shadow-sm ${L.role==="user"?"bg-black text-white rounded-br-none":"bg-white text-gray-800 rounded-bl-none border border-gray-100"}`,children:L.text}),L.books&&L.books.length>0&&_.jsx("div",{className:"mt-4 grid grid-cols-2 md:grid-cols-3 gap-4 w-full",children:L.books.map(ee=>_.jsx("div",{className:"animate-in fade-in zoom-in-95 duration-500",children:_.jsx(Ka,{book:ee,onClick:()=>Cn(ee),onRead:ke=>{ke.stopPropagation(),Ht(ee)}})},ee.id))})]},oe)),he&&_.jsx("div",{className:"flex justify-start",children:_.jsxs("div",{className:"bg-white border border-gray-100 p-4 rounded-[1.5rem] rounded-bl-none shadow-sm flex gap-2 items-center text-gray-400",children:[_.jsx(Lt,{size:16,className:"animate-pulse"}),_.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"Suitcase is thinking..."})]})}),_.jsx("div",{ref:Ie})]}),_.jsx("div",{className:`${q.length===0?"relative mb-10":"fixed bottom-24 left-4 right-4 max-w-4xl mx-auto z-40"}`,children:_.jsxs("form",{onSubmit:Oi,className:"relative group",children:[_.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-100 to-purple-100 rounded-full blur-xl opacity-20 group-hover:opacity-40 transition-opacity"}),_.jsx("input",{type:"text",placeholder:"I want a mystery set in Paris...",className:"w-full relative bg-white/90 backdrop-blur-xl border border-white/60 p-5 pl-8 pr-16 rounded-full text-lg text-gray-900 placeholder:text-gray-400 outline-none shadow-[0_8px_30px_rgb(0,0,0,0.06)] focus:shadow-[0_12px_40px_rgb(0,0,0,0.1)] transition-all duration-300 font-medium",value:$,onChange:L=>Y(L.target.value),autoFocus:q.length===0}),_.jsx("button",{type:"submit",disabled:!$.trim()||he,className:"absolute right-2 top-2 bottom-2 aspect-square bg-black text-white rounded-full flex items-center justify-center hover:scale-105 transition-transform active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed",children:he?_.jsx(ao,{size:18,className:"animate-spin"}):q.length===0?_.jsx(Fd,{size:20}):_.jsx(Yd,{size:18})})]})})]}),i==="library"&&ye==="search"&&_.jsxs("div",{className:"max-w-6xl mx-auto animate-spring mt-8",children:[_.jsx("div",{className:"mb-8 max-w-2xl mx-auto relative px-4",children:_.jsxs("div",{className:"relative",children:[_.jsx(gd,{className:"absolute left-6 top-1/2 -translate-y-1/2 text-gray-400 w-6 h-6"}),_.jsx("form",{onSubmit:ei,children:_.jsx("input",{ref:be,type:"text",placeholder:"Search for books, authors...",className:"w-full pl-16 pr-6 py-5 bg-white/90 backdrop-blur-xl border border-white/50 rounded-3xl text-2xl text-gray-900 placeholder:text-gray-300 outline-none shadow-2xl shadow-gray-200/50 transition-all duration-300 font-serif",value:te,onChange:L=>K(L.target.value)})}),te&&_.jsx("button",{onClick:()=>{K(""),k([]),ge(!1)},className:"absolute right-6 top-1/2 -translate-y-1/2 p-2 hover:bg-gray-100 rounded-full text-gray-400 transition-colors",children:_.jsx(rs,{size:16})})]})}),he?_.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-6 opacity-50 pointer-events-none",children:[1,2,3,4,5].map(L=>_.jsx("div",{className:"aspect-[2/3] bg-white rounded-2xl animate-pulse"},L))}):_.jsx("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:de&&N.length===0?_.jsxs("div",{className:"flex flex-col items-center justify-center py-20 opacity-60",children:[_.jsx(EC,{size:64,className:"text-gray-300 mb-4"}),_.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"No books found"}),_.jsx("p",{className:"text-gray-500",children:"Try checking the spelling or use different keywords."})]}):N.length>0&&_.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-6",children:N.map(L=>_.jsx(Ka,{book:L,onClick:()=>Cn(L),onRead:()=>Ht(L)},L.id))})})]}),i==="library"&&ye==="library"&&_.jsxs("div",{className:"animate-in fade-in duration-500 space-y-12",children:[_.jsxs("div",{className:"flex flex-col gap-1 px-2",children:[_.jsxs("h1",{className:"text-3xl md:text-4xl font-serif font-bold text-gray-900",children:[V(),", ",(t==null?void 0:t.name.split(" ")[0])||"Traveler","."]}),_.jsx("p",{className:"text-gray-500",children:"Ready to continue your journey?"})]}),U.length>0&&_.jsxs("section",{children:[_.jsxs("div",{className:"flex items-center justify-between mb-4 px-2",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx(Lt,{size:18,className:"text-blue-500"}),_.jsx("h2",{className:"text-xl font-bold text-gray-900 tracking-tight",children:"For You"})]}),_.jsxs("button",{className:"text-xs font-bold text-gray-400 hover:text-gray-900 flex items-center gap-1",children:["View All ",_.jsx(iv,{size:12})]})]}),_.jsx("div",{className:"flex gap-6 overflow-x-auto pb-8 -mx-4 px-4 scrollbar-hide snap-x snap-mandatory",children:U.map(L=>_.jsx("div",{className:"min-w-[160px] md:min-w-[180px] snap-start",children:_.jsx(Ka,{book:L,onClick:()=>Cn(L),onRead:()=>Ht(L)})},L.id))})]}),_.jsxs("section",{children:[_.jsxs("div",{className:"flex items-end justify-between mb-6 px-2 border-b border-gray-200 pb-2",children:[_.jsx("h2",{className:"text-xl font-bold text-gray-900 tracking-tight",children:"Your Suitcase"}),_.jsxs("span",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest bg-white px-2 py-1 rounded-md border border-gray-100",children:[d.length," Items"]})]}),d.length===0?_.jsxs("div",{className:"flex flex-col items-center justify-center py-20 rounded-3xl transition-all cursor-pointer group bg-white border border-gray-100 hover:border-blue-200 hover:shadow-lg",onClick:()=>{var L;return(L=se.current)==null?void 0:L.click()},children:[_.jsx("div",{className:"relative mb-4",children:_.jsx("div",{className:"animate-float relative bg-blue-50 w-20 h-20 rounded-full flex items-center justify-center group-hover:scale-110 transition-transform duration-500",children:_.jsx(Mg,{className:"text-blue-600 w-8 h-8"})})}),_.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-1",children:"It's empty here"}),_.jsx("p",{className:"text-gray-500 text-sm mb-4",children:"Upload a PDF to start reading."}),_.jsx("button",{className:"bg-black text-white px-6 py-2 rounded-full text-sm font-bold",children:"Import Book"})]}):_.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-x-6 gap-y-10",children:[_.jsxs("button",{onClick:()=>{var L;return(L=se.current)==null?void 0:L.click()},className:"aspect-[2/3] rounded-2xl bg-gray-100 border-2 border-dashed border-gray-300 hover:border-blue-400 hover:bg-blue-50 transition-all group flex flex-col items-center justify-center gap-3",children:[_.jsx("div",{className:"w-12 h-12 bg-white rounded-full shadow-sm flex items-center justify-center text-gray-400 group-hover:text-blue-500 transition-colors",children:_.jsx($C,{size:24})}),_.jsx("span",{className:"text-xs font-bold text-gray-400 group-hover:text-blue-600 uppercase tracking-wide",children:"Add Book"})]}),d.map(L=>_.jsx(Ka,{book:L,onClick:()=>Cn(L),onRead:()=>Ht(L)},L.id))]})]})]})]}),i!=="reader"&&_.jsx("div",{className:"fixed bottom-8 left-1/2 -translate-x-1/2 z-40 animate-in slide-in-from-bottom-24 duration-1000 ease-out",children:_.jsxs("div",{className:"glass-panel flex items-center gap-2 p-2 px-4 rounded-full shadow-[0_25px_60px_-15px_rgba(0,0,0,0.15)] ring-1 ring-white/60 bg-white/80 backdrop-blur-xl",children:[_.jsx(un,{icon:UC,label:"Library",isActive:i==="library"&&ye==="library",onClick:()=>{s("library"),Se("library")}}),_.jsx(un,{icon:Lt,label:"Concierge",isActive:i==="library"&&ye==="mood",onClick:()=>{s("library"),Se("mood")}}),_.jsx(un,{icon:gd,label:"Search",isActive:i==="library"&&ye==="search",onClick:()=>{s("library"),Se("search")}}),_.jsx(un,{icon:rv,label:"Profile",isActive:i==="profile",onClick:()=>{s("profile")}})]})}),i==="details"&&a&&_.jsx(BR,{book:a,onClose:ti,onRead:()=>Ht(a)}),i==="reader"&&a&&_.jsx("div",{className:"fixed inset-0 z-50",children:_.jsx(qR,{book:a,onClose:ti,onReward:Wt,onUpdateBookData:Hi})})]})}const _T=document.getElementById("root");if(!_T)throw new Error("Could not find root element to mount to");const NL=QE.createRoot(_T);NL.render(_.jsx(BE.StrictMode,{children:_.jsx(wL,{})}));
