(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerPolicy&&(u.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?u.credentials="include":a.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(a){if(a.ep)return;a.ep=!0;const u=i(a);fetch(a.href,u)}})();function Q0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Yc={exports:{}},ur={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pg;function PS(){if(pg)return ur;pg=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,a,u){var d=null;if(u!==void 0&&(d=""+u),a.key!==void 0&&(d=""+a.key),"key"in a){u={};for(var p in a)p!=="key"&&(u[p]=a[p])}else u=a;return a=u.ref,{$$typeof:t,type:s,key:d,ref:a!==void 0?a:null,props:u}}return ur.Fragment=e,ur.jsx=i,ur.jsxs=i,ur}var mg;function OS(){return mg||(mg=1,Yc.exports=PS()),Yc.exports}var _=OS(),Jc={exports:{}},he={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gg;function HS(){if(gg)return he;gg=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),S=Symbol.iterator;function x(w){return w===null||typeof w!="object"?null:(w=S&&w[S]||w["@@iterator"],typeof w=="function"?w:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,U={};function L(w,V,X){this.props=w,this.context=V,this.refs=U,this.updater=X||N}L.prototype.isReactComponent={},L.prototype.setState=function(w,V){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,V,"setState")},L.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function q(){}q.prototype=L.prototype;function F(w,V,X){this.props=w,this.context=V,this.refs=U,this.updater=X||N}var $=F.prototype=new q;$.constructor=F,k($,L.prototype),$.isPureReactComponent=!0;var Y=Array.isArray;function te(){}var K={H:null,A:null,T:null,S:null},de=Object.prototype.hasOwnProperty;function Z(w,V,X){var j=X.ref;return{$$typeof:t,type:w,key:V,ref:j!==void 0?j:null,props:X}}function fe(w,V){return Z(w.type,V,w.props)}function me(w){return typeof w=="object"&&w!==null&&w.$$typeof===t}function ge(w){var V={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(X){return V[X]})}var Te=/\/+/g;function Fe(w,V){return typeof w=="object"&&w!==null&&w.key!=null?ge(""+w.key):V.toString(36)}function Je(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(te,te):(w.status="pending",w.then(function(V){w.status==="pending"&&(w.status="fulfilled",w.value=V)},function(V){w.status==="pending"&&(w.status="rejected",w.reason=V)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function H(w,V,X,j,ue){var ye=typeof w;(ye==="undefined"||ye==="boolean")&&(w=null);var we=!1;if(w===null)we=!0;else switch(ye){case"bigint":case"string":case"number":we=!0;break;case"object":switch(w.$$typeof){case t:case e:we=!0;break;case v:return we=w._init,H(we(w._payload),V,X,j,ue)}}if(we)return ue=ue(w),we=j===""?"."+Fe(w,0):j,Y(ue)?(X="",we!=null&&(X=we.replace(Te,"$&/")+"/"),H(ue,V,X,"",function(vn){return vn})):ue!=null&&(me(ue)&&(ue=fe(ue,X+(ue.key==null||w&&w.key===ue.key?"":(""+ue.key).replace(Te,"$&/")+"/")+we)),V.push(ue)),1;we=0;var We=j===""?".":j+":";if(Y(w))for(var Ve=0;Ve<w.length;Ve++)j=w[Ve],ye=We+Fe(j,Ve),we+=H(j,V,X,ye,ue);else if(Ve=x(w),typeof Ve=="function")for(w=Ve.call(w),Ve=0;!(j=w.next()).done;)j=j.value,ye=We+Fe(j,Ve++),we+=H(j,V,X,ye,ue);else if(ye==="object"){if(typeof w.then=="function")return H(Je(w),V,X,j,ue);throw V=String(w),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return we}function J(w,V,X){if(w==null)return w;var j=[],ue=0;return H(w,j,"","",function(ye){return V.call(X,ye,ue++)}),j}function se(w){if(w._status===-1){var V=w._result;V=V(),V.then(function(X){(w._status===0||w._status===-1)&&(w._status=1,w._result=X)},function(X){(w._status===0||w._status===-1)&&(w._status=2,w._result=X)}),w._status===-1&&(w._status=0,w._result=V)}if(w._status===1)return w._result.default;throw w._result}var Ae=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)},Ne={map:J,forEach:function(w,V,X){J(w,function(){V.apply(this,arguments)},X)},count:function(w){var V=0;return J(w,function(){V++}),V},toArray:function(w){return J(w,function(V){return V})||[]},only:function(w){if(!me(w))throw Error("React.Children.only expected to receive a single React element child.");return w}};return he.Activity=E,he.Children=Ne,he.Component=L,he.Fragment=i,he.Profiler=a,he.PureComponent=F,he.StrictMode=s,he.Suspense=y,he.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=K,he.__COMPILER_RUNTIME={__proto__:null,c:function(w){return K.H.useMemoCache(w)}},he.cache=function(w){return function(){return w.apply(null,arguments)}},he.cacheSignal=function(){return null},he.cloneElement=function(w,V,X){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var j=k({},w.props),ue=w.key;if(V!=null)for(ye in V.key!==void 0&&(ue=""+V.key),V)!de.call(V,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&V.ref===void 0||(j[ye]=V[ye]);var ye=arguments.length-2;if(ye===1)j.children=X;else if(1<ye){for(var we=Array(ye),We=0;We<ye;We++)we[We]=arguments[We+2];j.children=we}return Z(w.type,ue,j)},he.createContext=function(w){return w={$$typeof:d,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:u,_context:w},w},he.createElement=function(w,V,X){var j,ue={},ye=null;if(V!=null)for(j in V.key!==void 0&&(ye=""+V.key),V)de.call(V,j)&&j!=="key"&&j!=="__self"&&j!=="__source"&&(ue[j]=V[j]);var we=arguments.length-2;if(we===1)ue.children=X;else if(1<we){for(var We=Array(we),Ve=0;Ve<we;Ve++)We[Ve]=arguments[Ve+2];ue.children=We}if(w&&w.defaultProps)for(j in we=w.defaultProps,we)ue[j]===void 0&&(ue[j]=we[j]);return Z(w,ye,ue)},he.createRef=function(){return{current:null}},he.forwardRef=function(w){return{$$typeof:p,render:w}},he.isValidElement=me,he.lazy=function(w){return{$$typeof:v,_payload:{_status:-1,_result:w},_init:se}},he.memo=function(w,V){return{$$typeof:m,type:w,compare:V===void 0?null:V}},he.startTransition=function(w){var V=K.T,X={};K.T=X;try{var j=w(),ue=K.S;ue!==null&&ue(X,j),typeof j=="object"&&j!==null&&typeof j.then=="function"&&j.then(te,Ae)}catch(ye){Ae(ye)}finally{V!==null&&X.types!==null&&(V.types=X.types),K.T=V}},he.unstable_useCacheRefresh=function(){return K.H.useCacheRefresh()},he.use=function(w){return K.H.use(w)},he.useActionState=function(w,V,X){return K.H.useActionState(w,V,X)},he.useCallback=function(w,V){return K.H.useCallback(w,V)},he.useContext=function(w){return K.H.useContext(w)},he.useDebugValue=function(){},he.useDeferredValue=function(w,V){return K.H.useDeferredValue(w,V)},he.useEffect=function(w,V){return K.H.useEffect(w,V)},he.useEffectEvent=function(w){return K.H.useEffectEvent(w)},he.useId=function(){return K.H.useId()},he.useImperativeHandle=function(w,V,X){return K.H.useImperativeHandle(w,V,X)},he.useInsertionEffect=function(w,V){return K.H.useInsertionEffect(w,V)},he.useLayoutEffect=function(w,V){return K.H.useLayoutEffect(w,V)},he.useMemo=function(w,V){return K.H.useMemo(w,V)},he.useOptimistic=function(w,V){return K.H.useOptimistic(w,V)},he.useReducer=function(w,V,X){return K.H.useReducer(w,V,X)},he.useRef=function(w){return K.H.useRef(w)},he.useState=function(w){return K.H.useState(w)},he.useSyncExternalStore=function(w,V,X){return K.H.useSyncExternalStore(w,V,X)},he.useTransition=function(){return K.H.useTransition()},he.version="19.2.4",he}var yg;function zd(){return yg||(yg=1,Jc.exports=HS()),Jc.exports}var Q=zd();const GS=Q0(Q);var $c={exports:{}},cr={},Kc={exports:{}},Xc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vg;function zS(){return vg||(vg=1,(function(t){function e(H,J){var se=H.length;H.push(J);e:for(;0<se;){var Ae=se-1>>>1,Ne=H[Ae];if(0<a(Ne,J))H[Ae]=J,H[se]=Ne,se=Ae;else break e}}function i(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var J=H[0],se=H.pop();if(se!==J){H[0]=se;e:for(var Ae=0,Ne=H.length,w=Ne>>>1;Ae<w;){var V=2*(Ae+1)-1,X=H[V],j=V+1,ue=H[j];if(0>a(X,se))j<Ne&&0>a(ue,X)?(H[Ae]=ue,H[j]=se,Ae=j):(H[Ae]=X,H[V]=se,Ae=V);else if(j<Ne&&0>a(ue,se))H[Ae]=ue,H[j]=se,Ae=j;else break e}}return J}function a(H,J){var se=H.sortIndex-J.sortIndex;return se!==0?se:H.id-J.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;t.unstable_now=function(){return u.now()}}else{var d=Date,p=d.now();t.unstable_now=function(){return d.now()-p}}var y=[],m=[],v=1,E=null,S=3,x=!1,N=!1,k=!1,U=!1,L=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function $(H){for(var J=i(m);J!==null;){if(J.callback===null)s(m);else if(J.startTime<=H)s(m),J.sortIndex=J.expirationTime,e(y,J);else break;J=i(m)}}function Y(H){if(k=!1,$(H),!N)if(i(y)!==null)N=!0,te||(te=!0,ge());else{var J=i(m);J!==null&&Je(Y,J.startTime-H)}}var te=!1,K=-1,de=5,Z=-1;function fe(){return U?!0:!(t.unstable_now()-Z<de)}function me(){if(U=!1,te){var H=t.unstable_now();Z=H;var J=!0;try{e:{N=!1,k&&(k=!1,q(K),K=-1),x=!0;var se=S;try{t:{for($(H),E=i(y);E!==null&&!(E.expirationTime>H&&fe());){var Ae=E.callback;if(typeof Ae=="function"){E.callback=null,S=E.priorityLevel;var Ne=Ae(E.expirationTime<=H);if(H=t.unstable_now(),typeof Ne=="function"){E.callback=Ne,$(H),J=!0;break t}E===i(y)&&s(y),$(H)}else s(y);E=i(y)}if(E!==null)J=!0;else{var w=i(m);w!==null&&Je(Y,w.startTime-H),J=!1}}break e}finally{E=null,S=se,x=!1}J=void 0}}finally{J?ge():te=!1}}}var ge;if(typeof F=="function")ge=function(){F(me)};else if(typeof MessageChannel<"u"){var Te=new MessageChannel,Fe=Te.port2;Te.port1.onmessage=me,ge=function(){Fe.postMessage(null)}}else ge=function(){L(me,0)};function Je(H,J){K=L(function(){H(t.unstable_now())},J)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):de=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return S},t.unstable_next=function(H){switch(S){case 1:case 2:case 3:var J=3;break;default:J=S}var se=S;S=J;try{return H()}finally{S=se}},t.unstable_requestPaint=function(){U=!0},t.unstable_runWithPriority=function(H,J){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var se=S;S=H;try{return J()}finally{S=se}},t.unstable_scheduleCallback=function(H,J,se){var Ae=t.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?Ae+se:Ae):se=Ae,H){case 1:var Ne=-1;break;case 2:Ne=250;break;case 5:Ne=1073741823;break;case 4:Ne=1e4;break;default:Ne=5e3}return Ne=se+Ne,H={id:v++,callback:J,priorityLevel:H,startTime:se,expirationTime:Ne,sortIndex:-1},se>Ae?(H.sortIndex=se,e(m,H),i(y)===null&&H===i(m)&&(k?(q(K),K=-1):k=!0,Je(Y,se-Ae))):(H.sortIndex=Ne,e(y,H),N||x||(N=!0,te||(te=!0,ge()))),H},t.unstable_shouldYield=fe,t.unstable_wrapCallback=function(H){var J=S;return function(){var se=S;S=J;try{return H.apply(this,arguments)}finally{S=se}}}})(Xc)),Xc}var _g;function VS(){return _g||(_g=1,Kc.exports=zS()),Kc.exports}var Qc={exports:{}},dt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tg;function BS(){if(Tg)return dt;Tg=1;var t=zd();function e(y){var m="https://react.dev/errors/"+y;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)m+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},a=Symbol.for("react.portal");function u(y,m,v){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:E==null?null:""+E,children:y,containerInfo:m,implementation:v}}var d=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,m){if(y==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return dt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,dt.createPortal=function(y,m){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return u(y,m,null,v)},dt.flushSync=function(y){var m=d.T,v=s.p;try{if(d.T=null,s.p=2,y)return y()}finally{d.T=m,s.p=v,s.d.f()}},dt.preconnect=function(y,m){typeof y=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,s.d.C(y,m))},dt.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},dt.preinit=function(y,m){if(typeof y=="string"&&m&&typeof m.as=="string"){var v=m.as,E=p(v,m.crossOrigin),S=typeof m.integrity=="string"?m.integrity:void 0,x=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;v==="style"?s.d.S(y,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:E,integrity:S,fetchPriority:x}):v==="script"&&s.d.X(y,{crossOrigin:E,integrity:S,fetchPriority:x,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},dt.preinitModule=function(y,m){if(typeof y=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var v=p(m.as,m.crossOrigin);s.d.M(y,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&s.d.M(y)},dt.preload=function(y,m){if(typeof y=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var v=m.as,E=p(v,m.crossOrigin);s.d.L(y,v,{crossOrigin:E,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},dt.preloadModule=function(y,m){if(typeof y=="string")if(m){var v=p(m.as,m.crossOrigin);s.d.m(y,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else s.d.m(y)},dt.requestFormReset=function(y){s.d.r(y)},dt.unstable_batchedUpdates=function(y,m){return y(m)},dt.useFormState=function(y,m,v){return d.H.useFormState(y,m,v)},dt.useFormStatus=function(){return d.H.useHostTransitionStatus()},dt.version="19.2.4",dt}var Eg;function qS(){if(Eg)return Qc.exports;Eg=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Qc.exports=BS(),Qc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sg;function FS(){if(Sg)return cr;Sg=1;var t=VS(),e=zd(),i=qS();function s(n){var o="https://react.dev/errors/"+n;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)o+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+n+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var o=n,r=n;if(n.alternate)for(;o.return;)o=o.return;else{n=o;do o=n,(o.flags&4098)!==0&&(r=o.return),n=o.return;while(n)}return o.tag===3?r:null}function d(n){if(n.tag===13){var o=n.memoizedState;if(o===null&&(n=n.alternate,n!==null&&(o=n.memoizedState)),o!==null)return o.dehydrated}return null}function p(n){if(n.tag===31){var o=n.memoizedState;if(o===null&&(n=n.alternate,n!==null&&(o=n.memoizedState)),o!==null)return o.dehydrated}return null}function y(n){if(u(n)!==n)throw Error(s(188))}function m(n){var o=n.alternate;if(!o){if(o=u(n),o===null)throw Error(s(188));return o!==n?null:n}for(var r=n,l=o;;){var h=r.return;if(h===null)break;var g=h.alternate;if(g===null){if(l=h.return,l!==null){r=l;continue}break}if(h.child===g.child){for(g=h.child;g;){if(g===r)return y(h),n;if(g===l)return y(h),o;g=g.sibling}throw Error(s(188))}if(r.return!==l.return)r=h,l=g;else{for(var T=!1,C=h.child;C;){if(C===r){T=!0,r=h,l=g;break}if(C===l){T=!0,l=h,r=g;break}C=C.sibling}if(!T){for(C=g.child;C;){if(C===r){T=!0,r=g,l=h;break}if(C===l){T=!0,l=g,r=h;break}C=C.sibling}if(!T)throw Error(s(189))}}if(r.alternate!==l)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?n:o}function v(n){var o=n.tag;if(o===5||o===26||o===27||o===6)return n;for(n=n.child;n!==null;){if(o=v(n),o!==null)return o;n=n.sibling}return null}var E=Object.assign,S=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),q=Symbol.for("react.consumer"),F=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),te=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),de=Symbol.for("react.lazy"),Z=Symbol.for("react.activity"),fe=Symbol.for("react.memo_cache_sentinel"),me=Symbol.iterator;function ge(n){return n===null||typeof n!="object"?null:(n=me&&n[me]||n["@@iterator"],typeof n=="function"?n:null)}var Te=Symbol.for("react.client.reference");function Fe(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===Te?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case k:return"Fragment";case L:return"Profiler";case U:return"StrictMode";case Y:return"Suspense";case te:return"SuspenseList";case Z:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case N:return"Portal";case F:return n.displayName||"Context";case q:return(n._context.displayName||"Context")+".Consumer";case $:var o=n.render;return n=n.displayName,n||(n=o.displayName||o.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case K:return o=n.displayName||null,o!==null?o:Fe(n.type)||"Memo";case de:o=n._payload,n=n._init;try{return Fe(n(o))}catch{}}return null}var Je=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se={pending:!1,data:null,method:null,action:null},Ae=[],Ne=-1;function w(n){return{current:n}}function V(n){0>Ne||(n.current=Ae[Ne],Ae[Ne]=null,Ne--)}function X(n,o){Ne++,Ae[Ne]=n.current,n.current=o}var j=w(null),ue=w(null),ye=w(null),we=w(null);function We(n,o){switch(X(ye,o),X(ue,n),X(j,null),o.nodeType){case 9:case 11:n=(n=o.documentElement)&&(n=n.namespaceURI)?Om(n):0;break;default:if(n=o.tagName,o=o.namespaceURI)o=Om(o),n=Hm(o,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}V(j),X(j,n)}function Ve(){V(j),V(ue),V(ye)}function vn(n){n.memoizedState!==null&&X(we,n);var o=j.current,r=Hm(o,n.type);o!==r&&(X(ue,n),X(j,r))}function Qn(n){ue.current===n&&(V(j),V(ue)),we.current===n&&(V(we),sr._currentValue=se)}var ki,po;function Wt(n){if(ki===void 0)try{throw Error()}catch(r){var o=r.stack.trim().match(/\n( *(at )?)/);ki=o&&o[1]||"",po=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ki+n+po}var Li=!1;function Pi(n,o){if(!n||Li)return"";Li=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(o){var B=function(){throw Error()};if(Object.defineProperty(B.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(B,[])}catch(O){var D=O}Reflect.construct(n,[],B)}else{try{B.call()}catch(O){D=O}n.call(B.prototype)}}else{try{throw Error()}catch(O){D=O}(B=n())&&typeof B.catch=="function"&&B.catch(function(){})}}catch(O){if(O&&D&&typeof O.stack=="string")return[O.stack,D.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=l.DetermineComponentFrameRoot(),T=g[0],C=g[1];if(T&&C){var A=T.split(`
`),M=C.split(`
`);for(h=l=0;l<A.length&&!A[l].includes("DetermineComponentFrameRoot");)l++;for(;h<M.length&&!M[h].includes("DetermineComponentFrameRoot");)h++;if(l===A.length||h===M.length)for(l=A.length-1,h=M.length-1;1<=l&&0<=h&&A[l]!==M[h];)h--;for(;1<=l&&0<=h;l--,h--)if(A[l]!==M[h]){if(l!==1||h!==1)do if(l--,h--,0>h||A[l]!==M[h]){var G=`
`+A[l].replace(" at new "," at ");return n.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",n.displayName)),G}while(1<=l&&0<=h);break}}}finally{Li=!1,Error.prepareStackTrace=r}return(r=n?n.displayName||n.name:"")?Wt(r):""}function gs(n,o){switch(n.tag){case 26:case 27:case 5:return Wt(n.type);case 16:return Wt("Lazy");case 13:return n.child!==o&&o!==null?Wt("Suspense Fallback"):Wt("Suspense");case 19:return Wt("SuspenseList");case 0:case 15:return Pi(n.type,!1);case 11:return Pi(n.type.render,!1);case 1:return Pi(n.type,!0);case 31:return Wt("Activity");default:return""}}function _n(n){try{var o="",r=null;do o+=gs(n,r),r=n,n=n.return;while(n);return o}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Ht=Object.prototype.hasOwnProperty,Wn=t.unstable_scheduleCallback,ln=t.unstable_cancelCallback,P=t.unstable_shouldYield,oe=t.unstable_requestPaint,ee=t.unstable_now,Ue=t.unstable_getCurrentPriorityLevel,ht=t.unstable_ImmediatePriority,Nr=t.unstable_UserBlockingPriority,Ir=t.unstable_NormalPriority,yT=t.unstable_LowPriority,yf=t.unstable_IdlePriority,vT=t.log,_T=t.unstable_setDisableYieldValue,ys=null,bt=null;function Zn(n){if(typeof vT=="function"&&_T(n),bt&&typeof bt.setStrictMode=="function")try{bt.setStrictMode(ys,n)}catch{}}var wt=Math.clz32?Math.clz32:ST,TT=Math.log,ET=Math.LN2;function ST(n){return n>>>=0,n===0?32:31-(TT(n)/ET|0)|0}var Rr=256,Mr=262144,Dr=4194304;function Oi(n){var o=n&42;if(o!==0)return o;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Ur(n,o,r){var l=n.pendingLanes;if(l===0)return 0;var h=0,g=n.suspendedLanes,T=n.pingedLanes;n=n.warmLanes;var C=l&134217727;return C!==0?(l=C&~g,l!==0?h=Oi(l):(T&=C,T!==0?h=Oi(T):r||(r=C&~n,r!==0&&(h=Oi(r))))):(C=l&~g,C!==0?h=Oi(C):T!==0?h=Oi(T):r||(r=l&~n,r!==0&&(h=Oi(r)))),h===0?0:o!==0&&o!==h&&(o&g)===0&&(g=h&-h,r=o&-o,g>=r||g===32&&(r&4194048)!==0)?o:h}function vs(n,o){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&o)===0}function CT(n,o){switch(n){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vf(){var n=Dr;return Dr<<=1,(Dr&62914560)===0&&(Dr=4194304),n}function Ul(n){for(var o=[],r=0;31>r;r++)o.push(n);return o}function _s(n,o){n.pendingLanes|=o,o!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function xT(n,o,r,l,h,g){var T=n.pendingLanes;n.pendingLanes=r,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=r,n.entangledLanes&=r,n.errorRecoveryDisabledLanes&=r,n.shellSuspendCounter=0;var C=n.entanglements,A=n.expirationTimes,M=n.hiddenUpdates;for(r=T&~r;0<r;){var G=31-wt(r),B=1<<G;C[G]=0,A[G]=-1;var D=M[G];if(D!==null)for(M[G]=null,G=0;G<D.length;G++){var O=D[G];O!==null&&(O.lane&=-536870913)}r&=~B}l!==0&&_f(n,l,0),g!==0&&h===0&&n.tag!==0&&(n.suspendedLanes|=g&~(T&~o))}function _f(n,o,r){n.pendingLanes|=o,n.suspendedLanes&=~o;var l=31-wt(o);n.entangledLanes|=o,n.entanglements[l]=n.entanglements[l]|1073741824|r&261930}function Tf(n,o){var r=n.entangledLanes|=o;for(n=n.entanglements;r;){var l=31-wt(r),h=1<<l;h&o|n[l]&o&&(n[l]|=o),r&=~h}}function Ef(n,o){var r=o&-o;return r=(r&42)!==0?1:kl(r),(r&(n.suspendedLanes|o))!==0?0:r}function kl(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Ll(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Sf(){var n=J.p;return n!==0?n:(n=window.event,n===void 0?32:ag(n.type))}function Cf(n,o){var r=J.p;try{return J.p=n,o()}finally{J.p=r}}var jn=Math.random().toString(36).slice(2),rt="__reactFiber$"+jn,_t="__reactProps$"+jn,mo="__reactContainer$"+jn,Pl="__reactEvents$"+jn,AT="__reactListeners$"+jn,bT="__reactHandles$"+jn,xf="__reactResources$"+jn,Ts="__reactMarker$"+jn;function Ol(n){delete n[rt],delete n[_t],delete n[Pl],delete n[AT],delete n[bT]}function go(n){var o=n[rt];if(o)return o;for(var r=n.parentNode;r;){if(o=r[mo]||r[rt]){if(r=o.alternate,o.child!==null||r!==null&&r.child!==null)for(n=Ym(n);n!==null;){if(r=n[rt])return r;n=Ym(n)}return o}n=r,r=n.parentNode}return null}function yo(n){if(n=n[rt]||n[mo]){var o=n.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return n}return null}function Es(n){var o=n.tag;if(o===5||o===26||o===27||o===6)return n.stateNode;throw Error(s(33))}function vo(n){var o=n[xf];return o||(o=n[xf]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function it(n){n[Ts]=!0}var Af=new Set,bf={};function Hi(n,o){_o(n,o),_o(n+"Capture",o)}function _o(n,o){for(bf[n]=o,n=0;n<o.length;n++)Af.add(o[n])}var wT=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wf={},Nf={};function NT(n){return Ht.call(Nf,n)?!0:Ht.call(wf,n)?!1:wT.test(n)?Nf[n]=!0:(wf[n]=!0,!1)}function kr(n,o,r){if(NT(o))if(r===null)n.removeAttribute(o);else{switch(typeof r){case"undefined":case"function":case"symbol":n.removeAttribute(o);return;case"boolean":var l=o.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(o);return}}n.setAttribute(o,""+r)}}function Lr(n,o,r){if(r===null)n.removeAttribute(o);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttribute(o,""+r)}}function Tn(n,o,r,l){if(l===null)n.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttributeNS(o,r,""+l)}}function Gt(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function If(n){var o=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function IT(n,o,r){var l=Object.getOwnPropertyDescriptor(n.constructor.prototype,o);if(!n.hasOwnProperty(o)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,g=l.set;return Object.defineProperty(n,o,{configurable:!0,get:function(){return h.call(this)},set:function(T){r=""+T,g.call(this,T)}}),Object.defineProperty(n,o,{enumerable:l.enumerable}),{getValue:function(){return r},setValue:function(T){r=""+T},stopTracking:function(){n._valueTracker=null,delete n[o]}}}}function Hl(n){if(!n._valueTracker){var o=If(n)?"checked":"value";n._valueTracker=IT(n,o,""+n[o])}}function Rf(n){if(!n)return!1;var o=n._valueTracker;if(!o)return!0;var r=o.getValue(),l="";return n&&(l=If(n)?n.checked?"true":"false":n.value),n=l,n!==r?(o.setValue(n),!0):!1}function Pr(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var RT=/[\n"\\]/g;function zt(n){return n.replace(RT,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Gl(n,o,r,l,h,g,T,C){n.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.type=T:n.removeAttribute("type"),o!=null?T==="number"?(o===0&&n.value===""||n.value!=o)&&(n.value=""+Gt(o)):n.value!==""+Gt(o)&&(n.value=""+Gt(o)):T!=="submit"&&T!=="reset"||n.removeAttribute("value"),o!=null?zl(n,T,Gt(o)):r!=null?zl(n,T,Gt(r)):l!=null&&n.removeAttribute("value"),h==null&&g!=null&&(n.defaultChecked=!!g),h!=null&&(n.checked=h&&typeof h!="function"&&typeof h!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?n.name=""+Gt(C):n.removeAttribute("name")}function Mf(n,o,r,l,h,g,T,C){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(n.type=g),o!=null||r!=null){if(!(g!=="submit"&&g!=="reset"||o!=null)){Hl(n);return}r=r!=null?""+Gt(r):"",o=o!=null?""+Gt(o):r,C||o===n.value||(n.value=o),n.defaultValue=o}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=C?n.checked:!!l,n.defaultChecked=!!l,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(n.name=T),Hl(n)}function zl(n,o,r){o==="number"&&Pr(n.ownerDocument)===n||n.defaultValue===""+r||(n.defaultValue=""+r)}function To(n,o,r,l){if(n=n.options,o){o={};for(var h=0;h<r.length;h++)o["$"+r[h]]=!0;for(r=0;r<n.length;r++)h=o.hasOwnProperty("$"+n[r].value),n[r].selected!==h&&(n[r].selected=h),h&&l&&(n[r].defaultSelected=!0)}else{for(r=""+Gt(r),o=null,h=0;h<n.length;h++){if(n[h].value===r){n[h].selected=!0,l&&(n[h].defaultSelected=!0);return}o!==null||n[h].disabled||(o=n[h])}o!==null&&(o.selected=!0)}}function Df(n,o,r){if(o!=null&&(o=""+Gt(o),o!==n.value&&(n.value=o),r==null)){n.defaultValue!==o&&(n.defaultValue=o);return}n.defaultValue=r!=null?""+Gt(r):""}function Uf(n,o,r,l){if(o==null){if(l!=null){if(r!=null)throw Error(s(92));if(Je(l)){if(1<l.length)throw Error(s(93));l=l[0]}r=l}r==null&&(r=""),o=r}r=Gt(o),n.defaultValue=r,l=n.textContent,l===r&&l!==""&&l!==null&&(n.value=l),Hl(n)}function Eo(n,o){if(o){var r=n.firstChild;if(r&&r===n.lastChild&&r.nodeType===3){r.nodeValue=o;return}}n.textContent=o}var MT=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function kf(n,o,r){var l=o.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?n.setProperty(o,""):o==="float"?n.cssFloat="":n[o]="":l?n.setProperty(o,r):typeof r!="number"||r===0||MT.has(o)?o==="float"?n.cssFloat=r:n[o]=(""+r).trim():n[o]=r+"px"}function Lf(n,o,r){if(o!=null&&typeof o!="object")throw Error(s(62));if(n=n.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||o!=null&&o.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var h in o)l=o[h],o.hasOwnProperty(h)&&r[h]!==l&&kf(n,h,l)}else for(var g in o)o.hasOwnProperty(g)&&kf(n,g,o[g])}function Vl(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var DT=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),UT=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Or(n){return UT.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function En(){}var Bl=null;function ql(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var So=null,Co=null;function Pf(n){var o=yo(n);if(o&&(n=o.stateNode)){var r=n[_t]||null;e:switch(n=o.stateNode,o.type){case"input":if(Gl(n,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),o=r.name,r.type==="radio"&&o!=null){for(r=n;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+zt(""+o)+'"][type="radio"]'),o=0;o<r.length;o++){var l=r[o];if(l!==n&&l.form===n.form){var h=l[_t]||null;if(!h)throw Error(s(90));Gl(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(o=0;o<r.length;o++)l=r[o],l.form===n.form&&Rf(l)}break e;case"textarea":Df(n,r.value,r.defaultValue);break e;case"select":o=r.value,o!=null&&To(n,!!r.multiple,o,!1)}}}var Fl=!1;function Of(n,o,r){if(Fl)return n(o,r);Fl=!0;try{var l=n(o);return l}finally{if(Fl=!1,(So!==null||Co!==null)&&(xa(),So&&(o=So,n=Co,Co=So=null,Pf(o),n)))for(o=0;o<n.length;o++)Pf(n[o])}}function Ss(n,o){var r=n.stateNode;if(r===null)return null;var l=r[_t]||null;if(l===null)return null;r=l[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(r&&typeof r!="function")throw Error(s(231,o,typeof r));return r}var Sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yl=!1;if(Sn)try{var Cs={};Object.defineProperty(Cs,"passive",{get:function(){Yl=!0}}),window.addEventListener("test",Cs,Cs),window.removeEventListener("test",Cs,Cs)}catch{Yl=!1}var ei=null,Jl=null,Hr=null;function Hf(){if(Hr)return Hr;var n,o=Jl,r=o.length,l,h="value"in ei?ei.value:ei.textContent,g=h.length;for(n=0;n<r&&o[n]===h[n];n++);var T=r-n;for(l=1;l<=T&&o[r-l]===h[g-l];l++);return Hr=h.slice(n,1<l?1-l:void 0)}function Gr(n){var o=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&o===13&&(n=13)):n=o,n===10&&(n=13),32<=n||n===13?n:0}function zr(){return!0}function Gf(){return!1}function Tt(n){function o(r,l,h,g,T){this._reactName=r,this._targetInst=h,this.type=l,this.nativeEvent=g,this.target=T,this.currentTarget=null;for(var C in n)n.hasOwnProperty(C)&&(r=n[C],this[C]=r?r(g):g[C]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?zr:Gf,this.isPropagationStopped=Gf,this}return E(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=zr)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=zr)},persist:function(){},isPersistent:zr}),o}var Gi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vr=Tt(Gi),xs=E({},Gi,{view:0,detail:0}),kT=Tt(xs),$l,Kl,As,Br=E({},xs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ql,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==As&&(As&&n.type==="mousemove"?($l=n.screenX-As.screenX,Kl=n.screenY-As.screenY):Kl=$l=0,As=n),$l)},movementY:function(n){return"movementY"in n?n.movementY:Kl}}),zf=Tt(Br),LT=E({},Br,{dataTransfer:0}),PT=Tt(LT),OT=E({},xs,{relatedTarget:0}),Xl=Tt(OT),HT=E({},Gi,{animationName:0,elapsedTime:0,pseudoElement:0}),GT=Tt(HT),zT=E({},Gi,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),VT=Tt(zT),BT=E({},Gi,{data:0}),Vf=Tt(BT),qT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},FT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},YT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function JT(n){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(n):(n=YT[n])?!!o[n]:!1}function Ql(){return JT}var $T=E({},xs,{key:function(n){if(n.key){var o=qT[n.key]||n.key;if(o!=="Unidentified")return o}return n.type==="keypress"?(n=Gr(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?FT[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ql,charCode:function(n){return n.type==="keypress"?Gr(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Gr(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),KT=Tt($T),XT=E({},Br,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bf=Tt(XT),QT=E({},xs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ql}),WT=Tt(QT),ZT=E({},Gi,{propertyName:0,elapsedTime:0,pseudoElement:0}),jT=Tt(ZT),eE=E({},Br,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),tE=Tt(eE),nE=E({},Gi,{newState:0,oldState:0}),iE=Tt(nE),oE=[9,13,27,32],Wl=Sn&&"CompositionEvent"in window,bs=null;Sn&&"documentMode"in document&&(bs=document.documentMode);var sE=Sn&&"TextEvent"in window&&!bs,qf=Sn&&(!Wl||bs&&8<bs&&11>=bs),Ff=" ",Yf=!1;function Jf(n,o){switch(n){case"keyup":return oE.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $f(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var xo=!1;function rE(n,o){switch(n){case"compositionend":return $f(o);case"keypress":return o.which!==32?null:(Yf=!0,Ff);case"textInput":return n=o.data,n===Ff&&Yf?null:n;default:return null}}function aE(n,o){if(xo)return n==="compositionend"||!Wl&&Jf(n,o)?(n=Hf(),Hr=Jl=ei=null,xo=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return qf&&o.locale!=="ko"?null:o.data;default:return null}}var lE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kf(n){var o=n&&n.nodeName&&n.nodeName.toLowerCase();return o==="input"?!!lE[n.type]:o==="textarea"}function Xf(n,o,r,l){So?Co?Co.push(l):Co=[l]:So=l,o=Ma(o,"onChange"),0<o.length&&(r=new Vr("onChange","change",null,r,l),n.push({event:r,listeners:o}))}var ws=null,Ns=null;function uE(n){Mm(n,0)}function qr(n){var o=Es(n);if(Rf(o))return n}function Qf(n,o){if(n==="change")return o}var Wf=!1;if(Sn){var Zl;if(Sn){var jl="oninput"in document;if(!jl){var Zf=document.createElement("div");Zf.setAttribute("oninput","return;"),jl=typeof Zf.oninput=="function"}Zl=jl}else Zl=!1;Wf=Zl&&(!document.documentMode||9<document.documentMode)}function jf(){ws&&(ws.detachEvent("onpropertychange",eh),Ns=ws=null)}function eh(n){if(n.propertyName==="value"&&qr(Ns)){var o=[];Xf(o,Ns,n,ql(n)),Of(uE,o)}}function cE(n,o,r){n==="focusin"?(jf(),ws=o,Ns=r,ws.attachEvent("onpropertychange",eh)):n==="focusout"&&jf()}function dE(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return qr(Ns)}function fE(n,o){if(n==="click")return qr(o)}function hE(n,o){if(n==="input"||n==="change")return qr(o)}function pE(n,o){return n===o&&(n!==0||1/n===1/o)||n!==n&&o!==o}var Nt=typeof Object.is=="function"?Object.is:pE;function Is(n,o){if(Nt(n,o))return!0;if(typeof n!="object"||n===null||typeof o!="object"||o===null)return!1;var r=Object.keys(n),l=Object.keys(o);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var h=r[l];if(!Ht.call(o,h)||!Nt(n[h],o[h]))return!1}return!0}function th(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function nh(n,o){var r=th(n);n=0;for(var l;r;){if(r.nodeType===3){if(l=n+r.textContent.length,n<=o&&l>=o)return{node:r,offset:o-n};n=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=th(r)}}function ih(n,o){return n&&o?n===o?!0:n&&n.nodeType===3?!1:o&&o.nodeType===3?ih(n,o.parentNode):"contains"in n?n.contains(o):n.compareDocumentPosition?!!(n.compareDocumentPosition(o)&16):!1:!1}function oh(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var o=Pr(n.document);o instanceof n.HTMLIFrameElement;){try{var r=typeof o.contentWindow.location.href=="string"}catch{r=!1}if(r)n=o.contentWindow;else break;o=Pr(n.document)}return o}function eu(n){var o=n&&n.nodeName&&n.nodeName.toLowerCase();return o&&(o==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||o==="textarea"||n.contentEditable==="true")}var mE=Sn&&"documentMode"in document&&11>=document.documentMode,Ao=null,tu=null,Rs=null,nu=!1;function sh(n,o,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;nu||Ao==null||Ao!==Pr(l)||(l=Ao,"selectionStart"in l&&eu(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Rs&&Is(Rs,l)||(Rs=l,l=Ma(tu,"onSelect"),0<l.length&&(o=new Vr("onSelect","select",null,o,r),n.push({event:o,listeners:l}),o.target=Ao)))}function zi(n,o){var r={};return r[n.toLowerCase()]=o.toLowerCase(),r["Webkit"+n]="webkit"+o,r["Moz"+n]="moz"+o,r}var bo={animationend:zi("Animation","AnimationEnd"),animationiteration:zi("Animation","AnimationIteration"),animationstart:zi("Animation","AnimationStart"),transitionrun:zi("Transition","TransitionRun"),transitionstart:zi("Transition","TransitionStart"),transitioncancel:zi("Transition","TransitionCancel"),transitionend:zi("Transition","TransitionEnd")},iu={},rh={};Sn&&(rh=document.createElement("div").style,"AnimationEvent"in window||(delete bo.animationend.animation,delete bo.animationiteration.animation,delete bo.animationstart.animation),"TransitionEvent"in window||delete bo.transitionend.transition);function Vi(n){if(iu[n])return iu[n];if(!bo[n])return n;var o=bo[n],r;for(r in o)if(o.hasOwnProperty(r)&&r in rh)return iu[n]=o[r];return n}var ah=Vi("animationend"),lh=Vi("animationiteration"),uh=Vi("animationstart"),gE=Vi("transitionrun"),yE=Vi("transitionstart"),vE=Vi("transitioncancel"),ch=Vi("transitionend"),dh=new Map,ou="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ou.push("scrollEnd");function Zt(n,o){dh.set(n,o),Hi(o,[n])}var Fr=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},Vt=[],wo=0,su=0;function Yr(){for(var n=wo,o=su=wo=0;o<n;){var r=Vt[o];Vt[o++]=null;var l=Vt[o];Vt[o++]=null;var h=Vt[o];Vt[o++]=null;var g=Vt[o];if(Vt[o++]=null,l!==null&&h!==null){var T=l.pending;T===null?h.next=h:(h.next=T.next,T.next=h),l.pending=h}g!==0&&fh(r,h,g)}}function Jr(n,o,r,l){Vt[wo++]=n,Vt[wo++]=o,Vt[wo++]=r,Vt[wo++]=l,su|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function ru(n,o,r,l){return Jr(n,o,r,l),$r(n)}function Bi(n,o){return Jr(n,null,null,o),$r(n)}function fh(n,o,r){n.lanes|=r;var l=n.alternate;l!==null&&(l.lanes|=r);for(var h=!1,g=n.return;g!==null;)g.childLanes|=r,l=g.alternate,l!==null&&(l.childLanes|=r),g.tag===22&&(n=g.stateNode,n===null||n._visibility&1||(h=!0)),n=g,g=g.return;return n.tag===3?(g=n.stateNode,h&&o!==null&&(h=31-wt(r),n=g.hiddenUpdates,l=n[h],l===null?n[h]=[o]:l.push(o),o.lane=r|536870912),g):null}function $r(n){if(50<Zs)throw Zs=0,mc=null,Error(s(185));for(var o=n.return;o!==null;)n=o,o=n.return;return n.tag===3?n.stateNode:null}var No={};function _E(n,o,r,l){this.tag=n,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function It(n,o,r,l){return new _E(n,o,r,l)}function au(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Cn(n,o){var r=n.alternate;return r===null?(r=It(n.tag,o,n.key,n.mode),r.elementType=n.elementType,r.type=n.type,r.stateNode=n.stateNode,r.alternate=n,n.alternate=r):(r.pendingProps=o,r.type=n.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=n.flags&65011712,r.childLanes=n.childLanes,r.lanes=n.lanes,r.child=n.child,r.memoizedProps=n.memoizedProps,r.memoizedState=n.memoizedState,r.updateQueue=n.updateQueue,o=n.dependencies,r.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},r.sibling=n.sibling,r.index=n.index,r.ref=n.ref,r.refCleanup=n.refCleanup,r}function hh(n,o){n.flags&=65011714;var r=n.alternate;return r===null?(n.childLanes=0,n.lanes=o,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=r.childLanes,n.lanes=r.lanes,n.child=r.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=r.memoizedProps,n.memoizedState=r.memoizedState,n.updateQueue=r.updateQueue,n.type=r.type,o=r.dependencies,n.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),n}function Kr(n,o,r,l,h,g){var T=0;if(l=n,typeof n=="function")au(n)&&(T=1);else if(typeof n=="string")T=xS(n,r,j.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case Z:return n=It(31,r,o,h),n.elementType=Z,n.lanes=g,n;case k:return qi(r.children,h,g,o);case U:T=8,h|=24;break;case L:return n=It(12,r,o,h|2),n.elementType=L,n.lanes=g,n;case Y:return n=It(13,r,o,h),n.elementType=Y,n.lanes=g,n;case te:return n=It(19,r,o,h),n.elementType=te,n.lanes=g,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case F:T=10;break e;case q:T=9;break e;case $:T=11;break e;case K:T=14;break e;case de:T=16,l=null;break e}T=29,r=Error(s(130,n===null?"null":typeof n,"")),l=null}return o=It(T,r,o,h),o.elementType=n,o.type=l,o.lanes=g,o}function qi(n,o,r,l){return n=It(7,n,l,o),n.lanes=r,n}function lu(n,o,r){return n=It(6,n,null,o),n.lanes=r,n}function ph(n){var o=It(18,null,null,0);return o.stateNode=n,o}function uu(n,o,r){return o=It(4,n.children!==null?n.children:[],n.key,o),o.lanes=r,o.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},o}var mh=new WeakMap;function Bt(n,o){if(typeof n=="object"&&n!==null){var r=mh.get(n);return r!==void 0?r:(o={value:n,source:o,stack:_n(o)},mh.set(n,o),o)}return{value:n,source:o,stack:_n(o)}}var Io=[],Ro=0,Xr=null,Ms=0,qt=[],Ft=0,ti=null,un=1,cn="";function xn(n,o){Io[Ro++]=Ms,Io[Ro++]=Xr,Xr=n,Ms=o}function gh(n,o,r){qt[Ft++]=un,qt[Ft++]=cn,qt[Ft++]=ti,ti=n;var l=un;n=cn;var h=32-wt(l)-1;l&=~(1<<h),r+=1;var g=32-wt(o)+h;if(30<g){var T=h-h%5;g=(l&(1<<T)-1).toString(32),l>>=T,h-=T,un=1<<32-wt(o)+h|r<<h|l,cn=g+n}else un=1<<g|r<<h|l,cn=n}function cu(n){n.return!==null&&(xn(n,1),gh(n,1,0))}function du(n){for(;n===Xr;)Xr=Io[--Ro],Io[Ro]=null,Ms=Io[--Ro],Io[Ro]=null;for(;n===ti;)ti=qt[--Ft],qt[Ft]=null,cn=qt[--Ft],qt[Ft]=null,un=qt[--Ft],qt[Ft]=null}function yh(n,o){qt[Ft++]=un,qt[Ft++]=cn,qt[Ft++]=ti,un=o.id,cn=o.overflow,ti=n}var at=null,Be=null,be=!1,ni=null,Yt=!1,fu=Error(s(519));function ii(n){var o=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ds(Bt(o,n)),fu}function vh(n){var o=n.stateNode,r=n.type,l=n.memoizedProps;switch(o[rt]=n,o[_t]=l,r){case"dialog":Se("cancel",o),Se("close",o);break;case"iframe":case"object":case"embed":Se("load",o);break;case"video":case"audio":for(r=0;r<er.length;r++)Se(er[r],o);break;case"source":Se("error",o);break;case"img":case"image":case"link":Se("error",o),Se("load",o);break;case"details":Se("toggle",o);break;case"input":Se("invalid",o),Mf(o,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Se("invalid",o);break;case"textarea":Se("invalid",o),Uf(o,l.value,l.defaultValue,l.children)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||o.textContent===""+r||l.suppressHydrationWarning===!0||Lm(o.textContent,r)?(l.popover!=null&&(Se("beforetoggle",o),Se("toggle",o)),l.onScroll!=null&&Se("scroll",o),l.onScrollEnd!=null&&Se("scrollend",o),l.onClick!=null&&(o.onclick=En),o=!0):o=!1,o||ii(n,!0)}function _h(n){for(at=n.return;at;)switch(at.tag){case 5:case 31:case 13:Yt=!1;return;case 27:case 3:Yt=!0;return;default:at=at.return}}function Mo(n){if(n!==at)return!1;if(!be)return _h(n),be=!0,!1;var o=n.tag,r;if((r=o!==3&&o!==27)&&((r=o===5)&&(r=n.type,r=!(r!=="form"&&r!=="button")||Rc(n.type,n.memoizedProps)),r=!r),r&&Be&&ii(n),_h(n),o===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));Be=Fm(n)}else if(o===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));Be=Fm(n)}else o===27?(o=Be,yi(n.type)?(n=Lc,Lc=null,Be=n):Be=o):Be=at?$t(n.stateNode.nextSibling):null;return!0}function Fi(){Be=at=null,be=!1}function hu(){var n=ni;return n!==null&&(xt===null?xt=n:xt.push.apply(xt,n),ni=null),n}function Ds(n){ni===null?ni=[n]:ni.push(n)}var pu=w(null),Yi=null,An=null;function oi(n,o,r){X(pu,o._currentValue),o._currentValue=r}function bn(n){n._currentValue=pu.current,V(pu)}function mu(n,o,r){for(;n!==null;){var l=n.alternate;if((n.childLanes&o)!==o?(n.childLanes|=o,l!==null&&(l.childLanes|=o)):l!==null&&(l.childLanes&o)!==o&&(l.childLanes|=o),n===r)break;n=n.return}}function gu(n,o,r,l){var h=n.child;for(h!==null&&(h.return=n);h!==null;){var g=h.dependencies;if(g!==null){var T=h.child;g=g.firstContext;e:for(;g!==null;){var C=g;g=h;for(var A=0;A<o.length;A++)if(C.context===o[A]){g.lanes|=r,C=g.alternate,C!==null&&(C.lanes|=r),mu(g.return,r,n),l||(T=null);break e}g=C.next}}else if(h.tag===18){if(T=h.return,T===null)throw Error(s(341));T.lanes|=r,g=T.alternate,g!==null&&(g.lanes|=r),mu(T,r,n),T=null}else T=h.child;if(T!==null)T.return=h;else for(T=h;T!==null;){if(T===n){T=null;break}if(h=T.sibling,h!==null){h.return=T.return,T=h;break}T=T.return}h=T}}function Do(n,o,r,l){n=null;for(var h=o,g=!1;h!==null;){if(!g){if((h.flags&524288)!==0)g=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var T=h.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var C=h.type;Nt(h.pendingProps.value,T.value)||(n!==null?n.push(C):n=[C])}}else if(h===we.current){if(T=h.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(n!==null?n.push(sr):n=[sr])}h=h.return}n!==null&&gu(o,n,r,l),o.flags|=262144}function Qr(n){for(n=n.firstContext;n!==null;){if(!Nt(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Ji(n){Yi=n,An=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function lt(n){return Th(Yi,n)}function Wr(n,o){return Yi===null&&Ji(n),Th(n,o)}function Th(n,o){var r=o._currentValue;if(o={context:o,memoizedValue:r,next:null},An===null){if(n===null)throw Error(s(308));An=o,n.dependencies={lanes:0,firstContext:o},n.flags|=524288}else An=An.next=o;return r}var TE=typeof AbortController<"u"?AbortController:function(){var n=[],o=this.signal={aborted:!1,addEventListener:function(r,l){n.push(l)}};this.abort=function(){o.aborted=!0,n.forEach(function(r){return r()})}},EE=t.unstable_scheduleCallback,SE=t.unstable_NormalPriority,Ze={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function yu(){return{controller:new TE,data:new Map,refCount:0}}function Us(n){n.refCount--,n.refCount===0&&EE(SE,function(){n.controller.abort()})}var ks=null,vu=0,Uo=0,ko=null;function CE(n,o){if(ks===null){var r=ks=[];vu=0,Uo=Ec(),ko={status:"pending",value:void 0,then:function(l){r.push(l)}}}return vu++,o.then(Eh,Eh),o}function Eh(){if(--vu===0&&ks!==null){ko!==null&&(ko.status="fulfilled");var n=ks;ks=null,Uo=0,ko=null;for(var o=0;o<n.length;o++)(0,n[o])()}}function xE(n,o){var r=[],l={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return n.then(function(){l.status="fulfilled",l.value=o;for(var h=0;h<r.length;h++)(0,r[h])(o)},function(h){for(l.status="rejected",l.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),l}var Sh=H.S;H.S=function(n,o){sm=ee(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&CE(n,o),Sh!==null&&Sh(n,o)};var $i=w(null);function _u(){var n=$i.current;return n!==null?n:Ge.pooledCache}function Zr(n,o){o===null?X($i,$i.current):X($i,o.pool)}function Ch(){var n=_u();return n===null?null:{parent:Ze._currentValue,pool:n}}var Lo=Error(s(460)),Tu=Error(s(474)),jr=Error(s(542)),ea={then:function(){}};function xh(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Ah(n,o,r){switch(r=n[r],r===void 0?n.push(o):r!==o&&(o.then(En,En),o=r),o.status){case"fulfilled":return o.value;case"rejected":throw n=o.reason,wh(n),n;default:if(typeof o.status=="string")o.then(En,En);else{if(n=Ge,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=o,n.status="pending",n.then(function(l){if(o.status==="pending"){var h=o;h.status="fulfilled",h.value=l}},function(l){if(o.status==="pending"){var h=o;h.status="rejected",h.reason=l}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw n=o.reason,wh(n),n}throw Xi=o,Lo}}function Ki(n){try{var o=n._init;return o(n._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Xi=r,Lo):r}}var Xi=null;function bh(){if(Xi===null)throw Error(s(459));var n=Xi;return Xi=null,n}function wh(n){if(n===Lo||n===jr)throw Error(s(483))}var Po=null,Ls=0;function ta(n){var o=Ls;return Ls+=1,Po===null&&(Po=[]),Ah(Po,n,o)}function Ps(n,o){o=o.props.ref,n.ref=o!==void 0?o:null}function na(n,o){throw o.$$typeof===S?Error(s(525)):(n=Object.prototype.toString.call(o),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":n)))}function Nh(n){function o(I,b){if(n){var R=I.deletions;R===null?(I.deletions=[b],I.flags|=16):R.push(b)}}function r(I,b){if(!n)return null;for(;b!==null;)o(I,b),b=b.sibling;return null}function l(I){for(var b=new Map;I!==null;)I.key!==null?b.set(I.key,I):b.set(I.index,I),I=I.sibling;return b}function h(I,b){return I=Cn(I,b),I.index=0,I.sibling=null,I}function g(I,b,R){return I.index=R,n?(R=I.alternate,R!==null?(R=R.index,R<b?(I.flags|=67108866,b):R):(I.flags|=67108866,b)):(I.flags|=1048576,b)}function T(I){return n&&I.alternate===null&&(I.flags|=67108866),I}function C(I,b,R,z){return b===null||b.tag!==6?(b=lu(R,I.mode,z),b.return=I,b):(b=h(b,R),b.return=I,b)}function A(I,b,R,z){var re=R.type;return re===k?G(I,b,R.props.children,z,R.key):b!==null&&(b.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===de&&Ki(re)===b.type)?(b=h(b,R.props),Ps(b,R),b.return=I,b):(b=Kr(R.type,R.key,R.props,null,I.mode,z),Ps(b,R),b.return=I,b)}function M(I,b,R,z){return b===null||b.tag!==4||b.stateNode.containerInfo!==R.containerInfo||b.stateNode.implementation!==R.implementation?(b=uu(R,I.mode,z),b.return=I,b):(b=h(b,R.children||[]),b.return=I,b)}function G(I,b,R,z,re){return b===null||b.tag!==7?(b=qi(R,I.mode,z,re),b.return=I,b):(b=h(b,R),b.return=I,b)}function B(I,b,R){if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return b=lu(""+b,I.mode,R),b.return=I,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case x:return R=Kr(b.type,b.key,b.props,null,I.mode,R),Ps(R,b),R.return=I,R;case N:return b=uu(b,I.mode,R),b.return=I,b;case de:return b=Ki(b),B(I,b,R)}if(Je(b)||ge(b))return b=qi(b,I.mode,R,null),b.return=I,b;if(typeof b.then=="function")return B(I,ta(b),R);if(b.$$typeof===F)return B(I,Wr(I,b),R);na(I,b)}return null}function D(I,b,R,z){var re=b!==null?b.key:null;if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return re!==null?null:C(I,b,""+R,z);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case x:return R.key===re?A(I,b,R,z):null;case N:return R.key===re?M(I,b,R,z):null;case de:return R=Ki(R),D(I,b,R,z)}if(Je(R)||ge(R))return re!==null?null:G(I,b,R,z,null);if(typeof R.then=="function")return D(I,b,ta(R),z);if(R.$$typeof===F)return D(I,b,Wr(I,R),z);na(I,R)}return null}function O(I,b,R,z,re){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return I=I.get(R)||null,C(b,I,""+z,re);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case x:return I=I.get(z.key===null?R:z.key)||null,A(b,I,z,re);case N:return I=I.get(z.key===null?R:z.key)||null,M(b,I,z,re);case de:return z=Ki(z),O(I,b,R,z,re)}if(Je(z)||ge(z))return I=I.get(R)||null,G(b,I,z,re,null);if(typeof z.then=="function")return O(I,b,R,ta(z),re);if(z.$$typeof===F)return O(I,b,R,Wr(b,z),re);na(b,z)}return null}function ne(I,b,R,z){for(var re=null,Ie=null,ie=b,ve=b=0,xe=null;ie!==null&&ve<R.length;ve++){ie.index>ve?(xe=ie,ie=null):xe=ie.sibling;var Re=D(I,ie,R[ve],z);if(Re===null){ie===null&&(ie=xe);break}n&&ie&&Re.alternate===null&&o(I,ie),b=g(Re,b,ve),Ie===null?re=Re:Ie.sibling=Re,Ie=Re,ie=xe}if(ve===R.length)return r(I,ie),be&&xn(I,ve),re;if(ie===null){for(;ve<R.length;ve++)ie=B(I,R[ve],z),ie!==null&&(b=g(ie,b,ve),Ie===null?re=ie:Ie.sibling=ie,Ie=ie);return be&&xn(I,ve),re}for(ie=l(ie);ve<R.length;ve++)xe=O(ie,I,ve,R[ve],z),xe!==null&&(n&&xe.alternate!==null&&ie.delete(xe.key===null?ve:xe.key),b=g(xe,b,ve),Ie===null?re=xe:Ie.sibling=xe,Ie=xe);return n&&ie.forEach(function(Si){return o(I,Si)}),be&&xn(I,ve),re}function ae(I,b,R,z){if(R==null)throw Error(s(151));for(var re=null,Ie=null,ie=b,ve=b=0,xe=null,Re=R.next();ie!==null&&!Re.done;ve++,Re=R.next()){ie.index>ve?(xe=ie,ie=null):xe=ie.sibling;var Si=D(I,ie,Re.value,z);if(Si===null){ie===null&&(ie=xe);break}n&&ie&&Si.alternate===null&&o(I,ie),b=g(Si,b,ve),Ie===null?re=Si:Ie.sibling=Si,Ie=Si,ie=xe}if(Re.done)return r(I,ie),be&&xn(I,ve),re;if(ie===null){for(;!Re.done;ve++,Re=R.next())Re=B(I,Re.value,z),Re!==null&&(b=g(Re,b,ve),Ie===null?re=Re:Ie.sibling=Re,Ie=Re);return be&&xn(I,ve),re}for(ie=l(ie);!Re.done;ve++,Re=R.next())Re=O(ie,I,ve,Re.value,z),Re!==null&&(n&&Re.alternate!==null&&ie.delete(Re.key===null?ve:Re.key),b=g(Re,b,ve),Ie===null?re=Re:Ie.sibling=Re,Ie=Re);return n&&ie.forEach(function(LS){return o(I,LS)}),be&&xn(I,ve),re}function He(I,b,R,z){if(typeof R=="object"&&R!==null&&R.type===k&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case x:e:{for(var re=R.key;b!==null;){if(b.key===re){if(re=R.type,re===k){if(b.tag===7){r(I,b.sibling),z=h(b,R.props.children),z.return=I,I=z;break e}}else if(b.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===de&&Ki(re)===b.type){r(I,b.sibling),z=h(b,R.props),Ps(z,R),z.return=I,I=z;break e}r(I,b);break}else o(I,b);b=b.sibling}R.type===k?(z=qi(R.props.children,I.mode,z,R.key),z.return=I,I=z):(z=Kr(R.type,R.key,R.props,null,I.mode,z),Ps(z,R),z.return=I,I=z)}return T(I);case N:e:{for(re=R.key;b!==null;){if(b.key===re)if(b.tag===4&&b.stateNode.containerInfo===R.containerInfo&&b.stateNode.implementation===R.implementation){r(I,b.sibling),z=h(b,R.children||[]),z.return=I,I=z;break e}else{r(I,b);break}else o(I,b);b=b.sibling}z=uu(R,I.mode,z),z.return=I,I=z}return T(I);case de:return R=Ki(R),He(I,b,R,z)}if(Je(R))return ne(I,b,R,z);if(ge(R)){if(re=ge(R),typeof re!="function")throw Error(s(150));return R=re.call(R),ae(I,b,R,z)}if(typeof R.then=="function")return He(I,b,ta(R),z);if(R.$$typeof===F)return He(I,b,Wr(I,R),z);na(I,R)}return typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint"?(R=""+R,b!==null&&b.tag===6?(r(I,b.sibling),z=h(b,R),z.return=I,I=z):(r(I,b),z=lu(R,I.mode,z),z.return=I,I=z),T(I)):r(I,b)}return function(I,b,R,z){try{Ls=0;var re=He(I,b,R,z);return Po=null,re}catch(ie){if(ie===Lo||ie===jr)throw ie;var Ie=It(29,ie,null,I.mode);return Ie.lanes=z,Ie.return=I,Ie}finally{}}}var Qi=Nh(!0),Ih=Nh(!1),si=!1;function Eu(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Su(n,o){n=n.updateQueue,o.updateQueue===n&&(o.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function ri(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function ai(n,o,r){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(De&2)!==0){var h=l.pending;return h===null?o.next=o:(o.next=h.next,h.next=o),l.pending=o,o=$r(n),fh(n,null,r),o}return Jr(n,l,o,r),$r(n)}function Os(n,o,r){if(o=o.updateQueue,o!==null&&(o=o.shared,(r&4194048)!==0)){var l=o.lanes;l&=n.pendingLanes,r|=l,o.lanes=r,Tf(n,r)}}function Cu(n,o){var r=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var h=null,g=null;if(r=r.firstBaseUpdate,r!==null){do{var T={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};g===null?h=g=T:g=g.next=T,r=r.next}while(r!==null);g===null?h=g=o:g=g.next=o}else h=g=o;r={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:g,shared:l.shared,callbacks:l.callbacks},n.updateQueue=r;return}n=r.lastBaseUpdate,n===null?r.firstBaseUpdate=o:n.next=o,r.lastBaseUpdate=o}var xu=!1;function Hs(){if(xu){var n=ko;if(n!==null)throw n}}function Gs(n,o,r,l){xu=!1;var h=n.updateQueue;si=!1;var g=h.firstBaseUpdate,T=h.lastBaseUpdate,C=h.shared.pending;if(C!==null){h.shared.pending=null;var A=C,M=A.next;A.next=null,T===null?g=M:T.next=M,T=A;var G=n.alternate;G!==null&&(G=G.updateQueue,C=G.lastBaseUpdate,C!==T&&(C===null?G.firstBaseUpdate=M:C.next=M,G.lastBaseUpdate=A))}if(g!==null){var B=h.baseState;T=0,G=M=A=null,C=g;do{var D=C.lane&-536870913,O=D!==C.lane;if(O?(Ce&D)===D:(l&D)===D){D!==0&&D===Uo&&(xu=!0),G!==null&&(G=G.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var ne=n,ae=C;D=o;var He=r;switch(ae.tag){case 1:if(ne=ae.payload,typeof ne=="function"){B=ne.call(He,B,D);break e}B=ne;break e;case 3:ne.flags=ne.flags&-65537|128;case 0:if(ne=ae.payload,D=typeof ne=="function"?ne.call(He,B,D):ne,D==null)break e;B=E({},B,D);break e;case 2:si=!0}}D=C.callback,D!==null&&(n.flags|=64,O&&(n.flags|=8192),O=h.callbacks,O===null?h.callbacks=[D]:O.push(D))}else O={lane:D,tag:C.tag,payload:C.payload,callback:C.callback,next:null},G===null?(M=G=O,A=B):G=G.next=O,T|=D;if(C=C.next,C===null){if(C=h.shared.pending,C===null)break;O=C,C=O.next,O.next=null,h.lastBaseUpdate=O,h.shared.pending=null}}while(!0);G===null&&(A=B),h.baseState=A,h.firstBaseUpdate=M,h.lastBaseUpdate=G,g===null&&(h.shared.lanes=0),fi|=T,n.lanes=T,n.memoizedState=B}}function Rh(n,o){if(typeof n!="function")throw Error(s(191,n));n.call(o)}function Mh(n,o){var r=n.callbacks;if(r!==null)for(n.callbacks=null,n=0;n<r.length;n++)Rh(r[n],o)}var Oo=w(null),ia=w(0);function Dh(n,o){n=Ln,X(ia,n),X(Oo,o),Ln=n|o.baseLanes}function Au(){X(ia,Ln),X(Oo,Oo.current)}function bu(){Ln=ia.current,V(Oo),V(ia)}var Rt=w(null),Jt=null;function li(n){var o=n.alternate;X(Xe,Xe.current&1),X(Rt,n),Jt===null&&(o===null||Oo.current!==null||o.memoizedState!==null)&&(Jt=n)}function wu(n){X(Xe,Xe.current),X(Rt,n),Jt===null&&(Jt=n)}function Uh(n){n.tag===22?(X(Xe,Xe.current),X(Rt,n),Jt===null&&(Jt=n)):ui()}function ui(){X(Xe,Xe.current),X(Rt,Rt.current)}function Mt(n){V(Rt),Jt===n&&(Jt=null),V(Xe)}var Xe=w(0);function oa(n){for(var o=n;o!==null;){if(o.tag===13){var r=o.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Uc(r)||kc(r)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===n)break;for(;o.sibling===null;){if(o.return===null||o.return===n)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var wn=0,pe=null,Pe=null,je=null,sa=!1,Ho=!1,Wi=!1,ra=0,zs=0,Go=null,AE=0;function $e(){throw Error(s(321))}function Nu(n,o){if(o===null)return!1;for(var r=0;r<o.length&&r<n.length;r++)if(!Nt(n[r],o[r]))return!1;return!0}function Iu(n,o,r,l,h,g){return wn=g,pe=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,H.H=n===null||n.memoizedState===null?gp:Fu,Wi=!1,g=r(l,h),Wi=!1,Ho&&(g=Lh(o,r,l,h)),kh(n),g}function kh(n){H.H=qs;var o=Pe!==null&&Pe.next!==null;if(wn=0,je=Pe=pe=null,sa=!1,zs=0,Go=null,o)throw Error(s(300));n===null||et||(n=n.dependencies,n!==null&&Qr(n)&&(et=!0))}function Lh(n,o,r,l){pe=n;var h=0;do{if(Ho&&(Go=null),zs=0,Ho=!1,25<=h)throw Error(s(301));if(h+=1,je=Pe=null,n.updateQueue!=null){var g=n.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}H.H=yp,g=o(r,l)}while(Ho);return g}function bE(){var n=H.H,o=n.useState()[0];return o=typeof o.then=="function"?Vs(o):o,n=n.useState()[0],(Pe!==null?Pe.memoizedState:null)!==n&&(pe.flags|=1024),o}function Ru(){var n=ra!==0;return ra=0,n}function Mu(n,o,r){o.updateQueue=n.updateQueue,o.flags&=-2053,n.lanes&=~r}function Du(n){if(sa){for(n=n.memoizedState;n!==null;){var o=n.queue;o!==null&&(o.pending=null),n=n.next}sa=!1}wn=0,je=Pe=pe=null,Ho=!1,zs=ra=0,Go=null}function pt(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return je===null?pe.memoizedState=je=n:je=je.next=n,je}function Qe(){if(Pe===null){var n=pe.alternate;n=n!==null?n.memoizedState:null}else n=Pe.next;var o=je===null?pe.memoizedState:je.next;if(o!==null)je=o,Pe=n;else{if(n===null)throw pe.alternate===null?Error(s(467)):Error(s(310));Pe=n,n={memoizedState:Pe.memoizedState,baseState:Pe.baseState,baseQueue:Pe.baseQueue,queue:Pe.queue,next:null},je===null?pe.memoizedState=je=n:je=je.next=n}return je}function aa(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Vs(n){var o=zs;return zs+=1,Go===null&&(Go=[]),n=Ah(Go,n,o),o=pe,(je===null?o.memoizedState:je.next)===null&&(o=o.alternate,H.H=o===null||o.memoizedState===null?gp:Fu),n}function la(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Vs(n);if(n.$$typeof===F)return lt(n)}throw Error(s(438,String(n)))}function Uu(n){var o=null,r=pe.updateQueue;if(r!==null&&(o=r.memoCache),o==null){var l=pe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(o={data:l.data.map(function(h){return h.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),r===null&&(r=aa(),pe.updateQueue=r),r.memoCache=o,r=o.data[o.index],r===void 0)for(r=o.data[o.index]=Array(n),l=0;l<n;l++)r[l]=fe;return o.index++,r}function Nn(n,o){return typeof o=="function"?o(n):o}function ua(n){var o=Qe();return ku(o,Pe,n)}function ku(n,o,r){var l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=r;var h=n.baseQueue,g=l.pending;if(g!==null){if(h!==null){var T=h.next;h.next=g.next,g.next=T}o.baseQueue=h=g,l.pending=null}if(g=n.baseState,h===null)n.memoizedState=g;else{o=h.next;var C=T=null,A=null,M=o,G=!1;do{var B=M.lane&-536870913;if(B!==M.lane?(Ce&B)===B:(wn&B)===B){var D=M.revertLane;if(D===0)A!==null&&(A=A.next={lane:0,revertLane:0,gesture:null,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null}),B===Uo&&(G=!0);else if((wn&D)===D){M=M.next,D===Uo&&(G=!0);continue}else B={lane:0,revertLane:M.revertLane,gesture:null,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null},A===null?(C=A=B,T=g):A=A.next=B,pe.lanes|=D,fi|=D;B=M.action,Wi&&r(g,B),g=M.hasEagerState?M.eagerState:r(g,B)}else D={lane:B,revertLane:M.revertLane,gesture:M.gesture,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null},A===null?(C=A=D,T=g):A=A.next=D,pe.lanes|=B,fi|=B;M=M.next}while(M!==null&&M!==o);if(A===null?T=g:A.next=C,!Nt(g,n.memoizedState)&&(et=!0,G&&(r=ko,r!==null)))throw r;n.memoizedState=g,n.baseState=T,n.baseQueue=A,l.lastRenderedState=g}return h===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function Lu(n){var o=Qe(),r=o.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=n;var l=r.dispatch,h=r.pending,g=o.memoizedState;if(h!==null){r.pending=null;var T=h=h.next;do g=n(g,T.action),T=T.next;while(T!==h);Nt(g,o.memoizedState)||(et=!0),o.memoizedState=g,o.baseQueue===null&&(o.baseState=g),r.lastRenderedState=g}return[g,l]}function Ph(n,o,r){var l=pe,h=Qe(),g=be;if(g){if(r===void 0)throw Error(s(407));r=r()}else r=o();var T=!Nt((Pe||h).memoizedState,r);if(T&&(h.memoizedState=r,et=!0),h=h.queue,Hu(Gh.bind(null,l,h,n),[n]),h.getSnapshot!==o||T||je!==null&&je.memoizedState.tag&1){if(l.flags|=2048,zo(9,{destroy:void 0},Hh.bind(null,l,h,r,o),null),Ge===null)throw Error(s(349));g||(wn&127)!==0||Oh(l,o,r)}return r}function Oh(n,o,r){n.flags|=16384,n={getSnapshot:o,value:r},o=pe.updateQueue,o===null?(o=aa(),pe.updateQueue=o,o.stores=[n]):(r=o.stores,r===null?o.stores=[n]:r.push(n))}function Hh(n,o,r,l){o.value=r,o.getSnapshot=l,zh(o)&&Vh(n)}function Gh(n,o,r){return r(function(){zh(o)&&Vh(n)})}function zh(n){var o=n.getSnapshot;n=n.value;try{var r=o();return!Nt(n,r)}catch{return!0}}function Vh(n){var o=Bi(n,2);o!==null&&At(o,n,2)}function Pu(n){var o=pt();if(typeof n=="function"){var r=n;if(n=r(),Wi){Zn(!0);try{r()}finally{Zn(!1)}}}return o.memoizedState=o.baseState=n,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nn,lastRenderedState:n},o}function Bh(n,o,r,l){return n.baseState=r,ku(n,Pe,typeof l=="function"?l:Nn)}function wE(n,o,r,l,h){if(fa(n))throw Error(s(485));if(n=o.action,n!==null){var g={payload:h,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){g.listeners.push(T)}};H.T!==null?r(!0):g.isTransition=!1,l(g),r=o.pending,r===null?(g.next=o.pending=g,qh(o,g)):(g.next=r.next,o.pending=r.next=g)}}function qh(n,o){var r=o.action,l=o.payload,h=n.state;if(o.isTransition){var g=H.T,T={};H.T=T;try{var C=r(h,l),A=H.S;A!==null&&A(T,C),Fh(n,o,C)}catch(M){Ou(n,o,M)}finally{g!==null&&T.types!==null&&(g.types=T.types),H.T=g}}else try{g=r(h,l),Fh(n,o,g)}catch(M){Ou(n,o,M)}}function Fh(n,o,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){Yh(n,o,l)},function(l){return Ou(n,o,l)}):Yh(n,o,r)}function Yh(n,o,r){o.status="fulfilled",o.value=r,Jh(o),n.state=r,o=n.pending,o!==null&&(r=o.next,r===o?n.pending=null:(r=r.next,o.next=r,qh(n,r)))}function Ou(n,o,r){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do o.status="rejected",o.reason=r,Jh(o),o=o.next;while(o!==l)}n.action=null}function Jh(n){n=n.listeners;for(var o=0;o<n.length;o++)(0,n[o])()}function $h(n,o){return o}function Kh(n,o){if(be){var r=Ge.formState;if(r!==null){e:{var l=pe;if(be){if(Be){t:{for(var h=Be,g=Yt;h.nodeType!==8;){if(!g){h=null;break t}if(h=$t(h.nextSibling),h===null){h=null;break t}}g=h.data,h=g==="F!"||g==="F"?h:null}if(h){Be=$t(h.nextSibling),l=h.data==="F!";break e}}ii(l)}l=!1}l&&(o=r[0])}}return r=pt(),r.memoizedState=r.baseState=o,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$h,lastRenderedState:o},r.queue=l,r=hp.bind(null,pe,l),l.dispatch=r,l=Pu(!1),g=qu.bind(null,pe,!1,l.queue),l=pt(),h={state:o,dispatch:null,action:n,pending:null},l.queue=h,r=wE.bind(null,pe,h,g,r),h.dispatch=r,l.memoizedState=n,[o,r,!1]}function Xh(n){var o=Qe();return Qh(o,Pe,n)}function Qh(n,o,r){if(o=ku(n,o,$h)[0],n=ua(Nn)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var l=Vs(o)}catch(T){throw T===Lo?jr:T}else l=o;o=Qe();var h=o.queue,g=h.dispatch;return r!==o.memoizedState&&(pe.flags|=2048,zo(9,{destroy:void 0},NE.bind(null,h,r),null)),[l,g,n]}function NE(n,o){n.action=o}function Wh(n){var o=Qe(),r=Pe;if(r!==null)return Qh(o,r,n);Qe(),o=o.memoizedState,r=Qe();var l=r.queue.dispatch;return r.memoizedState=n,[o,l,!1]}function zo(n,o,r,l){return n={tag:n,create:r,deps:l,inst:o,next:null},o=pe.updateQueue,o===null&&(o=aa(),pe.updateQueue=o),r=o.lastEffect,r===null?o.lastEffect=n.next=n:(l=r.next,r.next=n,n.next=l,o.lastEffect=n),n}function Zh(){return Qe().memoizedState}function ca(n,o,r,l){var h=pt();pe.flags|=n,h.memoizedState=zo(1|o,{destroy:void 0},r,l===void 0?null:l)}function da(n,o,r,l){var h=Qe();l=l===void 0?null:l;var g=h.memoizedState.inst;Pe!==null&&l!==null&&Nu(l,Pe.memoizedState.deps)?h.memoizedState=zo(o,g,r,l):(pe.flags|=n,h.memoizedState=zo(1|o,g,r,l))}function jh(n,o){ca(8390656,8,n,o)}function Hu(n,o){da(2048,8,n,o)}function IE(n){pe.flags|=4;var o=pe.updateQueue;if(o===null)o=aa(),pe.updateQueue=o,o.events=[n];else{var r=o.events;r===null?o.events=[n]:r.push(n)}}function ep(n){var o=Qe().memoizedState;return IE({ref:o,nextImpl:n}),function(){if((De&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}function tp(n,o){return da(4,2,n,o)}function np(n,o){return da(4,4,n,o)}function ip(n,o){if(typeof o=="function"){n=n();var r=o(n);return function(){typeof r=="function"?r():o(null)}}if(o!=null)return n=n(),o.current=n,function(){o.current=null}}function op(n,o,r){r=r!=null?r.concat([n]):null,da(4,4,ip.bind(null,o,n),r)}function Gu(){}function sp(n,o){var r=Qe();o=o===void 0?null:o;var l=r.memoizedState;return o!==null&&Nu(o,l[1])?l[0]:(r.memoizedState=[n,o],n)}function rp(n,o){var r=Qe();o=o===void 0?null:o;var l=r.memoizedState;if(o!==null&&Nu(o,l[1]))return l[0];if(l=n(),Wi){Zn(!0);try{n()}finally{Zn(!1)}}return r.memoizedState=[l,o],l}function zu(n,o,r){return r===void 0||(wn&1073741824)!==0&&(Ce&261930)===0?n.memoizedState=o:(n.memoizedState=r,n=am(),pe.lanes|=n,fi|=n,r)}function ap(n,o,r,l){return Nt(r,o)?r:Oo.current!==null?(n=zu(n,r,l),Nt(n,o)||(et=!0),n):(wn&42)===0||(wn&1073741824)!==0&&(Ce&261930)===0?(et=!0,n.memoizedState=r):(n=am(),pe.lanes|=n,fi|=n,o)}function lp(n,o,r,l,h){var g=J.p;J.p=g!==0&&8>g?g:8;var T=H.T,C={};H.T=C,qu(n,!1,o,r);try{var A=h(),M=H.S;if(M!==null&&M(C,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var G=xE(A,l);Bs(n,o,G,kt(n))}else Bs(n,o,l,kt(n))}catch(B){Bs(n,o,{then:function(){},status:"rejected",reason:B},kt())}finally{J.p=g,T!==null&&C.types!==null&&(T.types=C.types),H.T=T}}function RE(){}function Vu(n,o,r,l){if(n.tag!==5)throw Error(s(476));var h=up(n).queue;lp(n,h,o,se,r===null?RE:function(){return cp(n),r(l)})}function up(n){var o=n.memoizedState;if(o!==null)return o;o={memoizedState:se,baseState:se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nn,lastRenderedState:se},next:null};var r={};return o.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nn,lastRenderedState:r},next:null},n.memoizedState=o,n=n.alternate,n!==null&&(n.memoizedState=o),o}function cp(n){var o=up(n);o.next===null&&(o=n.alternate.memoizedState),Bs(n,o.next.queue,{},kt())}function Bu(){return lt(sr)}function dp(){return Qe().memoizedState}function fp(){return Qe().memoizedState}function ME(n){for(var o=n.return;o!==null;){switch(o.tag){case 24:case 3:var r=kt();n=ri(r);var l=ai(o,n,r);l!==null&&(At(l,o,r),Os(l,o,r)),o={cache:yu()},n.payload=o;return}o=o.return}}function DE(n,o,r){var l=kt();r={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},fa(n)?pp(o,r):(r=ru(n,o,r,l),r!==null&&(At(r,n,l),mp(r,o,l)))}function hp(n,o,r){var l=kt();Bs(n,o,r,l)}function Bs(n,o,r,l){var h={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(fa(n))pp(o,h);else{var g=n.alternate;if(n.lanes===0&&(g===null||g.lanes===0)&&(g=o.lastRenderedReducer,g!==null))try{var T=o.lastRenderedState,C=g(T,r);if(h.hasEagerState=!0,h.eagerState=C,Nt(C,T))return Jr(n,o,h,0),Ge===null&&Yr(),!1}catch{}finally{}if(r=ru(n,o,h,l),r!==null)return At(r,n,l),mp(r,o,l),!0}return!1}function qu(n,o,r,l){if(l={lane:2,revertLane:Ec(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},fa(n)){if(o)throw Error(s(479))}else o=ru(n,r,l,2),o!==null&&At(o,n,2)}function fa(n){var o=n.alternate;return n===pe||o!==null&&o===pe}function pp(n,o){Ho=sa=!0;var r=n.pending;r===null?o.next=o:(o.next=r.next,r.next=o),n.pending=o}function mp(n,o,r){if((r&4194048)!==0){var l=o.lanes;l&=n.pendingLanes,r|=l,o.lanes=r,Tf(n,r)}}var qs={readContext:lt,use:la,useCallback:$e,useContext:$e,useEffect:$e,useImperativeHandle:$e,useLayoutEffect:$e,useInsertionEffect:$e,useMemo:$e,useReducer:$e,useRef:$e,useState:$e,useDebugValue:$e,useDeferredValue:$e,useTransition:$e,useSyncExternalStore:$e,useId:$e,useHostTransitionStatus:$e,useFormState:$e,useActionState:$e,useOptimistic:$e,useMemoCache:$e,useCacheRefresh:$e};qs.useEffectEvent=$e;var gp={readContext:lt,use:la,useCallback:function(n,o){return pt().memoizedState=[n,o===void 0?null:o],n},useContext:lt,useEffect:jh,useImperativeHandle:function(n,o,r){r=r!=null?r.concat([n]):null,ca(4194308,4,ip.bind(null,o,n),r)},useLayoutEffect:function(n,o){return ca(4194308,4,n,o)},useInsertionEffect:function(n,o){ca(4,2,n,o)},useMemo:function(n,o){var r=pt();o=o===void 0?null:o;var l=n();if(Wi){Zn(!0);try{n()}finally{Zn(!1)}}return r.memoizedState=[l,o],l},useReducer:function(n,o,r){var l=pt();if(r!==void 0){var h=r(o);if(Wi){Zn(!0);try{r(o)}finally{Zn(!1)}}}else h=o;return l.memoizedState=l.baseState=h,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:h},l.queue=n,n=n.dispatch=DE.bind(null,pe,n),[l.memoizedState,n]},useRef:function(n){var o=pt();return n={current:n},o.memoizedState=n},useState:function(n){n=Pu(n);var o=n.queue,r=hp.bind(null,pe,o);return o.dispatch=r,[n.memoizedState,r]},useDebugValue:Gu,useDeferredValue:function(n,o){var r=pt();return zu(r,n,o)},useTransition:function(){var n=Pu(!1);return n=lp.bind(null,pe,n.queue,!0,!1),pt().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,o,r){var l=pe,h=pt();if(be){if(r===void 0)throw Error(s(407));r=r()}else{if(r=o(),Ge===null)throw Error(s(349));(Ce&127)!==0||Oh(l,o,r)}h.memoizedState=r;var g={value:r,getSnapshot:o};return h.queue=g,jh(Gh.bind(null,l,g,n),[n]),l.flags|=2048,zo(9,{destroy:void 0},Hh.bind(null,l,g,r,o),null),r},useId:function(){var n=pt(),o=Ge.identifierPrefix;if(be){var r=cn,l=un;r=(l&~(1<<32-wt(l)-1)).toString(32)+r,o="_"+o+"R_"+r,r=ra++,0<r&&(o+="H"+r.toString(32)),o+="_"}else r=AE++,o="_"+o+"r_"+r.toString(32)+"_";return n.memoizedState=o},useHostTransitionStatus:Bu,useFormState:Kh,useActionState:Kh,useOptimistic:function(n){var o=pt();o.memoizedState=o.baseState=n;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=r,o=qu.bind(null,pe,!0,r),r.dispatch=o,[n,o]},useMemoCache:Uu,useCacheRefresh:function(){return pt().memoizedState=ME.bind(null,pe)},useEffectEvent:function(n){var o=pt(),r={impl:n};return o.memoizedState=r,function(){if((De&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}},Fu={readContext:lt,use:la,useCallback:sp,useContext:lt,useEffect:Hu,useImperativeHandle:op,useInsertionEffect:tp,useLayoutEffect:np,useMemo:rp,useReducer:ua,useRef:Zh,useState:function(){return ua(Nn)},useDebugValue:Gu,useDeferredValue:function(n,o){var r=Qe();return ap(r,Pe.memoizedState,n,o)},useTransition:function(){var n=ua(Nn)[0],o=Qe().memoizedState;return[typeof n=="boolean"?n:Vs(n),o]},useSyncExternalStore:Ph,useId:dp,useHostTransitionStatus:Bu,useFormState:Xh,useActionState:Xh,useOptimistic:function(n,o){var r=Qe();return Bh(r,Pe,n,o)},useMemoCache:Uu,useCacheRefresh:fp};Fu.useEffectEvent=ep;var yp={readContext:lt,use:la,useCallback:sp,useContext:lt,useEffect:Hu,useImperativeHandle:op,useInsertionEffect:tp,useLayoutEffect:np,useMemo:rp,useReducer:Lu,useRef:Zh,useState:function(){return Lu(Nn)},useDebugValue:Gu,useDeferredValue:function(n,o){var r=Qe();return Pe===null?zu(r,n,o):ap(r,Pe.memoizedState,n,o)},useTransition:function(){var n=Lu(Nn)[0],o=Qe().memoizedState;return[typeof n=="boolean"?n:Vs(n),o]},useSyncExternalStore:Ph,useId:dp,useHostTransitionStatus:Bu,useFormState:Wh,useActionState:Wh,useOptimistic:function(n,o){var r=Qe();return Pe!==null?Bh(r,Pe,n,o):(r.baseState=n,[n,r.queue.dispatch])},useMemoCache:Uu,useCacheRefresh:fp};yp.useEffectEvent=ep;function Yu(n,o,r,l){o=n.memoizedState,r=r(l,o),r=r==null?o:E({},o,r),n.memoizedState=r,n.lanes===0&&(n.updateQueue.baseState=r)}var Ju={enqueueSetState:function(n,o,r){n=n._reactInternals;var l=kt(),h=ri(l);h.payload=o,r!=null&&(h.callback=r),o=ai(n,h,l),o!==null&&(At(o,n,l),Os(o,n,l))},enqueueReplaceState:function(n,o,r){n=n._reactInternals;var l=kt(),h=ri(l);h.tag=1,h.payload=o,r!=null&&(h.callback=r),o=ai(n,h,l),o!==null&&(At(o,n,l),Os(o,n,l))},enqueueForceUpdate:function(n,o){n=n._reactInternals;var r=kt(),l=ri(r);l.tag=2,o!=null&&(l.callback=o),o=ai(n,l,r),o!==null&&(At(o,n,r),Os(o,n,r))}};function vp(n,o,r,l,h,g,T){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,g,T):o.prototype&&o.prototype.isPureReactComponent?!Is(r,l)||!Is(h,g):!0}function _p(n,o,r,l){n=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(r,l),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(r,l),o.state!==n&&Ju.enqueueReplaceState(o,o.state,null)}function Zi(n,o){var r=o;if("ref"in o){r={};for(var l in o)l!=="ref"&&(r[l]=o[l])}if(n=n.defaultProps){r===o&&(r=E({},r));for(var h in n)r[h]===void 0&&(r[h]=n[h])}return r}function Tp(n){Fr(n)}function Ep(n){console.error(n)}function Sp(n){Fr(n)}function ha(n,o){try{var r=n.onUncaughtError;r(o.value,{componentStack:o.stack})}catch(l){setTimeout(function(){throw l})}}function Cp(n,o,r){try{var l=n.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function $u(n,o,r){return r=ri(r),r.tag=3,r.payload={element:null},r.callback=function(){ha(n,o)},r}function xp(n){return n=ri(n),n.tag=3,n}function Ap(n,o,r,l){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var g=l.value;n.payload=function(){return h(g)},n.callback=function(){Cp(o,r,l)}}var T=r.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(n.callback=function(){Cp(o,r,l),typeof h!="function"&&(hi===null?hi=new Set([this]):hi.add(this));var C=l.stack;this.componentDidCatch(l.value,{componentStack:C!==null?C:""})})}function UE(n,o,r,l,h){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(o=r.alternate,o!==null&&Do(o,r,h,!0),r=Rt.current,r!==null){switch(r.tag){case 31:case 13:return Jt===null?Aa():r.alternate===null&&Ke===0&&(Ke=3),r.flags&=-257,r.flags|=65536,r.lanes=h,l===ea?r.flags|=16384:(o=r.updateQueue,o===null?r.updateQueue=new Set([l]):o.add(l),vc(n,l,h)),!1;case 22:return r.flags|=65536,l===ea?r.flags|=16384:(o=r.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=o):(r=o.retryQueue,r===null?o.retryQueue=new Set([l]):r.add(l)),vc(n,l,h)),!1}throw Error(s(435,r.tag))}return vc(n,l,h),Aa(),!1}if(be)return o=Rt.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=h,l!==fu&&(n=Error(s(422),{cause:l}),Ds(Bt(n,r)))):(l!==fu&&(o=Error(s(423),{cause:l}),Ds(Bt(o,r))),n=n.current.alternate,n.flags|=65536,h&=-h,n.lanes|=h,l=Bt(l,r),h=$u(n.stateNode,l,h),Cu(n,h),Ke!==4&&(Ke=2)),!1;var g=Error(s(520),{cause:l});if(g=Bt(g,r),Ws===null?Ws=[g]:Ws.push(g),Ke!==4&&(Ke=2),o===null)return!0;l=Bt(l,r),r=o;do{switch(r.tag){case 3:return r.flags|=65536,n=h&-h,r.lanes|=n,n=$u(r.stateNode,l,n),Cu(r,n),!1;case 1:if(o=r.type,g=r.stateNode,(r.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(hi===null||!hi.has(g))))return r.flags|=65536,h&=-h,r.lanes|=h,h=xp(h),Ap(h,n,r,l),Cu(r,h),!1}r=r.return}while(r!==null);return!1}var Ku=Error(s(461)),et=!1;function ut(n,o,r,l){o.child=n===null?Ih(o,null,r,l):Qi(o,n.child,r,l)}function bp(n,o,r,l,h){r=r.render;var g=o.ref;if("ref"in l){var T={};for(var C in l)C!=="ref"&&(T[C]=l[C])}else T=l;return Ji(o),l=Iu(n,o,r,T,g,h),C=Ru(),n!==null&&!et?(Mu(n,o,h),In(n,o,h)):(be&&C&&cu(o),o.flags|=1,ut(n,o,l,h),o.child)}function wp(n,o,r,l,h){if(n===null){var g=r.type;return typeof g=="function"&&!au(g)&&g.defaultProps===void 0&&r.compare===null?(o.tag=15,o.type=g,Np(n,o,g,l,h)):(n=Kr(r.type,null,l,o,o.mode,h),n.ref=o.ref,n.return=o,o.child=n)}if(g=n.child,!nc(n,h)){var T=g.memoizedProps;if(r=r.compare,r=r!==null?r:Is,r(T,l)&&n.ref===o.ref)return In(n,o,h)}return o.flags|=1,n=Cn(g,l),n.ref=o.ref,n.return=o,o.child=n}function Np(n,o,r,l,h){if(n!==null){var g=n.memoizedProps;if(Is(g,l)&&n.ref===o.ref)if(et=!1,o.pendingProps=l=g,nc(n,h))(n.flags&131072)!==0&&(et=!0);else return o.lanes=n.lanes,In(n,o,h)}return Xu(n,o,r,l,h)}function Ip(n,o,r,l){var h=l.children,g=n!==null?n.memoizedState:null;if(n===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((o.flags&128)!==0){if(g=g!==null?g.baseLanes|r:r,n!==null){for(l=o.child=n.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~g}else l=0,o.child=null;return Rp(n,o,g,r,l)}if((r&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},n!==null&&Zr(o,g!==null?g.cachePool:null),g!==null?Dh(o,g):Au(),Uh(o);else return l=o.lanes=536870912,Rp(n,o,g!==null?g.baseLanes|r:r,r,l)}else g!==null?(Zr(o,g.cachePool),Dh(o,g),ui(),o.memoizedState=null):(n!==null&&Zr(o,null),Au(),ui());return ut(n,o,h,r),o.child}function Fs(n,o){return n!==null&&n.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function Rp(n,o,r,l,h){var g=_u();return g=g===null?null:{parent:Ze._currentValue,pool:g},o.memoizedState={baseLanes:r,cachePool:g},n!==null&&Zr(o,null),Au(),Uh(o),n!==null&&Do(n,o,l,!0),o.childLanes=h,null}function pa(n,o){return o=ga({mode:o.mode,children:o.children},n.mode),o.ref=n.ref,n.child=o,o.return=n,o}function Mp(n,o,r){return Qi(o,n.child,null,r),n=pa(o,o.pendingProps),n.flags|=2,Mt(o),o.memoizedState=null,n}function kE(n,o,r){var l=o.pendingProps,h=(o.flags&128)!==0;if(o.flags&=-129,n===null){if(be){if(l.mode==="hidden")return n=pa(o,l),o.lanes=536870912,Fs(null,n);if(wu(o),(n=Be)?(n=qm(n,Yt),n=n!==null&&n.data==="&"?n:null,n!==null&&(o.memoizedState={dehydrated:n,treeContext:ti!==null?{id:un,overflow:cn}:null,retryLane:536870912,hydrationErrors:null},r=ph(n),r.return=o,o.child=r,at=o,Be=null)):n=null,n===null)throw ii(o);return o.lanes=536870912,null}return pa(o,l)}var g=n.memoizedState;if(g!==null){var T=g.dehydrated;if(wu(o),h)if(o.flags&256)o.flags&=-257,o=Mp(n,o,r);else if(o.memoizedState!==null)o.child=n.child,o.flags|=128,o=null;else throw Error(s(558));else if(et||Do(n,o,r,!1),h=(r&n.childLanes)!==0,et||h){if(l=Ge,l!==null&&(T=Ef(l,r),T!==0&&T!==g.retryLane))throw g.retryLane=T,Bi(n,T),At(l,n,T),Ku;Aa(),o=Mp(n,o,r)}else n=g.treeContext,Be=$t(T.nextSibling),at=o,be=!0,ni=null,Yt=!1,n!==null&&yh(o,n),o=pa(o,l),o.flags|=4096;return o}return n=Cn(n.child,{mode:l.mode,children:l.children}),n.ref=o.ref,o.child=n,n.return=o,n}function ma(n,o){var r=o.ref;if(r===null)n!==null&&n.ref!==null&&(o.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(n===null||n.ref!==r)&&(o.flags|=4194816)}}function Xu(n,o,r,l,h){return Ji(o),r=Iu(n,o,r,l,void 0,h),l=Ru(),n!==null&&!et?(Mu(n,o,h),In(n,o,h)):(be&&l&&cu(o),o.flags|=1,ut(n,o,r,h),o.child)}function Dp(n,o,r,l,h,g){return Ji(o),o.updateQueue=null,r=Lh(o,l,r,h),kh(n),l=Ru(),n!==null&&!et?(Mu(n,o,g),In(n,o,g)):(be&&l&&cu(o),o.flags|=1,ut(n,o,r,g),o.child)}function Up(n,o,r,l,h){if(Ji(o),o.stateNode===null){var g=No,T=r.contextType;typeof T=="object"&&T!==null&&(g=lt(T)),g=new r(l,g),o.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Ju,o.stateNode=g,g._reactInternals=o,g=o.stateNode,g.props=l,g.state=o.memoizedState,g.refs={},Eu(o),T=r.contextType,g.context=typeof T=="object"&&T!==null?lt(T):No,g.state=o.memoizedState,T=r.getDerivedStateFromProps,typeof T=="function"&&(Yu(o,r,T,l),g.state=o.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(T=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),T!==g.state&&Ju.enqueueReplaceState(g,g.state,null),Gs(o,l,g,h),Hs(),g.state=o.memoizedState),typeof g.componentDidMount=="function"&&(o.flags|=4194308),l=!0}else if(n===null){g=o.stateNode;var C=o.memoizedProps,A=Zi(r,C);g.props=A;var M=g.context,G=r.contextType;T=No,typeof G=="object"&&G!==null&&(T=lt(G));var B=r.getDerivedStateFromProps;G=typeof B=="function"||typeof g.getSnapshotBeforeUpdate=="function",C=o.pendingProps!==C,G||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(C||M!==T)&&_p(o,g,l,T),si=!1;var D=o.memoizedState;g.state=D,Gs(o,l,g,h),Hs(),M=o.memoizedState,C||D!==M||si?(typeof B=="function"&&(Yu(o,r,B,l),M=o.memoizedState),(A=si||vp(o,r,A,l,D,M,T))?(G||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(o.flags|=4194308)):(typeof g.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=l,o.memoizedState=M),g.props=l,g.state=M,g.context=T,l=A):(typeof g.componentDidMount=="function"&&(o.flags|=4194308),l=!1)}else{g=o.stateNode,Su(n,o),T=o.memoizedProps,G=Zi(r,T),g.props=G,B=o.pendingProps,D=g.context,M=r.contextType,A=No,typeof M=="object"&&M!==null&&(A=lt(M)),C=r.getDerivedStateFromProps,(M=typeof C=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(T!==B||D!==A)&&_p(o,g,l,A),si=!1,D=o.memoizedState,g.state=D,Gs(o,l,g,h),Hs();var O=o.memoizedState;T!==B||D!==O||si||n!==null&&n.dependencies!==null&&Qr(n.dependencies)?(typeof C=="function"&&(Yu(o,r,C,l),O=o.memoizedState),(G=si||vp(o,r,G,l,D,O,A)||n!==null&&n.dependencies!==null&&Qr(n.dependencies))?(M||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(l,O,A),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(l,O,A)),typeof g.componentDidUpdate=="function"&&(o.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof g.componentDidUpdate!="function"||T===n.memoizedProps&&D===n.memoizedState||(o.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&D===n.memoizedState||(o.flags|=1024),o.memoizedProps=l,o.memoizedState=O),g.props=l,g.state=O,g.context=A,l=G):(typeof g.componentDidUpdate!="function"||T===n.memoizedProps&&D===n.memoizedState||(o.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&D===n.memoizedState||(o.flags|=1024),l=!1)}return g=l,ma(n,o),l=(o.flags&128)!==0,g||l?(g=o.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:g.render(),o.flags|=1,n!==null&&l?(o.child=Qi(o,n.child,null,h),o.child=Qi(o,null,r,h)):ut(n,o,r,h),o.memoizedState=g.state,n=o.child):n=In(n,o,h),n}function kp(n,o,r,l){return Fi(),o.flags|=256,ut(n,o,r,l),o.child}var Qu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wu(n){return{baseLanes:n,cachePool:Ch()}}function Zu(n,o,r){return n=n!==null?n.childLanes&~r:0,o&&(n|=Ut),n}function Lp(n,o,r){var l=o.pendingProps,h=!1,g=(o.flags&128)!==0,T;if((T=g)||(T=n!==null&&n.memoizedState===null?!1:(Xe.current&2)!==0),T&&(h=!0,o.flags&=-129),T=(o.flags&32)!==0,o.flags&=-33,n===null){if(be){if(h?li(o):ui(),(n=Be)?(n=qm(n,Yt),n=n!==null&&n.data!=="&"?n:null,n!==null&&(o.memoizedState={dehydrated:n,treeContext:ti!==null?{id:un,overflow:cn}:null,retryLane:536870912,hydrationErrors:null},r=ph(n),r.return=o,o.child=r,at=o,Be=null)):n=null,n===null)throw ii(o);return kc(n)?o.lanes=32:o.lanes=536870912,null}var C=l.children;return l=l.fallback,h?(ui(),h=o.mode,C=ga({mode:"hidden",children:C},h),l=qi(l,h,r,null),C.return=o,l.return=o,C.sibling=l,o.child=C,l=o.child,l.memoizedState=Wu(r),l.childLanes=Zu(n,T,r),o.memoizedState=Qu,Fs(null,l)):(li(o),ju(o,C))}var A=n.memoizedState;if(A!==null&&(C=A.dehydrated,C!==null)){if(g)o.flags&256?(li(o),o.flags&=-257,o=ec(n,o,r)):o.memoizedState!==null?(ui(),o.child=n.child,o.flags|=128,o=null):(ui(),C=l.fallback,h=o.mode,l=ga({mode:"visible",children:l.children},h),C=qi(C,h,r,null),C.flags|=2,l.return=o,C.return=o,l.sibling=C,o.child=l,Qi(o,n.child,null,r),l=o.child,l.memoizedState=Wu(r),l.childLanes=Zu(n,T,r),o.memoizedState=Qu,o=Fs(null,l));else if(li(o),kc(C)){if(T=C.nextSibling&&C.nextSibling.dataset,T)var M=T.dgst;T=M,l=Error(s(419)),l.stack="",l.digest=T,Ds({value:l,source:null,stack:null}),o=ec(n,o,r)}else if(et||Do(n,o,r,!1),T=(r&n.childLanes)!==0,et||T){if(T=Ge,T!==null&&(l=Ef(T,r),l!==0&&l!==A.retryLane))throw A.retryLane=l,Bi(n,l),At(T,n,l),Ku;Uc(C)||Aa(),o=ec(n,o,r)}else Uc(C)?(o.flags|=192,o.child=n.child,o=null):(n=A.treeContext,Be=$t(C.nextSibling),at=o,be=!0,ni=null,Yt=!1,n!==null&&yh(o,n),o=ju(o,l.children),o.flags|=4096);return o}return h?(ui(),C=l.fallback,h=o.mode,A=n.child,M=A.sibling,l=Cn(A,{mode:"hidden",children:l.children}),l.subtreeFlags=A.subtreeFlags&65011712,M!==null?C=Cn(M,C):(C=qi(C,h,r,null),C.flags|=2),C.return=o,l.return=o,l.sibling=C,o.child=l,Fs(null,l),l=o.child,C=n.child.memoizedState,C===null?C=Wu(r):(h=C.cachePool,h!==null?(A=Ze._currentValue,h=h.parent!==A?{parent:A,pool:A}:h):h=Ch(),C={baseLanes:C.baseLanes|r,cachePool:h}),l.memoizedState=C,l.childLanes=Zu(n,T,r),o.memoizedState=Qu,Fs(n.child,l)):(li(o),r=n.child,n=r.sibling,r=Cn(r,{mode:"visible",children:l.children}),r.return=o,r.sibling=null,n!==null&&(T=o.deletions,T===null?(o.deletions=[n],o.flags|=16):T.push(n)),o.child=r,o.memoizedState=null,r)}function ju(n,o){return o=ga({mode:"visible",children:o},n.mode),o.return=n,n.child=o}function ga(n,o){return n=It(22,n,null,o),n.lanes=0,n}function ec(n,o,r){return Qi(o,n.child,null,r),n=ju(o,o.pendingProps.children),n.flags|=2,o.memoizedState=null,n}function Pp(n,o,r){n.lanes|=o;var l=n.alternate;l!==null&&(l.lanes|=o),mu(n.return,o,r)}function tc(n,o,r,l,h,g){var T=n.memoizedState;T===null?n.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:h,treeForkCount:g}:(T.isBackwards=o,T.rendering=null,T.renderingStartTime=0,T.last=l,T.tail=r,T.tailMode=h,T.treeForkCount=g)}function Op(n,o,r){var l=o.pendingProps,h=l.revealOrder,g=l.tail;l=l.children;var T=Xe.current,C=(T&2)!==0;if(C?(T=T&1|2,o.flags|=128):T&=1,X(Xe,T),ut(n,o,l,r),l=be?Ms:0,!C&&n!==null&&(n.flags&128)!==0)e:for(n=o.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Pp(n,r,o);else if(n.tag===19)Pp(n,r,o);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===o)break e;for(;n.sibling===null;){if(n.return===null||n.return===o)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(h){case"forwards":for(r=o.child,h=null;r!==null;)n=r.alternate,n!==null&&oa(n)===null&&(h=r),r=r.sibling;r=h,r===null?(h=o.child,o.child=null):(h=r.sibling,r.sibling=null),tc(o,!1,h,r,g,l);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=o.child,o.child=null;h!==null;){if(n=h.alternate,n!==null&&oa(n)===null){o.child=h;break}n=h.sibling,h.sibling=r,r=h,h=n}tc(o,!0,r,null,g,l);break;case"together":tc(o,!1,null,null,void 0,l);break;default:o.memoizedState=null}return o.child}function In(n,o,r){if(n!==null&&(o.dependencies=n.dependencies),fi|=o.lanes,(r&o.childLanes)===0)if(n!==null){if(Do(n,o,r,!1),(r&o.childLanes)===0)return null}else return null;if(n!==null&&o.child!==n.child)throw Error(s(153));if(o.child!==null){for(n=o.child,r=Cn(n,n.pendingProps),o.child=r,r.return=o;n.sibling!==null;)n=n.sibling,r=r.sibling=Cn(n,n.pendingProps),r.return=o;r.sibling=null}return o.child}function nc(n,o){return(n.lanes&o)!==0?!0:(n=n.dependencies,!!(n!==null&&Qr(n)))}function LE(n,o,r){switch(o.tag){case 3:We(o,o.stateNode.containerInfo),oi(o,Ze,n.memoizedState.cache),Fi();break;case 27:case 5:vn(o);break;case 4:We(o,o.stateNode.containerInfo);break;case 10:oi(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,wu(o),null;break;case 13:var l=o.memoizedState;if(l!==null)return l.dehydrated!==null?(li(o),o.flags|=128,null):(r&o.child.childLanes)!==0?Lp(n,o,r):(li(o),n=In(n,o,r),n!==null?n.sibling:null);li(o);break;case 19:var h=(n.flags&128)!==0;if(l=(r&o.childLanes)!==0,l||(Do(n,o,r,!1),l=(r&o.childLanes)!==0),h){if(l)return Op(n,o,r);o.flags|=128}if(h=o.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),X(Xe,Xe.current),l)break;return null;case 22:return o.lanes=0,Ip(n,o,r,o.pendingProps);case 24:oi(o,Ze,n.memoizedState.cache)}return In(n,o,r)}function Hp(n,o,r){if(n!==null)if(n.memoizedProps!==o.pendingProps)et=!0;else{if(!nc(n,r)&&(o.flags&128)===0)return et=!1,LE(n,o,r);et=(n.flags&131072)!==0}else et=!1,be&&(o.flags&1048576)!==0&&gh(o,Ms,o.index);switch(o.lanes=0,o.tag){case 16:e:{var l=o.pendingProps;if(n=Ki(o.elementType),o.type=n,typeof n=="function")au(n)?(l=Zi(n,l),o.tag=1,o=Up(null,o,n,l,r)):(o.tag=0,o=Xu(null,o,n,l,r));else{if(n!=null){var h=n.$$typeof;if(h===$){o.tag=11,o=bp(null,o,n,l,r);break e}else if(h===K){o.tag=14,o=wp(null,o,n,l,r);break e}}throw o=Fe(n)||n,Error(s(306,o,""))}}return o;case 0:return Xu(n,o,o.type,o.pendingProps,r);case 1:return l=o.type,h=Zi(l,o.pendingProps),Up(n,o,l,h,r);case 3:e:{if(We(o,o.stateNode.containerInfo),n===null)throw Error(s(387));l=o.pendingProps;var g=o.memoizedState;h=g.element,Su(n,o),Gs(o,l,null,r);var T=o.memoizedState;if(l=T.cache,oi(o,Ze,l),l!==g.cache&&gu(o,[Ze],r,!0),Hs(),l=T.element,g.isDehydrated)if(g={element:l,isDehydrated:!1,cache:T.cache},o.updateQueue.baseState=g,o.memoizedState=g,o.flags&256){o=kp(n,o,l,r);break e}else if(l!==h){h=Bt(Error(s(424)),o),Ds(h),o=kp(n,o,l,r);break e}else{switch(n=o.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Be=$t(n.firstChild),at=o,be=!0,ni=null,Yt=!0,r=Ih(o,null,l,r),o.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Fi(),l===h){o=In(n,o,r);break e}ut(n,o,l,r)}o=o.child}return o;case 26:return ma(n,o),n===null?(r=Xm(o.type,null,o.pendingProps,null))?o.memoizedState=r:be||(r=o.type,n=o.pendingProps,l=Da(ye.current).createElement(r),l[rt]=o,l[_t]=n,ct(l,r,n),it(l),o.stateNode=l):o.memoizedState=Xm(o.type,n.memoizedProps,o.pendingProps,n.memoizedState),null;case 27:return vn(o),n===null&&be&&(l=o.stateNode=Jm(o.type,o.pendingProps,ye.current),at=o,Yt=!0,h=Be,yi(o.type)?(Lc=h,Be=$t(l.firstChild)):Be=h),ut(n,o,o.pendingProps.children,r),ma(n,o),n===null&&(o.flags|=4194304),o.child;case 5:return n===null&&be&&((h=l=Be)&&(l=dS(l,o.type,o.pendingProps,Yt),l!==null?(o.stateNode=l,at=o,Be=$t(l.firstChild),Yt=!1,h=!0):h=!1),h||ii(o)),vn(o),h=o.type,g=o.pendingProps,T=n!==null?n.memoizedProps:null,l=g.children,Rc(h,g)?l=null:T!==null&&Rc(h,T)&&(o.flags|=32),o.memoizedState!==null&&(h=Iu(n,o,bE,null,null,r),sr._currentValue=h),ma(n,o),ut(n,o,l,r),o.child;case 6:return n===null&&be&&((n=r=Be)&&(r=fS(r,o.pendingProps,Yt),r!==null?(o.stateNode=r,at=o,Be=null,n=!0):n=!1),n||ii(o)),null;case 13:return Lp(n,o,r);case 4:return We(o,o.stateNode.containerInfo),l=o.pendingProps,n===null?o.child=Qi(o,null,l,r):ut(n,o,l,r),o.child;case 11:return bp(n,o,o.type,o.pendingProps,r);case 7:return ut(n,o,o.pendingProps,r),o.child;case 8:return ut(n,o,o.pendingProps.children,r),o.child;case 12:return ut(n,o,o.pendingProps.children,r),o.child;case 10:return l=o.pendingProps,oi(o,o.type,l.value),ut(n,o,l.children,r),o.child;case 9:return h=o.type._context,l=o.pendingProps.children,Ji(o),h=lt(h),l=l(h),o.flags|=1,ut(n,o,l,r),o.child;case 14:return wp(n,o,o.type,o.pendingProps,r);case 15:return Np(n,o,o.type,o.pendingProps,r);case 19:return Op(n,o,r);case 31:return kE(n,o,r);case 22:return Ip(n,o,r,o.pendingProps);case 24:return Ji(o),l=lt(Ze),n===null?(h=_u(),h===null&&(h=Ge,g=yu(),h.pooledCache=g,g.refCount++,g!==null&&(h.pooledCacheLanes|=r),h=g),o.memoizedState={parent:l,cache:h},Eu(o),oi(o,Ze,h)):((n.lanes&r)!==0&&(Su(n,o),Gs(o,null,null,r),Hs()),h=n.memoizedState,g=o.memoizedState,h.parent!==l?(h={parent:l,cache:l},o.memoizedState=h,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=h),oi(o,Ze,l)):(l=g.cache,oi(o,Ze,l),l!==h.cache&&gu(o,[Ze],r,!0))),ut(n,o,o.pendingProps.children,r),o.child;case 29:throw o.pendingProps}throw Error(s(156,o.tag))}function Rn(n){n.flags|=4}function ic(n,o,r,l,h){if((o=(n.mode&32)!==0)&&(o=!1),o){if(n.flags|=16777216,(h&335544128)===h)if(n.stateNode.complete)n.flags|=8192;else if(dm())n.flags|=8192;else throw Xi=ea,Tu}else n.flags&=-16777217}function Gp(n,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!eg(o))if(dm())n.flags|=8192;else throw Xi=ea,Tu}function ya(n,o){o!==null&&(n.flags|=4),n.flags&16384&&(o=n.tag!==22?vf():536870912,n.lanes|=o,Fo|=o)}function Ys(n,o){if(!be)switch(n.tailMode){case"hidden":o=n.tail;for(var r=null;o!==null;)o.alternate!==null&&(r=o),o=o.sibling;r===null?n.tail=null:r.sibling=null;break;case"collapsed":r=n.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?o||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function qe(n){var o=n.alternate!==null&&n.alternate.child===n.child,r=0,l=0;if(o)for(var h=n.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=n,h=h.sibling;else for(h=n.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=n,h=h.sibling;return n.subtreeFlags|=l,n.childLanes=r,o}function PE(n,o,r){var l=o.pendingProps;switch(du(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qe(o),null;case 1:return qe(o),null;case 3:return r=o.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),o.memoizedState.cache!==l&&(o.flags|=2048),bn(Ze),Ve(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(Mo(o)?Rn(o):n===null||n.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,hu())),qe(o),null;case 26:var h=o.type,g=o.memoizedState;return n===null?(Rn(o),g!==null?(qe(o),Gp(o,g)):(qe(o),ic(o,h,null,l,r))):g?g!==n.memoizedState?(Rn(o),qe(o),Gp(o,g)):(qe(o),o.flags&=-16777217):(n=n.memoizedProps,n!==l&&Rn(o),qe(o),ic(o,h,n,l,r)),null;case 27:if(Qn(o),r=ye.current,h=o.type,n!==null&&o.stateNode!=null)n.memoizedProps!==l&&Rn(o);else{if(!l){if(o.stateNode===null)throw Error(s(166));return qe(o),null}n=j.current,Mo(o)?vh(o):(n=Jm(h,l,r),o.stateNode=n,Rn(o))}return qe(o),null;case 5:if(Qn(o),h=o.type,n!==null&&o.stateNode!=null)n.memoizedProps!==l&&Rn(o);else{if(!l){if(o.stateNode===null)throw Error(s(166));return qe(o),null}if(g=j.current,Mo(o))vh(o);else{var T=Da(ye.current);switch(g){case 1:g=T.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:g=T.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":g=T.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":g=T.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":g=T.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof l.is=="string"?T.createElement("select",{is:l.is}):T.createElement("select"),l.multiple?g.multiple=!0:l.size&&(g.size=l.size);break;default:g=typeof l.is=="string"?T.createElement(h,{is:l.is}):T.createElement(h)}}g[rt]=o,g[_t]=l;e:for(T=o.child;T!==null;){if(T.tag===5||T.tag===6)g.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===o)break e;for(;T.sibling===null;){if(T.return===null||T.return===o)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}o.stateNode=g;e:switch(ct(g,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Rn(o)}}return qe(o),ic(o,o.type,n===null?null:n.memoizedProps,o.pendingProps,r),null;case 6:if(n&&o.stateNode!=null)n.memoizedProps!==l&&Rn(o);else{if(typeof l!="string"&&o.stateNode===null)throw Error(s(166));if(n=ye.current,Mo(o)){if(n=o.stateNode,r=o.memoizedProps,l=null,h=at,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}n[rt]=o,n=!!(n.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||Lm(n.nodeValue,r)),n||ii(o,!0)}else n=Da(n).createTextNode(l),n[rt]=o,o.stateNode=n}return qe(o),null;case 31:if(r=o.memoizedState,n===null||n.memoizedState!==null){if(l=Mo(o),r!==null){if(n===null){if(!l)throw Error(s(318));if(n=o.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(557));n[rt]=o}else Fi(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;qe(o),n=!1}else r=hu(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=r),n=!0;if(!n)return o.flags&256?(Mt(o),o):(Mt(o),null);if((o.flags&128)!==0)throw Error(s(558))}return qe(o),null;case 13:if(l=o.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(h=Mo(o),l!==null&&l.dehydrated!==null){if(n===null){if(!h)throw Error(s(318));if(h=o.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[rt]=o}else Fi(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;qe(o),h=!1}else h=hu(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=h),h=!0;if(!h)return o.flags&256?(Mt(o),o):(Mt(o),null)}return Mt(o),(o.flags&128)!==0?(o.lanes=r,o):(r=l!==null,n=n!==null&&n.memoizedState!==null,r&&(l=o.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),g=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(g=l.memoizedState.cachePool.pool),g!==h&&(l.flags|=2048)),r!==n&&r&&(o.child.flags|=8192),ya(o,o.updateQueue),qe(o),null);case 4:return Ve(),n===null&&Ac(o.stateNode.containerInfo),qe(o),null;case 10:return bn(o.type),qe(o),null;case 19:if(V(Xe),l=o.memoizedState,l===null)return qe(o),null;if(h=(o.flags&128)!==0,g=l.rendering,g===null)if(h)Ys(l,!1);else{if(Ke!==0||n!==null&&(n.flags&128)!==0)for(n=o.child;n!==null;){if(g=oa(n),g!==null){for(o.flags|=128,Ys(l,!1),n=g.updateQueue,o.updateQueue=n,ya(o,n),o.subtreeFlags=0,n=r,r=o.child;r!==null;)hh(r,n),r=r.sibling;return X(Xe,Xe.current&1|2),be&&xn(o,l.treeForkCount),o.child}n=n.sibling}l.tail!==null&&ee()>Sa&&(o.flags|=128,h=!0,Ys(l,!1),o.lanes=4194304)}else{if(!h)if(n=oa(g),n!==null){if(o.flags|=128,h=!0,n=n.updateQueue,o.updateQueue=n,ya(o,n),Ys(l,!0),l.tail===null&&l.tailMode==="hidden"&&!g.alternate&&!be)return qe(o),null}else 2*ee()-l.renderingStartTime>Sa&&r!==536870912&&(o.flags|=128,h=!0,Ys(l,!1),o.lanes=4194304);l.isBackwards?(g.sibling=o.child,o.child=g):(n=l.last,n!==null?n.sibling=g:o.child=g,l.last=g)}return l.tail!==null?(n=l.tail,l.rendering=n,l.tail=n.sibling,l.renderingStartTime=ee(),n.sibling=null,r=Xe.current,X(Xe,h?r&1|2:r&1),be&&xn(o,l.treeForkCount),n):(qe(o),null);case 22:case 23:return Mt(o),bu(),l=o.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(o.flags|=8192):l&&(o.flags|=8192),l?(r&536870912)!==0&&(o.flags&128)===0&&(qe(o),o.subtreeFlags&6&&(o.flags|=8192)):qe(o),r=o.updateQueue,r!==null&&ya(o,r.retryQueue),r=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(r=n.memoizedState.cachePool.pool),l=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(l=o.memoizedState.cachePool.pool),l!==r&&(o.flags|=2048),n!==null&&V($i),null;case 24:return r=null,n!==null&&(r=n.memoizedState.cache),o.memoizedState.cache!==r&&(o.flags|=2048),bn(Ze),qe(o),null;case 25:return null;case 30:return null}throw Error(s(156,o.tag))}function OE(n,o){switch(du(o),o.tag){case 1:return n=o.flags,n&65536?(o.flags=n&-65537|128,o):null;case 3:return bn(Ze),Ve(),n=o.flags,(n&65536)!==0&&(n&128)===0?(o.flags=n&-65537|128,o):null;case 26:case 27:case 5:return Qn(o),null;case 31:if(o.memoizedState!==null){if(Mt(o),o.alternate===null)throw Error(s(340));Fi()}return n=o.flags,n&65536?(o.flags=n&-65537|128,o):null;case 13:if(Mt(o),n=o.memoizedState,n!==null&&n.dehydrated!==null){if(o.alternate===null)throw Error(s(340));Fi()}return n=o.flags,n&65536?(o.flags=n&-65537|128,o):null;case 19:return V(Xe),null;case 4:return Ve(),null;case 10:return bn(o.type),null;case 22:case 23:return Mt(o),bu(),n!==null&&V($i),n=o.flags,n&65536?(o.flags=n&-65537|128,o):null;case 24:return bn(Ze),null;case 25:return null;default:return null}}function zp(n,o){switch(du(o),o.tag){case 3:bn(Ze),Ve();break;case 26:case 27:case 5:Qn(o);break;case 4:Ve();break;case 31:o.memoizedState!==null&&Mt(o);break;case 13:Mt(o);break;case 19:V(Xe);break;case 10:bn(o.type);break;case 22:case 23:Mt(o),bu(),n!==null&&V($i);break;case 24:bn(Ze)}}function Js(n,o){try{var r=o.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var h=l.next;r=h;do{if((r.tag&n)===n){l=void 0;var g=r.create,T=r.inst;l=g(),T.destroy=l}r=r.next}while(r!==h)}}catch(C){Le(o,o.return,C)}}function ci(n,o,r){try{var l=o.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var g=h.next;l=g;do{if((l.tag&n)===n){var T=l.inst,C=T.destroy;if(C!==void 0){T.destroy=void 0,h=o;var A=r,M=C;try{M()}catch(G){Le(h,A,G)}}}l=l.next}while(l!==g)}}catch(G){Le(o,o.return,G)}}function Vp(n){var o=n.updateQueue;if(o!==null){var r=n.stateNode;try{Mh(o,r)}catch(l){Le(n,n.return,l)}}}function Bp(n,o,r){r.props=Zi(n.type,n.memoizedProps),r.state=n.memoizedState;try{r.componentWillUnmount()}catch(l){Le(n,o,l)}}function $s(n,o){try{var r=n.ref;if(r!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof r=="function"?n.refCleanup=r(l):r.current=l}}catch(h){Le(n,o,h)}}function dn(n,o){var r=n.ref,l=n.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(h){Le(n,o,h)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){Le(n,o,h)}else r.current=null}function qp(n){var o=n.type,r=n.memoizedProps,l=n.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(h){Le(n,n.return,h)}}function oc(n,o,r){try{var l=n.stateNode;sS(l,n.type,r,o),l[_t]=o}catch(h){Le(n,n.return,h)}}function Fp(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&yi(n.type)||n.tag===4}function sc(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Fp(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&yi(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function rc(n,o,r){var l=n.tag;if(l===5||l===6)n=n.stateNode,o?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(n,o):(o=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.appendChild(n),r=r._reactRootContainer,r!=null||o.onclick!==null||(o.onclick=En));else if(l!==4&&(l===27&&yi(n.type)&&(r=n.stateNode,o=null),n=n.child,n!==null))for(rc(n,o,r),n=n.sibling;n!==null;)rc(n,o,r),n=n.sibling}function va(n,o,r){var l=n.tag;if(l===5||l===6)n=n.stateNode,o?r.insertBefore(n,o):r.appendChild(n);else if(l!==4&&(l===27&&yi(n.type)&&(r=n.stateNode),n=n.child,n!==null))for(va(n,o,r),n=n.sibling;n!==null;)va(n,o,r),n=n.sibling}function Yp(n){var o=n.stateNode,r=n.memoizedProps;try{for(var l=n.type,h=o.attributes;h.length;)o.removeAttributeNode(h[0]);ct(o,l,r),o[rt]=n,o[_t]=r}catch(g){Le(n,n.return,g)}}var Mn=!1,tt=!1,ac=!1,Jp=typeof WeakSet=="function"?WeakSet:Set,ot=null;function HE(n,o){if(n=n.containerInfo,Nc=Ga,n=oh(n),eu(n)){if("selectionStart"in n)var r={start:n.selectionStart,end:n.selectionEnd};else e:{r=(r=n.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var h=l.anchorOffset,g=l.focusNode;l=l.focusOffset;try{r.nodeType,g.nodeType}catch{r=null;break e}var T=0,C=-1,A=-1,M=0,G=0,B=n,D=null;t:for(;;){for(var O;B!==r||h!==0&&B.nodeType!==3||(C=T+h),B!==g||l!==0&&B.nodeType!==3||(A=T+l),B.nodeType===3&&(T+=B.nodeValue.length),(O=B.firstChild)!==null;)D=B,B=O;for(;;){if(B===n)break t;if(D===r&&++M===h&&(C=T),D===g&&++G===l&&(A=T),(O=B.nextSibling)!==null)break;B=D,D=B.parentNode}B=O}r=C===-1||A===-1?null:{start:C,end:A}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ic={focusedElem:n,selectionRange:r},Ga=!1,ot=o;ot!==null;)if(o=ot,n=o.child,(o.subtreeFlags&1028)!==0&&n!==null)n.return=o,ot=n;else for(;ot!==null;){switch(o=ot,g=o.alternate,n=o.flags,o.tag){case 0:if((n&4)!==0&&(n=o.updateQueue,n=n!==null?n.events:null,n!==null))for(r=0;r<n.length;r++)h=n[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&g!==null){n=void 0,r=o,h=g.memoizedProps,g=g.memoizedState,l=r.stateNode;try{var ne=Zi(r.type,h);n=l.getSnapshotBeforeUpdate(ne,g),l.__reactInternalSnapshotBeforeUpdate=n}catch(ae){Le(r,r.return,ae)}}break;case 3:if((n&1024)!==0){if(n=o.stateNode.containerInfo,r=n.nodeType,r===9)Dc(n);else if(r===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Dc(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=o.sibling,n!==null){n.return=o.return,ot=n;break}ot=o.return}}function $p(n,o,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:Un(n,r),l&4&&Js(5,r);break;case 1:if(Un(n,r),l&4)if(n=r.stateNode,o===null)try{n.componentDidMount()}catch(T){Le(r,r.return,T)}else{var h=Zi(r.type,o.memoizedProps);o=o.memoizedState;try{n.componentDidUpdate(h,o,n.__reactInternalSnapshotBeforeUpdate)}catch(T){Le(r,r.return,T)}}l&64&&Vp(r),l&512&&$s(r,r.return);break;case 3:if(Un(n,r),l&64&&(n=r.updateQueue,n!==null)){if(o=null,r.child!==null)switch(r.child.tag){case 27:case 5:o=r.child.stateNode;break;case 1:o=r.child.stateNode}try{Mh(n,o)}catch(T){Le(r,r.return,T)}}break;case 27:o===null&&l&4&&Yp(r);case 26:case 5:Un(n,r),o===null&&l&4&&qp(r),l&512&&$s(r,r.return);break;case 12:Un(n,r);break;case 31:Un(n,r),l&4&&Qp(n,r);break;case 13:Un(n,r),l&4&&Wp(n,r),l&64&&(n=r.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(r=$E.bind(null,r),hS(n,r))));break;case 22:if(l=r.memoizedState!==null||Mn,!l){o=o!==null&&o.memoizedState!==null||tt,h=Mn;var g=tt;Mn=l,(tt=o)&&!g?kn(n,r,(r.subtreeFlags&8772)!==0):Un(n,r),Mn=h,tt=g}break;case 30:break;default:Un(n,r)}}function Kp(n){var o=n.alternate;o!==null&&(n.alternate=null,Kp(o)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(o=n.stateNode,o!==null&&Ol(o)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Ye=null,Et=!1;function Dn(n,o,r){for(r=r.child;r!==null;)Xp(n,o,r),r=r.sibling}function Xp(n,o,r){if(bt&&typeof bt.onCommitFiberUnmount=="function")try{bt.onCommitFiberUnmount(ys,r)}catch{}switch(r.tag){case 26:tt||dn(r,o),Dn(n,o,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:tt||dn(r,o);var l=Ye,h=Et;yi(r.type)&&(Ye=r.stateNode,Et=!1),Dn(n,o,r),nr(r.stateNode),Ye=l,Et=h;break;case 5:tt||dn(r,o);case 6:if(l=Ye,h=Et,Ye=null,Dn(n,o,r),Ye=l,Et=h,Ye!==null)if(Et)try{(Ye.nodeType===9?Ye.body:Ye.nodeName==="HTML"?Ye.ownerDocument.body:Ye).removeChild(r.stateNode)}catch(g){Le(r,o,g)}else try{Ye.removeChild(r.stateNode)}catch(g){Le(r,o,g)}break;case 18:Ye!==null&&(Et?(n=Ye,Vm(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,r.stateNode),Zo(n)):Vm(Ye,r.stateNode));break;case 4:l=Ye,h=Et,Ye=r.stateNode.containerInfo,Et=!0,Dn(n,o,r),Ye=l,Et=h;break;case 0:case 11:case 14:case 15:ci(2,r,o),tt||ci(4,r,o),Dn(n,o,r);break;case 1:tt||(dn(r,o),l=r.stateNode,typeof l.componentWillUnmount=="function"&&Bp(r,o,l)),Dn(n,o,r);break;case 21:Dn(n,o,r);break;case 22:tt=(l=tt)||r.memoizedState!==null,Dn(n,o,r),tt=l;break;default:Dn(n,o,r)}}function Qp(n,o){if(o.memoizedState===null&&(n=o.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{Zo(n)}catch(r){Le(o,o.return,r)}}}function Wp(n,o){if(o.memoizedState===null&&(n=o.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Zo(n)}catch(r){Le(o,o.return,r)}}function GE(n){switch(n.tag){case 31:case 13:case 19:var o=n.stateNode;return o===null&&(o=n.stateNode=new Jp),o;case 22:return n=n.stateNode,o=n._retryCache,o===null&&(o=n._retryCache=new Jp),o;default:throw Error(s(435,n.tag))}}function _a(n,o){var r=GE(n);o.forEach(function(l){if(!r.has(l)){r.add(l);var h=KE.bind(null,n,l);l.then(h,h)}})}function St(n,o){var r=o.deletions;if(r!==null)for(var l=0;l<r.length;l++){var h=r[l],g=n,T=o,C=T;e:for(;C!==null;){switch(C.tag){case 27:if(yi(C.type)){Ye=C.stateNode,Et=!1;break e}break;case 5:Ye=C.stateNode,Et=!1;break e;case 3:case 4:Ye=C.stateNode.containerInfo,Et=!0;break e}C=C.return}if(Ye===null)throw Error(s(160));Xp(g,T,h),Ye=null,Et=!1,g=h.alternate,g!==null&&(g.return=null),h.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)Zp(o,n),o=o.sibling}var jt=null;function Zp(n,o){var r=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:St(o,n),Ct(n),l&4&&(ci(3,n,n.return),Js(3,n),ci(5,n,n.return));break;case 1:St(o,n),Ct(n),l&512&&(tt||r===null||dn(r,r.return)),l&64&&Mn&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(r=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var h=jt;if(St(o,n),Ct(n),l&512&&(tt||r===null||dn(r,r.return)),l&4){var g=r!==null?r.memoizedState:null;if(l=n.memoizedState,r===null)if(l===null)if(n.stateNode===null){e:{l=n.type,r=n.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":g=h.getElementsByTagName("title")[0],(!g||g[Ts]||g[rt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=h.createElement(l),h.head.insertBefore(g,h.querySelector("head > title"))),ct(g,l,r),g[rt]=n,it(g),l=g;break e;case"link":var T=Zm("link","href",h).get(l+(r.href||""));if(T){for(var C=0;C<T.length;C++)if(g=T[C],g.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&g.getAttribute("rel")===(r.rel==null?null:r.rel)&&g.getAttribute("title")===(r.title==null?null:r.title)&&g.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){T.splice(C,1);break t}}g=h.createElement(l),ct(g,l,r),h.head.appendChild(g);break;case"meta":if(T=Zm("meta","content",h).get(l+(r.content||""))){for(C=0;C<T.length;C++)if(g=T[C],g.getAttribute("content")===(r.content==null?null:""+r.content)&&g.getAttribute("name")===(r.name==null?null:r.name)&&g.getAttribute("property")===(r.property==null?null:r.property)&&g.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&g.getAttribute("charset")===(r.charSet==null?null:r.charSet)){T.splice(C,1);break t}}g=h.createElement(l),ct(g,l,r),h.head.appendChild(g);break;default:throw Error(s(468,l))}g[rt]=n,it(g),l=g}n.stateNode=l}else jm(h,n.type,n.stateNode);else n.stateNode=Wm(h,l,n.memoizedProps);else g!==l?(g===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):g.count--,l===null?jm(h,n.type,n.stateNode):Wm(h,l,n.memoizedProps)):l===null&&n.stateNode!==null&&oc(n,n.memoizedProps,r.memoizedProps)}break;case 27:St(o,n),Ct(n),l&512&&(tt||r===null||dn(r,r.return)),r!==null&&l&4&&oc(n,n.memoizedProps,r.memoizedProps);break;case 5:if(St(o,n),Ct(n),l&512&&(tt||r===null||dn(r,r.return)),n.flags&32){h=n.stateNode;try{Eo(h,"")}catch(ne){Le(n,n.return,ne)}}l&4&&n.stateNode!=null&&(h=n.memoizedProps,oc(n,h,r!==null?r.memoizedProps:h)),l&1024&&(ac=!0);break;case 6:if(St(o,n),Ct(n),l&4){if(n.stateNode===null)throw Error(s(162));l=n.memoizedProps,r=n.stateNode;try{r.nodeValue=l}catch(ne){Le(n,n.return,ne)}}break;case 3:if(La=null,h=jt,jt=Ua(o.containerInfo),St(o,n),jt=h,Ct(n),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Zo(o.containerInfo)}catch(ne){Le(n,n.return,ne)}ac&&(ac=!1,jp(n));break;case 4:l=jt,jt=Ua(n.stateNode.containerInfo),St(o,n),Ct(n),jt=l;break;case 12:St(o,n),Ct(n);break;case 31:St(o,n),Ct(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,_a(n,l)));break;case 13:St(o,n),Ct(n),n.child.flags&8192&&n.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Ea=ee()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,_a(n,l)));break;case 22:h=n.memoizedState!==null;var A=r!==null&&r.memoizedState!==null,M=Mn,G=tt;if(Mn=M||h,tt=G||A,St(o,n),tt=G,Mn=M,Ct(n),l&8192)e:for(o=n.stateNode,o._visibility=h?o._visibility&-2:o._visibility|1,h&&(r===null||A||Mn||tt||ji(n)),r=null,o=n;;){if(o.tag===5||o.tag===26){if(r===null){A=r=o;try{if(g=A.stateNode,h)T=g.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{C=A.stateNode;var B=A.memoizedProps.style,D=B!=null&&B.hasOwnProperty("display")?B.display:null;C.style.display=D==null||typeof D=="boolean"?"":(""+D).trim()}}catch(ne){Le(A,A.return,ne)}}}else if(o.tag===6){if(r===null){A=o;try{A.stateNode.nodeValue=h?"":A.memoizedProps}catch(ne){Le(A,A.return,ne)}}}else if(o.tag===18){if(r===null){A=o;try{var O=A.stateNode;h?Bm(O,!0):Bm(A.stateNode,!1)}catch(ne){Le(A,A.return,ne)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===n)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===n)break e;for(;o.sibling===null;){if(o.return===null||o.return===n)break e;r===o&&(r=null),o=o.return}r===o&&(r=null),o.sibling.return=o.return,o=o.sibling}l&4&&(l=n.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,_a(n,r))));break;case 19:St(o,n),Ct(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,_a(n,l)));break;case 30:break;case 21:break;default:St(o,n),Ct(n)}}function Ct(n){var o=n.flags;if(o&2){try{for(var r,l=n.return;l!==null;){if(Fp(l)){r=l;break}l=l.return}if(r==null)throw Error(s(160));switch(r.tag){case 27:var h=r.stateNode,g=sc(n);va(n,g,h);break;case 5:var T=r.stateNode;r.flags&32&&(Eo(T,""),r.flags&=-33);var C=sc(n);va(n,C,T);break;case 3:case 4:var A=r.stateNode.containerInfo,M=sc(n);rc(n,M,A);break;default:throw Error(s(161))}}catch(G){Le(n,n.return,G)}n.flags&=-3}o&4096&&(n.flags&=-4097)}function jp(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var o=n;jp(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),n=n.sibling}}function Un(n,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)$p(n,o.alternate,o),o=o.sibling}function ji(n){for(n=n.child;n!==null;){var o=n;switch(o.tag){case 0:case 11:case 14:case 15:ci(4,o,o.return),ji(o);break;case 1:dn(o,o.return);var r=o.stateNode;typeof r.componentWillUnmount=="function"&&Bp(o,o.return,r),ji(o);break;case 27:nr(o.stateNode);case 26:case 5:dn(o,o.return),ji(o);break;case 22:o.memoizedState===null&&ji(o);break;case 30:ji(o);break;default:ji(o)}n=n.sibling}}function kn(n,o,r){for(r=r&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var l=o.alternate,h=n,g=o,T=g.flags;switch(g.tag){case 0:case 11:case 15:kn(h,g,r),Js(4,g);break;case 1:if(kn(h,g,r),l=g,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(M){Le(l,l.return,M)}if(l=g,h=l.updateQueue,h!==null){var C=l.stateNode;try{var A=h.shared.hiddenCallbacks;if(A!==null)for(h.shared.hiddenCallbacks=null,h=0;h<A.length;h++)Rh(A[h],C)}catch(M){Le(l,l.return,M)}}r&&T&64&&Vp(g),$s(g,g.return);break;case 27:Yp(g);case 26:case 5:kn(h,g,r),r&&l===null&&T&4&&qp(g),$s(g,g.return);break;case 12:kn(h,g,r);break;case 31:kn(h,g,r),r&&T&4&&Qp(h,g);break;case 13:kn(h,g,r),r&&T&4&&Wp(h,g);break;case 22:g.memoizedState===null&&kn(h,g,r),$s(g,g.return);break;case 30:break;default:kn(h,g,r)}o=o.sibling}}function lc(n,o){var r=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(r=n.memoizedState.cachePool.pool),n=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(n=o.memoizedState.cachePool.pool),n!==r&&(n!=null&&n.refCount++,r!=null&&Us(r))}function uc(n,o){n=null,o.alternate!==null&&(n=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==n&&(o.refCount++,n!=null&&Us(n))}function en(n,o,r,l){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)em(n,o,r,l),o=o.sibling}function em(n,o,r,l){var h=o.flags;switch(o.tag){case 0:case 11:case 15:en(n,o,r,l),h&2048&&Js(9,o);break;case 1:en(n,o,r,l);break;case 3:en(n,o,r,l),h&2048&&(n=null,o.alternate!==null&&(n=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==n&&(o.refCount++,n!=null&&Us(n)));break;case 12:if(h&2048){en(n,o,r,l),n=o.stateNode;try{var g=o.memoizedProps,T=g.id,C=g.onPostCommit;typeof C=="function"&&C(T,o.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(A){Le(o,o.return,A)}}else en(n,o,r,l);break;case 31:en(n,o,r,l);break;case 13:en(n,o,r,l);break;case 23:break;case 22:g=o.stateNode,T=o.alternate,o.memoizedState!==null?g._visibility&2?en(n,o,r,l):Ks(n,o):g._visibility&2?en(n,o,r,l):(g._visibility|=2,Vo(n,o,r,l,(o.subtreeFlags&10256)!==0||!1)),h&2048&&lc(T,o);break;case 24:en(n,o,r,l),h&2048&&uc(o.alternate,o);break;default:en(n,o,r,l)}}function Vo(n,o,r,l,h){for(h=h&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var g=n,T=o,C=r,A=l,M=T.flags;switch(T.tag){case 0:case 11:case 15:Vo(g,T,C,A,h),Js(8,T);break;case 23:break;case 22:var G=T.stateNode;T.memoizedState!==null?G._visibility&2?Vo(g,T,C,A,h):Ks(g,T):(G._visibility|=2,Vo(g,T,C,A,h)),h&&M&2048&&lc(T.alternate,T);break;case 24:Vo(g,T,C,A,h),h&&M&2048&&uc(T.alternate,T);break;default:Vo(g,T,C,A,h)}o=o.sibling}}function Ks(n,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var r=n,l=o,h=l.flags;switch(l.tag){case 22:Ks(r,l),h&2048&&lc(l.alternate,l);break;case 24:Ks(r,l),h&2048&&uc(l.alternate,l);break;default:Ks(r,l)}o=o.sibling}}var Xs=8192;function Bo(n,o,r){if(n.subtreeFlags&Xs)for(n=n.child;n!==null;)tm(n,o,r),n=n.sibling}function tm(n,o,r){switch(n.tag){case 26:Bo(n,o,r),n.flags&Xs&&n.memoizedState!==null&&AS(r,jt,n.memoizedState,n.memoizedProps);break;case 5:Bo(n,o,r);break;case 3:case 4:var l=jt;jt=Ua(n.stateNode.containerInfo),Bo(n,o,r),jt=l;break;case 22:n.memoizedState===null&&(l=n.alternate,l!==null&&l.memoizedState!==null?(l=Xs,Xs=16777216,Bo(n,o,r),Xs=l):Bo(n,o,r));break;default:Bo(n,o,r)}}function nm(n){var o=n.alternate;if(o!==null&&(n=o.child,n!==null)){o.child=null;do o=n.sibling,n.sibling=null,n=o;while(n!==null)}}function Qs(n){var o=n.deletions;if((n.flags&16)!==0){if(o!==null)for(var r=0;r<o.length;r++){var l=o[r];ot=l,om(l,n)}nm(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)im(n),n=n.sibling}function im(n){switch(n.tag){case 0:case 11:case 15:Qs(n),n.flags&2048&&ci(9,n,n.return);break;case 3:Qs(n);break;case 12:Qs(n);break;case 22:var o=n.stateNode;n.memoizedState!==null&&o._visibility&2&&(n.return===null||n.return.tag!==13)?(o._visibility&=-3,Ta(n)):Qs(n);break;default:Qs(n)}}function Ta(n){var o=n.deletions;if((n.flags&16)!==0){if(o!==null)for(var r=0;r<o.length;r++){var l=o[r];ot=l,om(l,n)}nm(n)}for(n=n.child;n!==null;){switch(o=n,o.tag){case 0:case 11:case 15:ci(8,o,o.return),Ta(o);break;case 22:r=o.stateNode,r._visibility&2&&(r._visibility&=-3,Ta(o));break;default:Ta(o)}n=n.sibling}}function om(n,o){for(;ot!==null;){var r=ot;switch(r.tag){case 0:case 11:case 15:ci(8,r,o);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Us(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,ot=l;else e:for(r=n;ot!==null;){l=ot;var h=l.sibling,g=l.return;if(Kp(l),l===r){ot=null;break e}if(h!==null){h.return=g,ot=h;break e}ot=g}}}var zE={getCacheForType:function(n){var o=lt(Ze),r=o.data.get(n);return r===void 0&&(r=n(),o.data.set(n,r)),r},cacheSignal:function(){return lt(Ze).controller.signal}},VE=typeof WeakMap=="function"?WeakMap:Map,De=0,Ge=null,Ee=null,Ce=0,ke=0,Dt=null,di=!1,qo=!1,cc=!1,Ln=0,Ke=0,fi=0,eo=0,dc=0,Ut=0,Fo=0,Ws=null,xt=null,fc=!1,Ea=0,sm=0,Sa=1/0,Ca=null,hi=null,nt=0,pi=null,Yo=null,Pn=0,hc=0,pc=null,rm=null,Zs=0,mc=null;function kt(){return(De&2)!==0&&Ce!==0?Ce&-Ce:H.T!==null?Ec():Sf()}function am(){if(Ut===0)if((Ce&536870912)===0||be){var n=Mr;Mr<<=1,(Mr&3932160)===0&&(Mr=262144),Ut=n}else Ut=536870912;return n=Rt.current,n!==null&&(n.flags|=32),Ut}function At(n,o,r){(n===Ge&&(ke===2||ke===9)||n.cancelPendingCommit!==null)&&(Jo(n,0),mi(n,Ce,Ut,!1)),_s(n,r),((De&2)===0||n!==Ge)&&(n===Ge&&((De&2)===0&&(eo|=r),Ke===4&&mi(n,Ce,Ut,!1)),fn(n))}function lm(n,o,r){if((De&6)!==0)throw Error(s(327));var l=!r&&(o&127)===0&&(o&n.expiredLanes)===0||vs(n,o),h=l?FE(n,o):yc(n,o,!0),g=l;do{if(h===0){qo&&!l&&mi(n,o,0,!1);break}else{if(r=n.current.alternate,g&&!BE(r)){h=yc(n,o,!1),g=!1;continue}if(h===2){if(g=o,n.errorRecoveryDisabledLanes&g)var T=0;else T=n.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){o=T;e:{var C=n;h=Ws;var A=C.current.memoizedState.isDehydrated;if(A&&(Jo(C,T).flags|=256),T=yc(C,T,!1),T!==2){if(cc&&!A){C.errorRecoveryDisabledLanes|=g,eo|=g,h=4;break e}g=xt,xt=h,g!==null&&(xt===null?xt=g:xt.push.apply(xt,g))}h=T}if(g=!1,h!==2)continue}}if(h===1){Jo(n,0),mi(n,o,0,!0);break}e:{switch(l=n,g=h,g){case 0:case 1:throw Error(s(345));case 4:if((o&4194048)!==o)break;case 6:mi(l,o,Ut,!di);break e;case 2:xt=null;break;case 3:case 5:break;default:throw Error(s(329))}if((o&62914560)===o&&(h=Ea+300-ee(),10<h)){if(mi(l,o,Ut,!di),Ur(l,0,!0)!==0)break e;Pn=o,l.timeoutHandle=Gm(um.bind(null,l,r,xt,Ca,fc,o,Ut,eo,Fo,di,g,"Throttled",-0,0),h);break e}um(l,r,xt,Ca,fc,o,Ut,eo,Fo,di,g,null,-0,0)}}break}while(!0);fn(n)}function um(n,o,r,l,h,g,T,C,A,M,G,B,D,O){if(n.timeoutHandle=-1,B=o.subtreeFlags,B&8192||(B&16785408)===16785408){B={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:En},tm(o,g,B);var ne=(g&62914560)===g?Ea-ee():(g&4194048)===g?sm-ee():0;if(ne=bS(B,ne),ne!==null){Pn=g,n.cancelPendingCommit=ne(ym.bind(null,n,o,g,r,l,h,T,C,A,G,B,null,D,O)),mi(n,g,T,!M);return}}ym(n,o,g,r,l,h,T,C,A)}function BE(n){for(var o=n;;){var r=o.tag;if((r===0||r===11||r===15)&&o.flags&16384&&(r=o.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var h=r[l],g=h.getSnapshot;h=h.value;try{if(!Nt(g(),h))return!1}catch{return!1}}if(r=o.child,o.subtreeFlags&16384&&r!==null)r.return=o,o=r;else{if(o===n)break;for(;o.sibling===null;){if(o.return===null||o.return===n)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function mi(n,o,r,l){o&=~dc,o&=~eo,n.suspendedLanes|=o,n.pingedLanes&=~o,l&&(n.warmLanes|=o),l=n.expirationTimes;for(var h=o;0<h;){var g=31-wt(h),T=1<<g;l[g]=-1,h&=~T}r!==0&&_f(n,r,o)}function xa(){return(De&6)===0?(js(0),!1):!0}function gc(){if(Ee!==null){if(ke===0)var n=Ee.return;else n=Ee,An=Yi=null,Du(n),Po=null,Ls=0,n=Ee;for(;n!==null;)zp(n.alternate,n),n=n.return;Ee=null}}function Jo(n,o){var r=n.timeoutHandle;r!==-1&&(n.timeoutHandle=-1,lS(r)),r=n.cancelPendingCommit,r!==null&&(n.cancelPendingCommit=null,r()),Pn=0,gc(),Ge=n,Ee=r=Cn(n.current,null),Ce=o,ke=0,Dt=null,di=!1,qo=vs(n,o),cc=!1,Fo=Ut=dc=eo=fi=Ke=0,xt=Ws=null,fc=!1,(o&8)!==0&&(o|=o&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=o;0<l;){var h=31-wt(l),g=1<<h;o|=n[h],l&=~g}return Ln=o,Yr(),r}function cm(n,o){pe=null,H.H=qs,o===Lo||o===jr?(o=bh(),ke=3):o===Tu?(o=bh(),ke=4):ke=o===Ku?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Dt=o,Ee===null&&(Ke=1,ha(n,Bt(o,n.current)))}function dm(){var n=Rt.current;return n===null?!0:(Ce&4194048)===Ce?Jt===null:(Ce&62914560)===Ce||(Ce&536870912)!==0?n===Jt:!1}function fm(){var n=H.H;return H.H=qs,n===null?qs:n}function hm(){var n=H.A;return H.A=zE,n}function Aa(){Ke=4,di||(Ce&4194048)!==Ce&&Rt.current!==null||(qo=!0),(fi&134217727)===0&&(eo&134217727)===0||Ge===null||mi(Ge,Ce,Ut,!1)}function yc(n,o,r){var l=De;De|=2;var h=fm(),g=hm();(Ge!==n||Ce!==o)&&(Ca=null,Jo(n,o)),o=!1;var T=Ke;e:do try{if(ke!==0&&Ee!==null){var C=Ee,A=Dt;switch(ke){case 8:gc(),T=6;break e;case 3:case 2:case 9:case 6:Rt.current===null&&(o=!0);var M=ke;if(ke=0,Dt=null,$o(n,C,A,M),r&&qo){T=0;break e}break;default:M=ke,ke=0,Dt=null,$o(n,C,A,M)}}qE(),T=Ke;break}catch(G){cm(n,G)}while(!0);return o&&n.shellSuspendCounter++,An=Yi=null,De=l,H.H=h,H.A=g,Ee===null&&(Ge=null,Ce=0,Yr()),T}function qE(){for(;Ee!==null;)pm(Ee)}function FE(n,o){var r=De;De|=2;var l=fm(),h=hm();Ge!==n||Ce!==o?(Ca=null,Sa=ee()+500,Jo(n,o)):qo=vs(n,o);e:do try{if(ke!==0&&Ee!==null){o=Ee;var g=Dt;t:switch(ke){case 1:ke=0,Dt=null,$o(n,o,g,1);break;case 2:case 9:if(xh(g)){ke=0,Dt=null,mm(o);break}o=function(){ke!==2&&ke!==9||Ge!==n||(ke=7),fn(n)},g.then(o,o);break e;case 3:ke=7;break e;case 4:ke=5;break e;case 7:xh(g)?(ke=0,Dt=null,mm(o)):(ke=0,Dt=null,$o(n,o,g,7));break;case 5:var T=null;switch(Ee.tag){case 26:T=Ee.memoizedState;case 5:case 27:var C=Ee;if(T?eg(T):C.stateNode.complete){ke=0,Dt=null;var A=C.sibling;if(A!==null)Ee=A;else{var M=C.return;M!==null?(Ee=M,ba(M)):Ee=null}break t}}ke=0,Dt=null,$o(n,o,g,5);break;case 6:ke=0,Dt=null,$o(n,o,g,6);break;case 8:gc(),Ke=6;break e;default:throw Error(s(462))}}YE();break}catch(G){cm(n,G)}while(!0);return An=Yi=null,H.H=l,H.A=h,De=r,Ee!==null?0:(Ge=null,Ce=0,Yr(),Ke)}function YE(){for(;Ee!==null&&!P();)pm(Ee)}function pm(n){var o=Hp(n.alternate,n,Ln);n.memoizedProps=n.pendingProps,o===null?ba(n):Ee=o}function mm(n){var o=n,r=o.alternate;switch(o.tag){case 15:case 0:o=Dp(r,o,o.pendingProps,o.type,void 0,Ce);break;case 11:o=Dp(r,o,o.pendingProps,o.type.render,o.ref,Ce);break;case 5:Du(o);default:zp(r,o),o=Ee=hh(o,Ln),o=Hp(r,o,Ln)}n.memoizedProps=n.pendingProps,o===null?ba(n):Ee=o}function $o(n,o,r,l){An=Yi=null,Du(o),Po=null,Ls=0;var h=o.return;try{if(UE(n,h,o,r,Ce)){Ke=1,ha(n,Bt(r,n.current)),Ee=null;return}}catch(g){if(h!==null)throw Ee=h,g;Ke=1,ha(n,Bt(r,n.current)),Ee=null;return}o.flags&32768?(be||l===1?n=!0:qo||(Ce&536870912)!==0?n=!1:(di=n=!0,(l===2||l===9||l===3||l===6)&&(l=Rt.current,l!==null&&l.tag===13&&(l.flags|=16384))),gm(o,n)):ba(o)}function ba(n){var o=n;do{if((o.flags&32768)!==0){gm(o,di);return}n=o.return;var r=PE(o.alternate,o,Ln);if(r!==null){Ee=r;return}if(o=o.sibling,o!==null){Ee=o;return}Ee=o=n}while(o!==null);Ke===0&&(Ke=5)}function gm(n,o){do{var r=OE(n.alternate,n);if(r!==null){r.flags&=32767,Ee=r;return}if(r=n.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!o&&(n=n.sibling,n!==null)){Ee=n;return}Ee=n=r}while(n!==null);Ke=6,Ee=null}function ym(n,o,r,l,h,g,T,C,A){n.cancelPendingCommit=null;do wa();while(nt!==0);if((De&6)!==0)throw Error(s(327));if(o!==null){if(o===n.current)throw Error(s(177));if(g=o.lanes|o.childLanes,g|=su,xT(n,r,g,T,C,A),n===Ge&&(Ee=Ge=null,Ce=0),Yo=o,pi=n,Pn=r,hc=g,pc=h,rm=l,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,XE(Ir,function(){return Sm(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,h=J.p,J.p=2,T=De,De|=4;try{HE(n,o,r)}finally{De=T,J.p=h,H.T=l}}nt=1,vm(),_m(),Tm()}}function vm(){if(nt===1){nt=0;var n=pi,o=Yo,r=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||r){r=H.T,H.T=null;var l=J.p;J.p=2;var h=De;De|=4;try{Zp(o,n);var g=Ic,T=oh(n.containerInfo),C=g.focusedElem,A=g.selectionRange;if(T!==C&&C&&C.ownerDocument&&ih(C.ownerDocument.documentElement,C)){if(A!==null&&eu(C)){var M=A.start,G=A.end;if(G===void 0&&(G=M),"selectionStart"in C)C.selectionStart=M,C.selectionEnd=Math.min(G,C.value.length);else{var B=C.ownerDocument||document,D=B&&B.defaultView||window;if(D.getSelection){var O=D.getSelection(),ne=C.textContent.length,ae=Math.min(A.start,ne),He=A.end===void 0?ae:Math.min(A.end,ne);!O.extend&&ae>He&&(T=He,He=ae,ae=T);var I=nh(C,ae),b=nh(C,He);if(I&&b&&(O.rangeCount!==1||O.anchorNode!==I.node||O.anchorOffset!==I.offset||O.focusNode!==b.node||O.focusOffset!==b.offset)){var R=B.createRange();R.setStart(I.node,I.offset),O.removeAllRanges(),ae>He?(O.addRange(R),O.extend(b.node,b.offset)):(R.setEnd(b.node,b.offset),O.addRange(R))}}}}for(B=[],O=C;O=O.parentNode;)O.nodeType===1&&B.push({element:O,left:O.scrollLeft,top:O.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<B.length;C++){var z=B[C];z.element.scrollLeft=z.left,z.element.scrollTop=z.top}}Ga=!!Nc,Ic=Nc=null}finally{De=h,J.p=l,H.T=r}}n.current=o,nt=2}}function _m(){if(nt===2){nt=0;var n=pi,o=Yo,r=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||r){r=H.T,H.T=null;var l=J.p;J.p=2;var h=De;De|=4;try{$p(n,o.alternate,o)}finally{De=h,J.p=l,H.T=r}}nt=3}}function Tm(){if(nt===4||nt===3){nt=0,oe();var n=pi,o=Yo,r=Pn,l=rm;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?nt=5:(nt=0,Yo=pi=null,Em(n,n.pendingLanes));var h=n.pendingLanes;if(h===0&&(hi=null),Ll(r),o=o.stateNode,bt&&typeof bt.onCommitFiberRoot=="function")try{bt.onCommitFiberRoot(ys,o,void 0,(o.current.flags&128)===128)}catch{}if(l!==null){o=H.T,h=J.p,J.p=2,H.T=null;try{for(var g=n.onRecoverableError,T=0;T<l.length;T++){var C=l[T];g(C.value,{componentStack:C.stack})}}finally{H.T=o,J.p=h}}(Pn&3)!==0&&wa(),fn(n),h=n.pendingLanes,(r&261930)!==0&&(h&42)!==0?n===mc?Zs++:(Zs=0,mc=n):Zs=0,js(0)}}function Em(n,o){(n.pooledCacheLanes&=o)===0&&(o=n.pooledCache,o!=null&&(n.pooledCache=null,Us(o)))}function wa(){return vm(),_m(),Tm(),Sm()}function Sm(){if(nt!==5)return!1;var n=pi,o=hc;hc=0;var r=Ll(Pn),l=H.T,h=J.p;try{J.p=32>r?32:r,H.T=null,r=pc,pc=null;var g=pi,T=Pn;if(nt=0,Yo=pi=null,Pn=0,(De&6)!==0)throw Error(s(331));var C=De;if(De|=4,im(g.current),em(g,g.current,T,r),De=C,js(0,!1),bt&&typeof bt.onPostCommitFiberRoot=="function")try{bt.onPostCommitFiberRoot(ys,g)}catch{}return!0}finally{J.p=h,H.T=l,Em(n,o)}}function Cm(n,o,r){o=Bt(r,o),o=$u(n.stateNode,o,2),n=ai(n,o,2),n!==null&&(_s(n,2),fn(n))}function Le(n,o,r){if(n.tag===3)Cm(n,n,r);else for(;o!==null;){if(o.tag===3){Cm(o,n,r);break}else if(o.tag===1){var l=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(hi===null||!hi.has(l))){n=Bt(r,n),r=xp(2),l=ai(o,r,2),l!==null&&(Ap(r,l,o,n),_s(l,2),fn(l));break}}o=o.return}}function vc(n,o,r){var l=n.pingCache;if(l===null){l=n.pingCache=new VE;var h=new Set;l.set(o,h)}else h=l.get(o),h===void 0&&(h=new Set,l.set(o,h));h.has(r)||(cc=!0,h.add(r),n=JE.bind(null,n,o,r),o.then(n,n))}function JE(n,o,r){var l=n.pingCache;l!==null&&l.delete(o),n.pingedLanes|=n.suspendedLanes&r,n.warmLanes&=~r,Ge===n&&(Ce&r)===r&&(Ke===4||Ke===3&&(Ce&62914560)===Ce&&300>ee()-Ea?(De&2)===0&&Jo(n,0):dc|=r,Fo===Ce&&(Fo=0)),fn(n)}function xm(n,o){o===0&&(o=vf()),n=Bi(n,o),n!==null&&(_s(n,o),fn(n))}function $E(n){var o=n.memoizedState,r=0;o!==null&&(r=o.retryLane),xm(n,r)}function KE(n,o){var r=0;switch(n.tag){case 31:case 13:var l=n.stateNode,h=n.memoizedState;h!==null&&(r=h.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(o),xm(n,r)}function XE(n,o){return Wn(n,o)}var Na=null,Ko=null,_c=!1,Ia=!1,Tc=!1,gi=0;function fn(n){n!==Ko&&n.next===null&&(Ko===null?Na=Ko=n:Ko=Ko.next=n),Ia=!0,_c||(_c=!0,WE())}function js(n,o){if(!Tc&&Ia){Tc=!0;do for(var r=!1,l=Na;l!==null;){if(n!==0){var h=l.pendingLanes;if(h===0)var g=0;else{var T=l.suspendedLanes,C=l.pingedLanes;g=(1<<31-wt(42|n)+1)-1,g&=h&~(T&~C),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(r=!0,Nm(l,g))}else g=Ce,g=Ur(l,l===Ge?g:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(g&3)===0||vs(l,g)||(r=!0,Nm(l,g));l=l.next}while(r);Tc=!1}}function QE(){Am()}function Am(){Ia=_c=!1;var n=0;gi!==0&&aS()&&(n=gi);for(var o=ee(),r=null,l=Na;l!==null;){var h=l.next,g=bm(l,o);g===0?(l.next=null,r===null?Na=h:r.next=h,h===null&&(Ko=r)):(r=l,(n!==0||(g&3)!==0)&&(Ia=!0)),l=h}nt!==0&&nt!==5||js(n),gi!==0&&(gi=0)}function bm(n,o){for(var r=n.suspendedLanes,l=n.pingedLanes,h=n.expirationTimes,g=n.pendingLanes&-62914561;0<g;){var T=31-wt(g),C=1<<T,A=h[T];A===-1?((C&r)===0||(C&l)!==0)&&(h[T]=CT(C,o)):A<=o&&(n.expiredLanes|=C),g&=~C}if(o=Ge,r=Ce,r=Ur(n,n===o?r:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,r===0||n===o&&(ke===2||ke===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&ln(l),n.callbackNode=null,n.callbackPriority=0;if((r&3)===0||vs(n,r)){if(o=r&-r,o===n.callbackPriority)return o;switch(l!==null&&ln(l),Ll(r)){case 2:case 8:r=Nr;break;case 32:r=Ir;break;case 268435456:r=yf;break;default:r=Ir}return l=wm.bind(null,n),r=Wn(r,l),n.callbackPriority=o,n.callbackNode=r,o}return l!==null&&l!==null&&ln(l),n.callbackPriority=2,n.callbackNode=null,2}function wm(n,o){if(nt!==0&&nt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var r=n.callbackNode;if(wa()&&n.callbackNode!==r)return null;var l=Ce;return l=Ur(n,n===Ge?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(lm(n,l,o),bm(n,ee()),n.callbackNode!=null&&n.callbackNode===r?wm.bind(null,n):null)}function Nm(n,o){if(wa())return null;lm(n,o,!0)}function WE(){uS(function(){(De&6)!==0?Wn(ht,QE):Am()})}function Ec(){if(gi===0){var n=Uo;n===0&&(n=Rr,Rr<<=1,(Rr&261888)===0&&(Rr=256)),gi=n}return gi}function Im(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Or(""+n)}function Rm(n,o){var r=o.ownerDocument.createElement("input");return r.name=o.name,r.value=o.value,n.id&&r.setAttribute("form",n.id),o.parentNode.insertBefore(r,o),n=new FormData(n),r.parentNode.removeChild(r),n}function ZE(n,o,r,l,h){if(o==="submit"&&r&&r.stateNode===h){var g=Im((h[_t]||null).action),T=l.submitter;T&&(o=(o=T[_t]||null)?Im(o.formAction):T.getAttribute("formAction"),o!==null&&(g=o,T=null));var C=new Vr("action","action",null,l,h);n.push({event:C,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(gi!==0){var A=T?Rm(h,T):new FormData(h);Vu(r,{pending:!0,data:A,method:h.method,action:g},null,A)}}else typeof g=="function"&&(C.preventDefault(),A=T?Rm(h,T):new FormData(h),Vu(r,{pending:!0,data:A,method:h.method,action:g},g,A))},currentTarget:h}]})}}for(var Sc=0;Sc<ou.length;Sc++){var Cc=ou[Sc],jE=Cc.toLowerCase(),eS=Cc[0].toUpperCase()+Cc.slice(1);Zt(jE,"on"+eS)}Zt(ah,"onAnimationEnd"),Zt(lh,"onAnimationIteration"),Zt(uh,"onAnimationStart"),Zt("dblclick","onDoubleClick"),Zt("focusin","onFocus"),Zt("focusout","onBlur"),Zt(gE,"onTransitionRun"),Zt(yE,"onTransitionStart"),Zt(vE,"onTransitionCancel"),Zt(ch,"onTransitionEnd"),_o("onMouseEnter",["mouseout","mouseover"]),_o("onMouseLeave",["mouseout","mouseover"]),_o("onPointerEnter",["pointerout","pointerover"]),_o("onPointerLeave",["pointerout","pointerover"]),Hi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Hi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Hi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Hi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Hi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Hi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var er="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(er));function Mm(n,o){o=(o&4)!==0;for(var r=0;r<n.length;r++){var l=n[r],h=l.event;l=l.listeners;e:{var g=void 0;if(o)for(var T=l.length-1;0<=T;T--){var C=l[T],A=C.instance,M=C.currentTarget;if(C=C.listener,A!==g&&h.isPropagationStopped())break e;g=C,h.currentTarget=M;try{g(h)}catch(G){Fr(G)}h.currentTarget=null,g=A}else for(T=0;T<l.length;T++){if(C=l[T],A=C.instance,M=C.currentTarget,C=C.listener,A!==g&&h.isPropagationStopped())break e;g=C,h.currentTarget=M;try{g(h)}catch(G){Fr(G)}h.currentTarget=null,g=A}}}}function Se(n,o){var r=o[Pl];r===void 0&&(r=o[Pl]=new Set);var l=n+"__bubble";r.has(l)||(Dm(o,n,2,!1),r.add(l))}function xc(n,o,r){var l=0;o&&(l|=4),Dm(r,n,l,o)}var Ra="_reactListening"+Math.random().toString(36).slice(2);function Ac(n){if(!n[Ra]){n[Ra]=!0,Af.forEach(function(r){r!=="selectionchange"&&(tS.has(r)||xc(r,!1,n),xc(r,!0,n))});var o=n.nodeType===9?n:n.ownerDocument;o===null||o[Ra]||(o[Ra]=!0,xc("selectionchange",!1,o))}}function Dm(n,o,r,l){switch(ag(o)){case 2:var h=IS;break;case 8:h=RS;break;default:h=zc}r=h.bind(null,o,r,n),h=void 0,!Yl||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(h=!0),l?h!==void 0?n.addEventListener(o,r,{capture:!0,passive:h}):n.addEventListener(o,r,!0):h!==void 0?n.addEventListener(o,r,{passive:h}):n.addEventListener(o,r,!1)}function bc(n,o,r,l,h){var g=l;if((o&1)===0&&(o&2)===0&&l!==null)e:for(;;){if(l===null)return;var T=l.tag;if(T===3||T===4){var C=l.stateNode.containerInfo;if(C===h)break;if(T===4)for(T=l.return;T!==null;){var A=T.tag;if((A===3||A===4)&&T.stateNode.containerInfo===h)return;T=T.return}for(;C!==null;){if(T=go(C),T===null)return;if(A=T.tag,A===5||A===6||A===26||A===27){l=g=T;continue e}C=C.parentNode}}l=l.return}Of(function(){var M=g,G=ql(r),B=[];e:{var D=dh.get(n);if(D!==void 0){var O=Vr,ne=n;switch(n){case"keypress":if(Gr(r)===0)break e;case"keydown":case"keyup":O=KT;break;case"focusin":ne="focus",O=Xl;break;case"focusout":ne="blur",O=Xl;break;case"beforeblur":case"afterblur":O=Xl;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":O=zf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":O=PT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":O=WT;break;case ah:case lh:case uh:O=GT;break;case ch:O=jT;break;case"scroll":case"scrollend":O=kT;break;case"wheel":O=tE;break;case"copy":case"cut":case"paste":O=VT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":O=Bf;break;case"toggle":case"beforetoggle":O=iE}var ae=(o&4)!==0,He=!ae&&(n==="scroll"||n==="scrollend"),I=ae?D!==null?D+"Capture":null:D;ae=[];for(var b=M,R;b!==null;){var z=b;if(R=z.stateNode,z=z.tag,z!==5&&z!==26&&z!==27||R===null||I===null||(z=Ss(b,I),z!=null&&ae.push(tr(b,z,R))),He)break;b=b.return}0<ae.length&&(D=new O(D,ne,null,r,G),B.push({event:D,listeners:ae}))}}if((o&7)===0){e:{if(D=n==="mouseover"||n==="pointerover",O=n==="mouseout"||n==="pointerout",D&&r!==Bl&&(ne=r.relatedTarget||r.fromElement)&&(go(ne)||ne[mo]))break e;if((O||D)&&(D=G.window===G?G:(D=G.ownerDocument)?D.defaultView||D.parentWindow:window,O?(ne=r.relatedTarget||r.toElement,O=M,ne=ne?go(ne):null,ne!==null&&(He=u(ne),ae=ne.tag,ne!==He||ae!==5&&ae!==27&&ae!==6)&&(ne=null)):(O=null,ne=M),O!==ne)){if(ae=zf,z="onMouseLeave",I="onMouseEnter",b="mouse",(n==="pointerout"||n==="pointerover")&&(ae=Bf,z="onPointerLeave",I="onPointerEnter",b="pointer"),He=O==null?D:Es(O),R=ne==null?D:Es(ne),D=new ae(z,b+"leave",O,r,G),D.target=He,D.relatedTarget=R,z=null,go(G)===M&&(ae=new ae(I,b+"enter",ne,r,G),ae.target=R,ae.relatedTarget=He,z=ae),He=z,O&&ne)t:{for(ae=nS,I=O,b=ne,R=0,z=I;z;z=ae(z))R++;z=0;for(var re=b;re;re=ae(re))z++;for(;0<R-z;)I=ae(I),R--;for(;0<z-R;)b=ae(b),z--;for(;R--;){if(I===b||b!==null&&I===b.alternate){ae=I;break t}I=ae(I),b=ae(b)}ae=null}else ae=null;O!==null&&Um(B,D,O,ae,!1),ne!==null&&He!==null&&Um(B,He,ne,ae,!0)}}e:{if(D=M?Es(M):window,O=D.nodeName&&D.nodeName.toLowerCase(),O==="select"||O==="input"&&D.type==="file")var Ie=Qf;else if(Kf(D))if(Wf)Ie=hE;else{Ie=dE;var ie=cE}else O=D.nodeName,!O||O.toLowerCase()!=="input"||D.type!=="checkbox"&&D.type!=="radio"?M&&Vl(M.elementType)&&(Ie=Qf):Ie=fE;if(Ie&&(Ie=Ie(n,M))){Xf(B,Ie,r,G);break e}ie&&ie(n,D,M),n==="focusout"&&M&&D.type==="number"&&M.memoizedProps.value!=null&&zl(D,"number",D.value)}switch(ie=M?Es(M):window,n){case"focusin":(Kf(ie)||ie.contentEditable==="true")&&(Ao=ie,tu=M,Rs=null);break;case"focusout":Rs=tu=Ao=null;break;case"mousedown":nu=!0;break;case"contextmenu":case"mouseup":case"dragend":nu=!1,sh(B,r,G);break;case"selectionchange":if(mE)break;case"keydown":case"keyup":sh(B,r,G)}var ve;if(Wl)e:{switch(n){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else xo?Jf(n,r)&&(xe="onCompositionEnd"):n==="keydown"&&r.keyCode===229&&(xe="onCompositionStart");xe&&(qf&&r.locale!=="ko"&&(xo||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&xo&&(ve=Hf()):(ei=G,Jl="value"in ei?ei.value:ei.textContent,xo=!0)),ie=Ma(M,xe),0<ie.length&&(xe=new Vf(xe,n,null,r,G),B.push({event:xe,listeners:ie}),ve?xe.data=ve:(ve=$f(r),ve!==null&&(xe.data=ve)))),(ve=sE?rE(n,r):aE(n,r))&&(xe=Ma(M,"onBeforeInput"),0<xe.length&&(ie=new Vf("onBeforeInput","beforeinput",null,r,G),B.push({event:ie,listeners:xe}),ie.data=ve)),ZE(B,n,M,r,G)}Mm(B,o)})}function tr(n,o,r){return{instance:n,listener:o,currentTarget:r}}function Ma(n,o){for(var r=o+"Capture",l=[];n!==null;){var h=n,g=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||g===null||(h=Ss(n,r),h!=null&&l.unshift(tr(n,h,g)),h=Ss(n,o),h!=null&&l.push(tr(n,h,g))),n.tag===3)return l;n=n.return}return[]}function nS(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Um(n,o,r,l,h){for(var g=o._reactName,T=[];r!==null&&r!==l;){var C=r,A=C.alternate,M=C.stateNode;if(C=C.tag,A!==null&&A===l)break;C!==5&&C!==26&&C!==27||M===null||(A=M,h?(M=Ss(r,g),M!=null&&T.unshift(tr(r,M,A))):h||(M=Ss(r,g),M!=null&&T.push(tr(r,M,A)))),r=r.return}T.length!==0&&n.push({event:o,listeners:T})}var iS=/\r\n?/g,oS=/\u0000|\uFFFD/g;function km(n){return(typeof n=="string"?n:""+n).replace(iS,`
`).replace(oS,"")}function Lm(n,o){return o=km(o),km(n)===o}function Oe(n,o,r,l,h,g){switch(r){case"children":typeof l=="string"?o==="body"||o==="textarea"&&l===""||Eo(n,l):(typeof l=="number"||typeof l=="bigint")&&o!=="body"&&Eo(n,""+l);break;case"className":Lr(n,"class",l);break;case"tabIndex":Lr(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Lr(n,r,l);break;case"style":Lf(n,l,g);break;case"data":if(o!=="object"){Lr(n,"data",l);break}case"src":case"href":if(l===""&&(o!=="a"||r!=="href")){n.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(r);break}l=Or(""+l),n.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(r==="formAction"?(o!=="input"&&Oe(n,o,"name",h.name,h,null),Oe(n,o,"formEncType",h.formEncType,h,null),Oe(n,o,"formMethod",h.formMethod,h,null),Oe(n,o,"formTarget",h.formTarget,h,null)):(Oe(n,o,"encType",h.encType,h,null),Oe(n,o,"method",h.method,h,null),Oe(n,o,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(r);break}l=Or(""+l),n.setAttribute(r,l);break;case"onClick":l!=null&&(n.onclick=En);break;case"onScroll":l!=null&&Se("scroll",n);break;case"onScrollEnd":l!=null&&Se("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(s(60));n.innerHTML=r}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}r=Or(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(r,""+l):n.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(r,""):n.removeAttribute(r);break;case"capture":case"download":l===!0?n.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(r,l):n.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(r,l):n.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(r):n.setAttribute(r,l);break;case"popover":Se("beforetoggle",n),Se("toggle",n),kr(n,"popover",l);break;case"xlinkActuate":Tn(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Tn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Tn(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Tn(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Tn(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Tn(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Tn(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Tn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Tn(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":kr(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=DT.get(r)||r,kr(n,r,l))}}function wc(n,o,r,l,h,g){switch(r){case"style":Lf(n,l,g);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(s(60));n.innerHTML=r}}break;case"children":typeof l=="string"?Eo(n,l):(typeof l=="number"||typeof l=="bigint")&&Eo(n,""+l);break;case"onScroll":l!=null&&Se("scroll",n);break;case"onScrollEnd":l!=null&&Se("scrollend",n);break;case"onClick":l!=null&&(n.onclick=En);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!bf.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),o=r.slice(2,h?r.length-7:void 0),g=n[_t]||null,g=g!=null?g[r]:null,typeof g=="function"&&n.removeEventListener(o,g,h),typeof l=="function")){typeof g!="function"&&g!==null&&(r in n?n[r]=null:n.hasAttribute(r)&&n.removeAttribute(r)),n.addEventListener(o,l,h);break e}r in n?n[r]=l:l===!0?n.setAttribute(r,""):kr(n,r,l)}}}function ct(n,o,r){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Se("error",n),Se("load",n);var l=!1,h=!1,g;for(g in r)if(r.hasOwnProperty(g)){var T=r[g];if(T!=null)switch(g){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,o));default:Oe(n,o,g,T,r,null)}}h&&Oe(n,o,"srcSet",r.srcSet,r,null),l&&Oe(n,o,"src",r.src,r,null);return;case"input":Se("invalid",n);var C=g=T=h=null,A=null,M=null;for(l in r)if(r.hasOwnProperty(l)){var G=r[l];if(G!=null)switch(l){case"name":h=G;break;case"type":T=G;break;case"checked":A=G;break;case"defaultChecked":M=G;break;case"value":g=G;break;case"defaultValue":C=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,o));break;default:Oe(n,o,l,G,r,null)}}Mf(n,g,C,A,M,T,h,!1);return;case"select":Se("invalid",n),l=T=g=null;for(h in r)if(r.hasOwnProperty(h)&&(C=r[h],C!=null))switch(h){case"value":g=C;break;case"defaultValue":T=C;break;case"multiple":l=C;default:Oe(n,o,h,C,r,null)}o=g,r=T,n.multiple=!!l,o!=null?To(n,!!l,o,!1):r!=null&&To(n,!!l,r,!0);return;case"textarea":Se("invalid",n),g=h=l=null;for(T in r)if(r.hasOwnProperty(T)&&(C=r[T],C!=null))switch(T){case"value":l=C;break;case"defaultValue":h=C;break;case"children":g=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(s(91));break;default:Oe(n,o,T,C,r,null)}Uf(n,l,h,g);return;case"option":for(A in r)if(r.hasOwnProperty(A)&&(l=r[A],l!=null))switch(A){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Oe(n,o,A,l,r,null)}return;case"dialog":Se("beforetoggle",n),Se("toggle",n),Se("cancel",n),Se("close",n);break;case"iframe":case"object":Se("load",n);break;case"video":case"audio":for(l=0;l<er.length;l++)Se(er[l],n);break;case"image":Se("error",n),Se("load",n);break;case"details":Se("toggle",n);break;case"embed":case"source":case"link":Se("error",n),Se("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(M in r)if(r.hasOwnProperty(M)&&(l=r[M],l!=null))switch(M){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,o));default:Oe(n,o,M,l,r,null)}return;default:if(Vl(o)){for(G in r)r.hasOwnProperty(G)&&(l=r[G],l!==void 0&&wc(n,o,G,l,r,void 0));return}}for(C in r)r.hasOwnProperty(C)&&(l=r[C],l!=null&&Oe(n,o,C,l,r,null))}function sS(n,o,r,l){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,g=null,T=null,C=null,A=null,M=null,G=null;for(O in r){var B=r[O];if(r.hasOwnProperty(O)&&B!=null)switch(O){case"checked":break;case"value":break;case"defaultValue":A=B;default:l.hasOwnProperty(O)||Oe(n,o,O,null,l,B)}}for(var D in l){var O=l[D];if(B=r[D],l.hasOwnProperty(D)&&(O!=null||B!=null))switch(D){case"type":g=O;break;case"name":h=O;break;case"checked":M=O;break;case"defaultChecked":G=O;break;case"value":T=O;break;case"defaultValue":C=O;break;case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(s(137,o));break;default:O!==B&&Oe(n,o,D,O,l,B)}}Gl(n,T,C,A,M,G,g,h);return;case"select":O=T=C=D=null;for(g in r)if(A=r[g],r.hasOwnProperty(g)&&A!=null)switch(g){case"value":break;case"multiple":O=A;default:l.hasOwnProperty(g)||Oe(n,o,g,null,l,A)}for(h in l)if(g=l[h],A=r[h],l.hasOwnProperty(h)&&(g!=null||A!=null))switch(h){case"value":D=g;break;case"defaultValue":C=g;break;case"multiple":T=g;default:g!==A&&Oe(n,o,h,g,l,A)}o=C,r=T,l=O,D!=null?To(n,!!r,D,!1):!!l!=!!r&&(o!=null?To(n,!!r,o,!0):To(n,!!r,r?[]:"",!1));return;case"textarea":O=D=null;for(C in r)if(h=r[C],r.hasOwnProperty(C)&&h!=null&&!l.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:Oe(n,o,C,null,l,h)}for(T in l)if(h=l[T],g=r[T],l.hasOwnProperty(T)&&(h!=null||g!=null))switch(T){case"value":D=h;break;case"defaultValue":O=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==g&&Oe(n,o,T,h,l,g)}Df(n,D,O);return;case"option":for(var ne in r)if(D=r[ne],r.hasOwnProperty(ne)&&D!=null&&!l.hasOwnProperty(ne))switch(ne){case"selected":n.selected=!1;break;default:Oe(n,o,ne,null,l,D)}for(A in l)if(D=l[A],O=r[A],l.hasOwnProperty(A)&&D!==O&&(D!=null||O!=null))switch(A){case"selected":n.selected=D&&typeof D!="function"&&typeof D!="symbol";break;default:Oe(n,o,A,D,l,O)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ae in r)D=r[ae],r.hasOwnProperty(ae)&&D!=null&&!l.hasOwnProperty(ae)&&Oe(n,o,ae,null,l,D);for(M in l)if(D=l[M],O=r[M],l.hasOwnProperty(M)&&D!==O&&(D!=null||O!=null))switch(M){case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(s(137,o));break;default:Oe(n,o,M,D,l,O)}return;default:if(Vl(o)){for(var He in r)D=r[He],r.hasOwnProperty(He)&&D!==void 0&&!l.hasOwnProperty(He)&&wc(n,o,He,void 0,l,D);for(G in l)D=l[G],O=r[G],!l.hasOwnProperty(G)||D===O||D===void 0&&O===void 0||wc(n,o,G,D,l,O);return}}for(var I in r)D=r[I],r.hasOwnProperty(I)&&D!=null&&!l.hasOwnProperty(I)&&Oe(n,o,I,null,l,D);for(B in l)D=l[B],O=r[B],!l.hasOwnProperty(B)||D===O||D==null&&O==null||Oe(n,o,B,D,l,O)}function Pm(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function rS(){if(typeof performance.getEntriesByType=="function"){for(var n=0,o=0,r=performance.getEntriesByType("resource"),l=0;l<r.length;l++){var h=r[l],g=h.transferSize,T=h.initiatorType,C=h.duration;if(g&&C&&Pm(T)){for(T=0,C=h.responseEnd,l+=1;l<r.length;l++){var A=r[l],M=A.startTime;if(M>C)break;var G=A.transferSize,B=A.initiatorType;G&&Pm(B)&&(A=A.responseEnd,T+=G*(A<C?1:(C-M)/(A-M)))}if(--l,o+=8*(g+T)/(h.duration/1e3),n++,10<n)break}}if(0<n)return o/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var Nc=null,Ic=null;function Da(n){return n.nodeType===9?n:n.ownerDocument}function Om(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Hm(n,o){if(n===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&o==="foreignObject"?0:n}function Rc(n,o){return n==="textarea"||n==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Mc=null;function aS(){var n=window.event;return n&&n.type==="popstate"?n===Mc?!1:(Mc=n,!0):(Mc=null,!1)}var Gm=typeof setTimeout=="function"?setTimeout:void 0,lS=typeof clearTimeout=="function"?clearTimeout:void 0,zm=typeof Promise=="function"?Promise:void 0,uS=typeof queueMicrotask=="function"?queueMicrotask:typeof zm<"u"?function(n){return zm.resolve(null).then(n).catch(cS)}:Gm;function cS(n){setTimeout(function(){throw n})}function yi(n){return n==="head"}function Vm(n,o){var r=o,l=0;do{var h=r.nextSibling;if(n.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(l===0){n.removeChild(h),Zo(o);return}l--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")l++;else if(r==="html")nr(n.ownerDocument.documentElement);else if(r==="head"){r=n.ownerDocument.head,nr(r);for(var g=r.firstChild;g;){var T=g.nextSibling,C=g.nodeName;g[Ts]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&g.rel.toLowerCase()==="stylesheet"||r.removeChild(g),g=T}}else r==="body"&&nr(n.ownerDocument.body);r=h}while(r);Zo(o)}function Bm(n,o){var r=n;n=0;do{var l=r.nextSibling;if(r.nodeType===1?o?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(o?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(n===0)break;n--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||n++;r=l}while(r)}function Dc(n){var o=n.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var r=o;switch(o=o.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Dc(r),Ol(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}n.removeChild(r)}}function dS(n,o,r,l){for(;n.nodeType===1;){var h=r;if(n.nodeName.toLowerCase()!==o.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[Ts])switch(o){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(g=n.getAttribute("rel"),g==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(g!==h.rel||n.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||n.getAttribute("title")!==(h.title==null?null:h.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(g=n.getAttribute("src"),(g!==(h.src==null?null:h.src)||n.getAttribute("type")!==(h.type==null?null:h.type)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&g&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(o==="input"&&n.type==="hidden"){var g=h.name==null?null:""+h.name;if(h.type==="hidden"&&n.getAttribute("name")===g)return n}else return n;if(n=$t(n.nextSibling),n===null)break}return null}function fS(n,o,r){if(o==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!r||(n=$t(n.nextSibling),n===null))return null;return n}function qm(n,o){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=$t(n.nextSibling),n===null))return null;return n}function Uc(n){return n.data==="$?"||n.data==="$~"}function kc(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function hS(n,o){var r=n.ownerDocument;if(n.data==="$~")n._reactRetry=o;else if(n.data!=="$?"||r.readyState!=="loading")o();else{var l=function(){o(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function $t(n){for(;n!=null;n=n.nextSibling){var o=n.nodeType;if(o===1||o===3)break;if(o===8){if(o=n.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return n}var Lc=null;function Fm(n){n=n.nextSibling;for(var o=0;n;){if(n.nodeType===8){var r=n.data;if(r==="/$"||r==="/&"){if(o===0)return $t(n.nextSibling);o--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||o++}n=n.nextSibling}return null}function Ym(n){n=n.previousSibling;for(var o=0;n;){if(n.nodeType===8){var r=n.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(o===0)return n;o--}else r!=="/$"&&r!=="/&"||o++}n=n.previousSibling}return null}function Jm(n,o,r){switch(o=Da(r),n){case"html":if(n=o.documentElement,!n)throw Error(s(452));return n;case"head":if(n=o.head,!n)throw Error(s(453));return n;case"body":if(n=o.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function nr(n){for(var o=n.attributes;o.length;)n.removeAttributeNode(o[0]);Ol(n)}var Kt=new Map,$m=new Set;function Ua(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var On=J.d;J.d={f:pS,r:mS,D:gS,C:yS,L:vS,m:_S,X:ES,S:TS,M:SS};function pS(){var n=On.f(),o=xa();return n||o}function mS(n){var o=yo(n);o!==null&&o.tag===5&&o.type==="form"?cp(o):On.r(n)}var Xo=typeof document>"u"?null:document;function Km(n,o,r){var l=Xo;if(l&&typeof o=="string"&&o){var h=zt(o);h='link[rel="'+n+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),$m.has(h)||($m.add(h),n={rel:n,crossOrigin:r,href:o},l.querySelector(h)===null&&(o=l.createElement("link"),ct(o,"link",n),it(o),l.head.appendChild(o)))}}function gS(n){On.D(n),Km("dns-prefetch",n,null)}function yS(n,o){On.C(n,o),Km("preconnect",n,o)}function vS(n,o,r){On.L(n,o,r);var l=Xo;if(l&&n&&o){var h='link[rel="preload"][as="'+zt(o)+'"]';o==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+zt(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+zt(r.imageSizes)+'"]')):h+='[href="'+zt(n)+'"]';var g=h;switch(o){case"style":g=Qo(n);break;case"script":g=Wo(n)}Kt.has(g)||(n=E({rel:"preload",href:o==="image"&&r&&r.imageSrcSet?void 0:n,as:o},r),Kt.set(g,n),l.querySelector(h)!==null||o==="style"&&l.querySelector(ir(g))||o==="script"&&l.querySelector(or(g))||(o=l.createElement("link"),ct(o,"link",n),it(o),l.head.appendChild(o)))}}function _S(n,o){On.m(n,o);var r=Xo;if(r&&n){var l=o&&typeof o.as=="string"?o.as:"script",h='link[rel="modulepreload"][as="'+zt(l)+'"][href="'+zt(n)+'"]',g=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Wo(n)}if(!Kt.has(g)&&(n=E({rel:"modulepreload",href:n},o),Kt.set(g,n),r.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(or(g)))return}l=r.createElement("link"),ct(l,"link",n),it(l),r.head.appendChild(l)}}}function TS(n,o,r){On.S(n,o,r);var l=Xo;if(l&&n){var h=vo(l).hoistableStyles,g=Qo(n);o=o||"default";var T=h.get(g);if(!T){var C={loading:0,preload:null};if(T=l.querySelector(ir(g)))C.loading=5;else{n=E({rel:"stylesheet",href:n,"data-precedence":o},r),(r=Kt.get(g))&&Pc(n,r);var A=T=l.createElement("link");it(A),ct(A,"link",n),A._p=new Promise(function(M,G){A.onload=M,A.onerror=G}),A.addEventListener("load",function(){C.loading|=1}),A.addEventListener("error",function(){C.loading|=2}),C.loading|=4,ka(T,o,l)}T={type:"stylesheet",instance:T,count:1,state:C},h.set(g,T)}}}function ES(n,o){On.X(n,o);var r=Xo;if(r&&n){var l=vo(r).hoistableScripts,h=Wo(n),g=l.get(h);g||(g=r.querySelector(or(h)),g||(n=E({src:n,async:!0},o),(o=Kt.get(h))&&Oc(n,o),g=r.createElement("script"),it(g),ct(g,"link",n),r.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},l.set(h,g))}}function SS(n,o){On.M(n,o);var r=Xo;if(r&&n){var l=vo(r).hoistableScripts,h=Wo(n),g=l.get(h);g||(g=r.querySelector(or(h)),g||(n=E({src:n,async:!0,type:"module"},o),(o=Kt.get(h))&&Oc(n,o),g=r.createElement("script"),it(g),ct(g,"link",n),r.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},l.set(h,g))}}function Xm(n,o,r,l){var h=(h=ye.current)?Ua(h):null;if(!h)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(o=Qo(r.href),r=vo(h).hoistableStyles,l=r.get(o),l||(l={type:"style",instance:null,count:0,state:null},r.set(o,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){n=Qo(r.href);var g=vo(h).hoistableStyles,T=g.get(n);if(T||(h=h.ownerDocument||h,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(n,T),(g=h.querySelector(ir(n)))&&!g._p&&(T.instance=g,T.state.loading=5),Kt.has(n)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Kt.set(n,r),g||CS(h,n,r,T.state))),o&&l===null)throw Error(s(528,""));return T}if(o&&l!==null)throw Error(s(529,""));return null;case"script":return o=r.async,r=r.src,typeof r=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Wo(r),r=vo(h).hoistableScripts,l=r.get(o),l||(l={type:"script",instance:null,count:0,state:null},r.set(o,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function Qo(n){return'href="'+zt(n)+'"'}function ir(n){return'link[rel="stylesheet"]['+n+"]"}function Qm(n){return E({},n,{"data-precedence":n.precedence,precedence:null})}function CS(n,o,r,l){n.querySelector('link[rel="preload"][as="style"]['+o+"]")?l.loading=1:(o=n.createElement("link"),l.preload=o,o.addEventListener("load",function(){return l.loading|=1}),o.addEventListener("error",function(){return l.loading|=2}),ct(o,"link",r),it(o),n.head.appendChild(o))}function Wo(n){return'[src="'+zt(n)+'"]'}function or(n){return"script[async]"+n}function Wm(n,o,r){if(o.count++,o.instance===null)switch(o.type){case"style":var l=n.querySelector('style[data-href~="'+zt(r.href)+'"]');if(l)return o.instance=l,it(l),l;var h=E({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),it(l),ct(l,"style",h),ka(l,r.precedence,n),o.instance=l;case"stylesheet":h=Qo(r.href);var g=n.querySelector(ir(h));if(g)return o.state.loading|=4,o.instance=g,it(g),g;l=Qm(r),(h=Kt.get(h))&&Pc(l,h),g=(n.ownerDocument||n).createElement("link"),it(g);var T=g;return T._p=new Promise(function(C,A){T.onload=C,T.onerror=A}),ct(g,"link",l),o.state.loading|=4,ka(g,r.precedence,n),o.instance=g;case"script":return g=Wo(r.src),(h=n.querySelector(or(g)))?(o.instance=h,it(h),h):(l=r,(h=Kt.get(g))&&(l=E({},r),Oc(l,h)),n=n.ownerDocument||n,h=n.createElement("script"),it(h),ct(h,"link",l),n.head.appendChild(h),o.instance=h);case"void":return null;default:throw Error(s(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(l=o.instance,o.state.loading|=4,ka(l,r.precedence,n));return o.instance}function ka(n,o,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,g=h,T=0;T<l.length;T++){var C=l[T];if(C.dataset.precedence===o)g=C;else if(g!==h)break}g?g.parentNode.insertBefore(n,g.nextSibling):(o=r.nodeType===9?r.head:r,o.insertBefore(n,o.firstChild))}function Pc(n,o){n.crossOrigin==null&&(n.crossOrigin=o.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=o.referrerPolicy),n.title==null&&(n.title=o.title)}function Oc(n,o){n.crossOrigin==null&&(n.crossOrigin=o.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=o.referrerPolicy),n.integrity==null&&(n.integrity=o.integrity)}var La=null;function Zm(n,o,r){if(La===null){var l=new Map,h=La=new Map;h.set(r,l)}else h=La,l=h.get(r),l||(l=new Map,h.set(r,l));if(l.has(n))return l;for(l.set(n,null),r=r.getElementsByTagName(n),h=0;h<r.length;h++){var g=r[h];if(!(g[Ts]||g[rt]||n==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var T=g.getAttribute(o)||"";T=n+T;var C=l.get(T);C?C.push(g):l.set(T,[g])}}return l}function jm(n,o,r){n=n.ownerDocument||n,n.head.insertBefore(r,o==="title"?n.querySelector("head > title"):null)}function xS(n,o,r){if(r===1||o.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return n=o.disabled,typeof o.precedence=="string"&&n==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function eg(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function AS(n,o,r,l){if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Qo(l.href),g=o.querySelector(ir(h));if(g){o=g._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(n.count++,n=Pa.bind(n),o.then(n,n)),r.state.loading|=4,r.instance=g,it(g);return}g=o.ownerDocument||o,l=Qm(l),(h=Kt.get(h))&&Pc(l,h),g=g.createElement("link"),it(g);var T=g;T._p=new Promise(function(C,A){T.onload=C,T.onerror=A}),ct(g,"link",l),r.instance=g}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(r,o),(o=r.state.preload)&&(r.state.loading&3)===0&&(n.count++,r=Pa.bind(n),o.addEventListener("load",r),o.addEventListener("error",r))}}var Hc=0;function bS(n,o){return n.stylesheets&&n.count===0&&Ha(n,n.stylesheets),0<n.count||0<n.imgCount?function(r){var l=setTimeout(function(){if(n.stylesheets&&Ha(n,n.stylesheets),n.unsuspend){var g=n.unsuspend;n.unsuspend=null,g()}},6e4+o);0<n.imgBytes&&Hc===0&&(Hc=62500*rS());var h=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&Ha(n,n.stylesheets),n.unsuspend)){var g=n.unsuspend;n.unsuspend=null,g()}},(n.imgBytes>Hc?50:800)+o);return n.unsuspend=r,function(){n.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Pa(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ha(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Oa=null;function Ha(n,o){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Oa=new Map,o.forEach(wS,n),Oa=null,Pa.call(n))}function wS(n,o){if(!(o.state.loading&4)){var r=Oa.get(n);if(r)var l=r.get(null);else{r=new Map,Oa.set(n,r);for(var h=n.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<h.length;g++){var T=h[g];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(r.set(T.dataset.precedence,T),l=T)}l&&r.set(null,l)}h=o.instance,T=h.getAttribute("data-precedence"),g=r.get(T)||l,g===l&&r.set(null,h),r.set(T,h),this.count++,l=Pa.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),g?g.parentNode.insertBefore(h,g.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(h,n.firstChild)),o.state.loading|=4}}var sr={$$typeof:F,Provider:null,Consumer:null,_currentValue:se,_currentValue2:se,_threadCount:0};function NS(n,o,r,l,h,g,T,C,A){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ul(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ul(0),this.hiddenUpdates=Ul(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=g,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function tg(n,o,r,l,h,g,T,C,A,M,G,B){return n=new NS(n,o,r,T,A,M,G,B,C),o=1,g===!0&&(o|=24),g=It(3,null,null,o),n.current=g,g.stateNode=n,o=yu(),o.refCount++,n.pooledCache=o,o.refCount++,g.memoizedState={element:l,isDehydrated:r,cache:o},Eu(g),n}function ng(n){return n?(n=No,n):No}function ig(n,o,r,l,h,g){h=ng(h),l.context===null?l.context=h:l.pendingContext=h,l=ri(o),l.payload={element:r},g=g===void 0?null:g,g!==null&&(l.callback=g),r=ai(n,l,o),r!==null&&(At(r,n,o),Os(r,n,o))}function og(n,o){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var r=n.retryLane;n.retryLane=r!==0&&r<o?r:o}}function Gc(n,o){og(n,o),(n=n.alternate)&&og(n,o)}function sg(n){if(n.tag===13||n.tag===31){var o=Bi(n,67108864);o!==null&&At(o,n,67108864),Gc(n,67108864)}}function rg(n){if(n.tag===13||n.tag===31){var o=kt();o=kl(o);var r=Bi(n,o);r!==null&&At(r,n,o),Gc(n,o)}}var Ga=!0;function IS(n,o,r,l){var h=H.T;H.T=null;var g=J.p;try{J.p=2,zc(n,o,r,l)}finally{J.p=g,H.T=h}}function RS(n,o,r,l){var h=H.T;H.T=null;var g=J.p;try{J.p=8,zc(n,o,r,l)}finally{J.p=g,H.T=h}}function zc(n,o,r,l){if(Ga){var h=Vc(l);if(h===null)bc(n,o,l,za,r),lg(n,l);else if(DS(h,n,o,r,l))l.stopPropagation();else if(lg(n,l),o&4&&-1<MS.indexOf(n)){for(;h!==null;){var g=yo(h);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var T=Oi(g.pendingLanes);if(T!==0){var C=g;for(C.pendingLanes|=2,C.entangledLanes|=2;T;){var A=1<<31-wt(T);C.entanglements[1]|=A,T&=~A}fn(g),(De&6)===0&&(Sa=ee()+500,js(0))}}break;case 31:case 13:C=Bi(g,2),C!==null&&At(C,g,2),xa(),Gc(g,2)}if(g=Vc(l),g===null&&bc(n,o,l,za,r),g===h)break;h=g}h!==null&&l.stopPropagation()}else bc(n,o,l,null,r)}}function Vc(n){return n=ql(n),Bc(n)}var za=null;function Bc(n){if(za=null,n=go(n),n!==null){var o=u(n);if(o===null)n=null;else{var r=o.tag;if(r===13){if(n=d(o),n!==null)return n;n=null}else if(r===31){if(n=p(o),n!==null)return n;n=null}else if(r===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;n=null}else o!==n&&(n=null)}}return za=n,null}function ag(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ue()){case ht:return 2;case Nr:return 8;case Ir:case yT:return 32;case yf:return 268435456;default:return 32}default:return 32}}var qc=!1,vi=null,_i=null,Ti=null,rr=new Map,ar=new Map,Ei=[],MS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function lg(n,o){switch(n){case"focusin":case"focusout":vi=null;break;case"dragenter":case"dragleave":_i=null;break;case"mouseover":case"mouseout":Ti=null;break;case"pointerover":case"pointerout":rr.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":ar.delete(o.pointerId)}}function lr(n,o,r,l,h,g){return n===null||n.nativeEvent!==g?(n={blockedOn:o,domEventName:r,eventSystemFlags:l,nativeEvent:g,targetContainers:[h]},o!==null&&(o=yo(o),o!==null&&sg(o)),n):(n.eventSystemFlags|=l,o=n.targetContainers,h!==null&&o.indexOf(h)===-1&&o.push(h),n)}function DS(n,o,r,l,h){switch(o){case"focusin":return vi=lr(vi,n,o,r,l,h),!0;case"dragenter":return _i=lr(_i,n,o,r,l,h),!0;case"mouseover":return Ti=lr(Ti,n,o,r,l,h),!0;case"pointerover":var g=h.pointerId;return rr.set(g,lr(rr.get(g)||null,n,o,r,l,h)),!0;case"gotpointercapture":return g=h.pointerId,ar.set(g,lr(ar.get(g)||null,n,o,r,l,h)),!0}return!1}function ug(n){var o=go(n.target);if(o!==null){var r=u(o);if(r!==null){if(o=r.tag,o===13){if(o=d(r),o!==null){n.blockedOn=o,Cf(n.priority,function(){rg(r)});return}}else if(o===31){if(o=p(r),o!==null){n.blockedOn=o,Cf(n.priority,function(){rg(r)});return}}else if(o===3&&r.stateNode.current.memoizedState.isDehydrated){n.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Va(n){if(n.blockedOn!==null)return!1;for(var o=n.targetContainers;0<o.length;){var r=Vc(n.nativeEvent);if(r===null){r=n.nativeEvent;var l=new r.constructor(r.type,r);Bl=l,r.target.dispatchEvent(l),Bl=null}else return o=yo(r),o!==null&&sg(o),n.blockedOn=r,!1;o.shift()}return!0}function cg(n,o,r){Va(n)&&r.delete(o)}function US(){qc=!1,vi!==null&&Va(vi)&&(vi=null),_i!==null&&Va(_i)&&(_i=null),Ti!==null&&Va(Ti)&&(Ti=null),rr.forEach(cg),ar.forEach(cg)}function Ba(n,o){n.blockedOn===o&&(n.blockedOn=null,qc||(qc=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,US)))}var qa=null;function dg(n){qa!==n&&(qa=n,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){qa===n&&(qa=null);for(var o=0;o<n.length;o+=3){var r=n[o],l=n[o+1],h=n[o+2];if(typeof l!="function"){if(Bc(l||r)===null)continue;break}var g=yo(r);g!==null&&(n.splice(o,3),o-=3,Vu(g,{pending:!0,data:h,method:r.method,action:l},l,h))}}))}function Zo(n){function o(A){return Ba(A,n)}vi!==null&&Ba(vi,n),_i!==null&&Ba(_i,n),Ti!==null&&Ba(Ti,n),rr.forEach(o),ar.forEach(o);for(var r=0;r<Ei.length;r++){var l=Ei[r];l.blockedOn===n&&(l.blockedOn=null)}for(;0<Ei.length&&(r=Ei[0],r.blockedOn===null);)ug(r),r.blockedOn===null&&Ei.shift();if(r=(n.ownerDocument||n).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var h=r[l],g=r[l+1],T=h[_t]||null;if(typeof g=="function")T||dg(r);else if(T){var C=null;if(g&&g.hasAttribute("formAction")){if(h=g,T=g[_t]||null)C=T.formAction;else if(Bc(h)!==null)continue}else C=T.action;typeof C=="function"?r[l+1]=C:(r.splice(l,3),l-=3),dg(r)}}}function fg(){function n(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(T){return h=T})},focusReset:"manual",scroll:"manual"})}function o(){h!==null&&(h(),h=null),l||setTimeout(r,20)}function r(){if(!l&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(r,100),function(){l=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),h!==null&&(h(),h=null)}}}function Fc(n){this._internalRoot=n}Fa.prototype.render=Fc.prototype.render=function(n){var o=this._internalRoot;if(o===null)throw Error(s(409));var r=o.current,l=kt();ig(r,l,n,o,null,null)},Fa.prototype.unmount=Fc.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var o=n.containerInfo;ig(n.current,2,null,n,null,null),xa(),o[mo]=null}};function Fa(n){this._internalRoot=n}Fa.prototype.unstable_scheduleHydration=function(n){if(n){var o=Sf();n={blockedOn:null,target:n,priority:o};for(var r=0;r<Ei.length&&o!==0&&o<Ei[r].priority;r++);Ei.splice(r,0,n),r===0&&ug(n)}};var hg=e.version;if(hg!=="19.2.4")throw Error(s(527,hg,"19.2.4"));J.findDOMNode=function(n){var o=n._reactInternals;if(o===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=m(o),n=n!==null?v(n):null,n=n===null?null:n.stateNode,n};var kS={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ya=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ya.isDisabled&&Ya.supportsFiber)try{ys=Ya.inject(kS),bt=Ya}catch{}}return cr.createRoot=function(n,o){if(!a(n))throw Error(s(299));var r=!1,l="",h=Tp,g=Ep,T=Sp;return o!=null&&(o.unstable_strictMode===!0&&(r=!0),o.identifierPrefix!==void 0&&(l=o.identifierPrefix),o.onUncaughtError!==void 0&&(h=o.onUncaughtError),o.onCaughtError!==void 0&&(g=o.onCaughtError),o.onRecoverableError!==void 0&&(T=o.onRecoverableError)),o=tg(n,1,!1,null,null,r,l,null,h,g,T,fg),n[mo]=o.current,Ac(n),new Fc(o)},cr.hydrateRoot=function(n,o,r){if(!a(n))throw Error(s(299));var l=!1,h="",g=Tp,T=Ep,C=Sp,A=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(g=r.onUncaughtError),r.onCaughtError!==void 0&&(T=r.onCaughtError),r.onRecoverableError!==void 0&&(C=r.onRecoverableError),r.formState!==void 0&&(A=r.formState)),o=tg(n,1,!0,o,r??null,l,h,A,g,T,C,fg),o.context=ng(null),r=o.current,l=kt(),l=kl(l),h=ri(l),h.callback=null,ai(r,h,l),r=l,o.current.lanes=r,_s(o,r),fn(o),n[mo]=o.current,Ac(n),new Fa(o)},cr.version="19.2.4",cr}var Cg;function YS(){if(Cg)return $c.exports;Cg=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),$c.exports=FS(),$c.exports}var JS=YS();const $S=Q0(JS);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W0=(...t)=>t.filter((e,i,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===i).join(" ").trim();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KS=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XS=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,s)=>s?s.toUpperCase():i.toLowerCase());/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xg=t=>{const e=XS(t);return e.charAt(0).toUpperCase()+e.slice(1)};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var QS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WS=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZS=Q.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:a="",children:u,iconNode:d,...p},y)=>Q.createElement("svg",{ref:y,...QS,width:e,height:e,stroke:t,strokeWidth:s?Number(i)*24/Number(e):i,className:W0("lucide",a),...!u&&!WS(p)&&{"aria-hidden":"true"},...p},[...d.map(([m,v])=>Q.createElement(m,v)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=(t,e)=>{const i=Q.forwardRef(({className:s,...a},u)=>Q.createElement(ZS,{ref:u,iconNode:e,className:W0(`lucide-${KS(xg(t))}`,`lucide-${t}`,s),...a}));return i.displayName=xg(t),i};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jS=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],eC=_e("arrow-left",jS);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Vd=_e("arrow-right",tC);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nC=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Ag=_e("award",nC);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iC=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],zn=_e("book-open",iC);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oC=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],sC=_e("book",oC);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rC=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Z0=_e("briefcase",rC);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aC=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],j0=_e("calendar",aC);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lC=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],dd=_e("check",lC);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uC=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],cC=_e("chevron-left",uC);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dC=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ev=_e("chevron-right",dC);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],hC=_e("circle-alert",fC);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pC=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],mC=_e("circle-check-big",pC);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gC=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],yC=_e("eye",gC);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vC=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M12 17h.01",key:"p32p05"}],["path",{d:"M9.1 9a3 3 0 0 1 5.82 1c0 2-3 3-3 3",key:"mhlwft"}]],_C=_e("file-question-mark",vC);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TC=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],bg=_e("file-text",TC);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EC=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],SC=_e("gift",EC);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],xC=_e("globe",CC);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AC=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],bC=_e("heart",AC);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wC=[["path",{d:"m9 11-6 6v3h9l3-3",key:"1a3l36"}],["path",{d:"m22 12-4.6 4.6a2 2 0 0 1-2.8 0l-5.2-5.2a2 2 0 0 1 0-2.8L14 4",key:"14a9rk"}]],NC=_e("highlighter",wC);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IC=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],RC=_e("house",IC);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MC=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],oo=_e("loader-circle",MC);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DC=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],tv=_e("log-out",DC);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UC=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],kC=_e("maximize-2",UC);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LC=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],wg=_e("message-square",LC);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PC=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],OC=_e("minimize-2",PC);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HC=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],fd=_e("pen-tool",HC);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GC=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],zC=_e("pen",GC);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VC=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],BC=_e("play",VC);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],FC=_e("plus",qC);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YC=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],JC=_e("quote",YC);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $C=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],KC=_e("refresh-cw",$C);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XC=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],hd=_e("search",XC);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QC=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Bd=_e("send",QC);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WC=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Lt=_e("sparkles",WC);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZC=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],nv=_e("star",ZC);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jC=[["path",{d:"M21 9a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 15 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2z",key:"1dfntj"}],["path",{d:"M15 3v5a1 1 0 0 0 1 1h5",key:"6s6qgf"}]],Wc=_e("sticky-note",jC);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ex=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],tx=_e("trending-up",ex);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nx=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Ng=_e("upload",nx);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ix=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],iv=_e("user",ix);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ox=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],sx=_e("wallet",ox);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rx=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],is=_e("x",rx),Ja=({book:t,onClick:e,onRead:i})=>{const[s,a]=Q.useState(!1),u=t.isbn?`https://covers.openlibrary.org/b/isbn/${t.isbn}-L.jpg`:null;return _.jsxs("div",{className:"group relative flex flex-col w-full cursor-pointer",onClick:e,children:[_.jsxs("div",{className:"relative w-full aspect-[2/3] rounded-2xl overflow-hidden shadow-sm transition-all duration-500 group-hover:shadow-[0_20px_40px_-12px_rgba(0,0,0,0.15)] group-hover:-translate-y-2",children:[!s&&u?_.jsx("img",{src:u,alt:t.title,className:"w-full h-full object-cover",onError:()=>a(!0),loading:"lazy"}):_.jsxs("div",{className:"w-full h-full flex items-center justify-center relative overflow-hidden",style:{background:`linear-gradient(to bottom right, ${t.coverColor} 0%, #ffffff 150%)`},children:[_.jsx("div",{className:"absolute inset-0 opacity-10 bg-[radial-gradient(circle_at_top_right,_var(--tw-gradient-stops))] from-black to-transparent"}),_.jsx("div",{className:"transform group-hover:scale-110 group-hover:rotate-3 transition-transform duration-700 ease-[cubic-bezier(0.34,1.56,0.64,1)]",children:_.jsx(zn,{className:"text-black/20 w-16 h-16",strokeWidth:1.5})}),_.jsx("div",{className:"absolute bottom-4 left-4 right-4 text-center",children:_.jsx("p",{className:"text-[10px] font-bold uppercase tracking-widest text-black/40 mb-1",children:"Untitled"})})]}),_.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-colors duration-300 flex items-center justify-center opacity-0 group-hover:opacity-100",children:_.jsxs("button",{onClick:i,className:"bg-white/90 backdrop-blur-xl text-gray-900 px-5 py-2.5 rounded-full text-xs font-bold shadow-xl transform scale-90 group-hover:scale-100 transition-all duration-300 flex items-center gap-2 hover:bg-white",children:[_.jsx(BC,{size:12,className:"fill-current"})," READ"]})}),t.matchReason&&_.jsx("div",{className:"absolute top-2 left-2 z-10",children:_.jsxs("div",{className:"inline-flex items-center gap-1 bg-white/90 backdrop-blur-md px-2 py-1 rounded-md shadow-sm border border-white/50",children:[_.jsx(Lt,{size:8,className:"text-blue-500 fill-blue-500"}),_.jsx("span",{className:"text-[8px] font-bold uppercase tracking-wide text-gray-800",children:"Match"})]})})]}),_.jsxs("div",{className:"mt-3 space-y-1",children:[_.jsx("h3",{className:"font-serif font-bold text-gray-900 text-base leading-tight line-clamp-2 group-hover:text-blue-600 transition-colors",children:t.title}),_.jsx("p",{className:"text-xs text-gray-500 font-medium line-clamp-1",children:t.author}),_.jsxs("div",{className:"flex items-center gap-3 pt-1",children:[t.reviewSnippet&&_.jsxs("div",{className:"flex items-center gap-1 text-[10px] font-bold text-blue-600 bg-blue-50 px-1.5 py-0.5 rounded",children:[_.jsx(tx,{size:8})," Buzz"]}),_.jsxs("div",{className:"flex items-center gap-0.5",children:[_.jsx(nv,{size:10,className:"text-yellow-400 fill-yellow-400"}),_.jsx("span",{className:"text-[10px] font-bold text-gray-400",children:"4.8"})]})]})]})]})};var ax={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let lx,ux;function cx(){return{geminiUrl:lx,vertexUrl:ux}}function dx(t,e,i,s){var a,u;if(!(t!=null&&t.baseUrl)){const d=cx();return e?(a=d.vertexUrl)!==null&&a!==void 0?a:i:(u=d.geminiUrl)!==null&&u!==void 0?u:s}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $n{}function W(t,e){const i=/\{([^}]+)\}/g;return t.replace(i,(s,a)=>{if(Object.prototype.hasOwnProperty.call(e,a)){const u=e[a];return u!=null?String(u):""}else throw new Error(`Key '${a}' not found in valueMap.`)})}function f(t,e,i){for(let u=0;u<e.length-1;u++){const d=e[u];if(d.endsWith("[]")){const p=d.slice(0,-2);if(!(p in t))if(Array.isArray(i))t[p]=Array.from({length:i.length},()=>({}));else throw new Error(`Value must be a list given an array path ${d}`);if(Array.isArray(t[p])){const y=t[p];if(Array.isArray(i))for(let m=0;m<y.length;m++){const v=y[m];f(v,e.slice(u+1),i[m])}else for(const m of y)f(m,e.slice(u+1),i)}return}else if(d.endsWith("[0]")){const p=d.slice(0,-3);p in t||(t[p]=[{}]);const y=t[p];f(y[0],e.slice(u+1),i);return}(!t[d]||typeof t[d]!="object")&&(t[d]={}),t=t[d]}const s=e[e.length-1],a=t[s];if(a!==void 0){if(!i||typeof i=="object"&&Object.keys(i).length===0||i===a)return;if(typeof a=="object"&&typeof i=="object"&&a!==null&&i!==null)Object.assign(a,i);else throw new Error(`Cannot set value for an existing key. Key: ${s}`)}else s==="_self"&&typeof i=="object"&&i!==null&&!Array.isArray(i)?Object.assign(t,i):t[s]=i}function c(t,e,i=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let s=0;s<e.length;s++){if(typeof t!="object"||t===null)return i;const a=e[s];if(a.endsWith("[]")){const u=a.slice(0,-2);if(u in t){const d=t[u];return Array.isArray(d)?d.map(p=>c(p,e.slice(s+1),i)):i}else return i}else t=t[a]}return t}catch(s){if(s instanceof TypeError)return i;throw s}}function fx(t,e){for(const[i,s]of Object.entries(e)){const a=i.split("."),u=s.split("."),d=new Set;let p=-1;for(let y=0;y<a.length;y++)if(a[y]==="*"){p=y;break}if(p!==-1&&u.length>p)for(let y=p;y<u.length;y++){const m=u[y];m!=="*"&&!m.endsWith("[]")&&!m.endsWith("[0]")&&d.add(m)}pd(t,a,u,0,d)}}function pd(t,e,i,s,a){if(s>=e.length||typeof t!="object"||t===null)return;const u=e[s];if(u.endsWith("[]")){const d=u.slice(0,-2),p=t;if(d in p&&Array.isArray(p[d]))for(const y of p[d])pd(y,e,i,s+1,a)}else if(u==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const d=t,p=Object.keys(d).filter(m=>!m.startsWith("_")&&!a.has(m)),y={};for(const m of p)y[m]=d[m];for(const[m,v]of Object.entries(y)){const E=[];for(const S of i.slice(s))S==="*"?E.push(m):E.push(S);f(d,E,v)}for(const m of p)delete d[m]}}else{const d=t;u in d&&pd(d[u],e,i,s+1,a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qd(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hx(t){const e={},i=c(t,["operationName"]);i!=null&&f(e,["operationName"],i);const s=c(t,["resourceName"]);return s!=null&&f(e,["_url","resourceName"],s),e}function px(t){const e={},i=c(t,["name"]);i!=null&&f(e,["name"],i);const s=c(t,["metadata"]);s!=null&&f(e,["metadata"],s);const a=c(t,["done"]);a!=null&&f(e,["done"],a);const u=c(t,["error"]);u!=null&&f(e,["error"],u);const d=c(t,["response","generateVideoResponse"]);return d!=null&&f(e,["response"],gx(d)),e}function mx(t){const e={},i=c(t,["name"]);i!=null&&f(e,["name"],i);const s=c(t,["metadata"]);s!=null&&f(e,["metadata"],s);const a=c(t,["done"]);a!=null&&f(e,["done"],a);const u=c(t,["error"]);u!=null&&f(e,["error"],u);const d=c(t,["response"]);return d!=null&&f(e,["response"],yx(d)),e}function gx(t){const e={},i=c(t,["generatedSamples"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(d=>vx(d))),f(e,["generatedVideos"],u)}const s=c(t,["raiMediaFilteredCount"]);s!=null&&f(e,["raiMediaFilteredCount"],s);const a=c(t,["raiMediaFilteredReasons"]);return a!=null&&f(e,["raiMediaFilteredReasons"],a),e}function yx(t){const e={},i=c(t,["videos"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(d=>_x(d))),f(e,["generatedVideos"],u)}const s=c(t,["raiMediaFilteredCount"]);s!=null&&f(e,["raiMediaFilteredCount"],s);const a=c(t,["raiMediaFilteredReasons"]);return a!=null&&f(e,["raiMediaFilteredReasons"],a),e}function vx(t){const e={},i=c(t,["video"]);return i!=null&&f(e,["video"],Ax(i)),e}function _x(t){const e={},i=c(t,["_self"]);return i!=null&&f(e,["video"],bx(i)),e}function Tx(t){const e={},i=c(t,["operationName"]);return i!=null&&f(e,["_url","operationName"],i),e}function Ex(t){const e={},i=c(t,["operationName"]);return i!=null&&f(e,["_url","operationName"],i),e}function Sx(t){const e={},i=c(t,["name"]);i!=null&&f(e,["name"],i);const s=c(t,["metadata"]);s!=null&&f(e,["metadata"],s);const a=c(t,["done"]);a!=null&&f(e,["done"],a);const u=c(t,["error"]);u!=null&&f(e,["error"],u);const d=c(t,["response"]);return d!=null&&f(e,["response"],Cx(d)),e}function Cx(t){const e={},i=c(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const s=c(t,["parent"]);s!=null&&f(e,["parent"],s);const a=c(t,["documentName"]);return a!=null&&f(e,["documentName"],a),e}function ov(t){const e={},i=c(t,["name"]);i!=null&&f(e,["name"],i);const s=c(t,["metadata"]);s!=null&&f(e,["metadata"],s);const a=c(t,["done"]);a!=null&&f(e,["done"],a);const u=c(t,["error"]);u!=null&&f(e,["error"],u);const d=c(t,["response"]);return d!=null&&f(e,["response"],xx(d)),e}function xx(t){const e={},i=c(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const s=c(t,["parent"]);s!=null&&f(e,["parent"],s);const a=c(t,["documentName"]);return a!=null&&f(e,["documentName"],a),e}function Ax(t){const e={},i=c(t,["uri"]);i!=null&&f(e,["uri"],i);const s=c(t,["encodedVideo"]);s!=null&&f(e,["videoBytes"],qd(s));const a=c(t,["encoding"]);return a!=null&&f(e,["mimeType"],a),e}function bx(t){const e={},i=c(t,["gcsUri"]);i!=null&&f(e,["uri"],i);const s=c(t,["bytesBase64Encoded"]);s!=null&&f(e,["videoBytes"],qd(s));const a=c(t,["mimeType"]);return a!=null&&f(e,["mimeType"],a),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Ig;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Ig||(Ig={}));var Rg;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(Rg||(Rg={}));var Mg;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(Mg||(Mg={}));var Ni;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Ni||(Ni={}));var Dg;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Dg||(Dg={}));var Ug;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(Ug||(Ug={}));var kg;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(kg||(kg={}));var Lg;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Lg||(Lg={}));var Pg;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(Pg||(Pg={}));var Og;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Og||(Og={}));var Hg;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(Hg||(Hg={}));var Gg;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(Gg||(Gg={}));var zg;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(zg||(zg={}));var Vg;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(Vg||(Vg={}));var Bg;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(Bg||(Bg={}));var qg;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(qg||(qg={}));var Fg;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(Fg||(Fg={}));var Yg;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Yg||(Yg={}));var Jg;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Jg||(Jg={}));var $g;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})($g||($g={}));var Kg;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Kg||(Kg={}));var rl;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(rl||(rl={}));var Xg;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Xg||(Xg={}));var Qg;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Qg||(Qg={}));var Wg;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Wg||(Wg={}));var md;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(md||(md={}));var Zg;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Zg||(Zg={}));var jg;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(jg||(jg={}));var gd;(function(t){t.COLLECTION="COLLECTION"})(gd||(gd={}));var ey;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(ey||(ey={}));var ty;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(ty||(ty={}));var ny;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(ny||(ny={}));var iy;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(iy||(iy={}));var oy;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(oy||(oy={}));var sy;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(sy||(sy={}));var ry;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(ry||(ry={}));var ay;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(ay||(ay={}));var ly;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(ly||(ly={}));var uy;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(uy||(uy={}));var cy;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(cy||(cy={}));var dy;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(dy||(dy={}));var fy;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(fy||(fy={}));var hy;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(hy||(hy={}));var py;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(py||(py={}));var my;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(my||(my={}));var gy;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED",t.REGISTERED="REGISTERED"})(gy||(gy={}));var yy;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(yy||(yy={}));var vy;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(vy||(vy={}));var _y;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(_y||(_y={}));var Ty;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.ACTIVITY_START="ACTIVITY_START",t.ACTIVITY_END="ACTIVITY_END"})(Ty||(Ty={}));var Ey;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Ey||(Ey={}));var Sy;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Sy||(Sy={}));var Cy;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(Cy||(Cy={}));var xy;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(xy||(xy={}));var Ay;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Ay||(Ay={}));var by;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(by||(by={}));var es;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(es||(es={}));class yd{constructor(e){const i={};for(const s of e.headers.entries())i[s[0]]=s[1];this.headers=i,this.responseInternal=e}json(){return this.responseInternal.json()}}class dr{get text(){var e,i,s,a,u,d,p,y;if(((a=(s=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||s===void 0?void 0:s.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let m="",v=!1;const E=[];for(const S of(y=(p=(d=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.content)===null||p===void 0?void 0:p.parts)!==null&&y!==void 0?y:[]){for(const[x,N]of Object.entries(S))x!=="text"&&x!=="thought"&&x!=="thoughtSignature"&&(N!==null||N!==void 0)&&E.push(x);if(typeof S.text=="string"){if(typeof S.thought=="boolean"&&S.thought)continue;v=!0,m+=S.text}}return E.length>0&&console.warn(`there are non-text parts ${E} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?m:void 0}get data(){var e,i,s,a,u,d,p,y;if(((a=(s=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||s===void 0?void 0:s.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let m="";const v=[];for(const E of(y=(p=(d=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.content)===null||p===void 0?void 0:p.parts)!==null&&y!==void 0?y:[]){for(const[S,x]of Object.entries(E))S!=="inlineData"&&(x!==null||x!==void 0)&&v.push(S);E.inlineData&&typeof E.inlineData.data=="string"&&(m+=atob(E.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),m.length>0?btoa(m):void 0}get functionCalls(){var e,i,s,a,u,d,p,y;if(((a=(s=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||s===void 0?void 0:s.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const m=(y=(p=(d=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.content)===null||p===void 0?void 0:p.parts)===null||y===void 0?void 0:y.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((m==null?void 0:m.length)!==0)return m}get executableCode(){var e,i,s,a,u,d,p,y,m;if(((a=(s=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||s===void 0?void 0:s.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(y=(p=(d=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.content)===null||p===void 0?void 0:p.parts)===null||y===void 0?void 0:y.filter(E=>E.executableCode).map(E=>E.executableCode).filter(E=>E!==void 0);if((v==null?void 0:v.length)!==0)return(m=v==null?void 0:v[0])===null||m===void 0?void 0:m.code}get codeExecutionResult(){var e,i,s,a,u,d,p,y,m;if(((a=(s=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||s===void 0?void 0:s.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(y=(p=(d=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.content)===null||p===void 0?void 0:p.parts)===null||y===void 0?void 0:y.filter(E=>E.codeExecutionResult).map(E=>E.codeExecutionResult).filter(E=>E!==void 0);if((v==null?void 0:v.length)!==0)return(m=v==null?void 0:v[0])===null||m===void 0?void 0:m.output}}class wy{}class Ny{}class wx{}class Nx{}class Ix{}class Rx{}class Iy{}class Ry{}class My{}class Mx{}class al{_fromAPIResponse({apiResponse:e,_isVertexAI:i}){const s=new al;let a;const u=e;return i?a=mx(u):a=px(u),Object.assign(s,a),s}}class Dy{}class Uy{}class ky{}class Ly{}class Dx{}class Ux{}class kx{}class Fd{_fromAPIResponse({apiResponse:e,_isVertexAI:i}){const s=new Fd,u=Sx(e);return Object.assign(s,u),s}}class Lx{}class Px{}class Ox{}class Py{}class Hx{get text(){var e,i,s;let a="",u=!1;const d=[];for(const p of(s=(i=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||i===void 0?void 0:i.parts)!==null&&s!==void 0?s:[]){for(const[y,m]of Object.entries(p))y!=="text"&&y!=="thought"&&m!==null&&d.push(y);if(typeof p.text=="string"){if(typeof p.thought=="boolean"&&p.thought)continue;u=!0,a+=p.text}}return d.length>0&&console.warn(`there are non-text parts ${d} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),u?a:void 0}get data(){var e,i,s;let a="";const u=[];for(const d of(s=(i=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||i===void 0?void 0:i.parts)!==null&&s!==void 0?s:[]){for(const[p,y]of Object.entries(d))p!=="inlineData"&&y!==null&&u.push(p);d.inlineData&&typeof d.inlineData.data=="string"&&(a+=atob(d.inlineData.data))}return u.length>0&&console.warn(`there are non-data parts ${u} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),a.length>0?btoa(a):void 0}}class Gx{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Yd{_fromAPIResponse({apiResponse:e,_isVertexAI:i}){const s=new Yd,u=ov(e);return Object.assign(s,u),s}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Me(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const i=e.split("/",2);return`publishers/${i[0]}/models/${i[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function sv(t,e){const i=Me(t,e);return i?i.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${i}`:i.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${i}`:i:""}function rv(t){return Array.isArray(t)?t.map(e=>ll(e)):[ll(t)]}function ll(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function av(t){const e=ll(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function lv(t){const e=ll(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Oy(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function uv(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>Oy(e)):[Oy(t)]}function vd(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function Hy(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function Gy(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function ft(t){if(t==null)throw new Error("ContentUnion is required");return vd(t)?t:{role:"user",parts:uv(t)}}function Jd(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(i=>{const s=ft(i);return s.parts&&s.parts.length>0&&s.parts[0].text!==void 0?[s.parts[0].text]:[]});if(t.isVertexAI()){const i=ft(e);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]}return Array.isArray(e)?e.map(i=>ft(i)):[ft(e)]}function Xt(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(Hy(t)||Gy(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[ft(t)]}const e=[],i=[],s=vd(t[0]);for(const a of t){const u=vd(a);if(u!=s)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(u)e.push(a);else{if(Hy(a)||Gy(a))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");i.push(a)}}return s||e.push({role:"user",parts:uv(i)}),e}function zx(t,e){t.includes("null")&&(e.nullable=!0);const i=t.filter(s=>s!=="null");if(i.length===1)e.type=Object.values(Ni).includes(i[0].toUpperCase())?i[0].toUpperCase():Ni.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const s of i)e.anyOf.push({type:Object.values(Ni).includes(s.toUpperCase())?s.toUpperCase():Ni.TYPE_UNSPECIFIED})}}function os(t){const e={},i=["items"],s=["anyOf"],a=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const u=t.anyOf;u!=null&&u.length==2&&(u[0].type==="null"?(e.nullable=!0,t=u[1]):u[1].type==="null"&&(e.nullable=!0,t=u[0])),t.type instanceof Array&&zx(t.type,e);for(const[d,p]of Object.entries(t))if(p!=null)if(d=="type"){if(p==="null")throw new Error("type: null can not be the only possible type for the field.");if(p instanceof Array)continue;e.type=Object.values(Ni).includes(p.toUpperCase())?p.toUpperCase():Ni.TYPE_UNSPECIFIED}else if(i.includes(d))e[d]=os(p);else if(s.includes(d)){const y=[];for(const m of p){if(m.type=="null"){e.nullable=!0;continue}y.push(os(m))}e[d]=y}else if(a.includes(d)){const y={};for(const[m,v]of Object.entries(p))y[m]=os(v);e[d]=y}else{if(d==="additionalProperties")continue;e[d]=p}return e}function $d(t){return os(t)}function Kd(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Xd(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function ds(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=os(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=os(e.response));return t}function fs(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const i of t)e.push(i);return e}function Vx(t,e,i,s=1){const a=!e.startsWith(`${i}/`)&&e.split("/").length===s;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${i}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:a?`projects/${t.getProject()}/locations/${t.getLocation()}/${i}/${e}`:e:a?`${i}/${e}`:e}function Kn(t,e){if(typeof e!="string")throw new Error("name must be a string");return Vx(t,e,"cachedContents")}function cv(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Mi(t){return qd(t)}function Bx(t){return t!=null&&typeof t=="object"&&"name"in t}function qx(t){return t!=null&&typeof t=="object"&&"video"in t}function Fx(t){return t!=null&&typeof t=="object"&&"uri"in t}function dv(t){var e;let i;if(Bx(t)&&(i=t.name),!(Fx(t)&&(i=t.uri,i===void 0))&&!(qx(t)&&(i=(e=t.video)===null||e===void 0?void 0:e.uri,i===void 0))){if(typeof t=="string"&&(i=t),i===void 0)throw new Error("Could not extract file name from the provided input.");if(i.startsWith("https://")){const a=i.split("files/")[1].match(/[a-z0-9]+/);if(a===null)throw new Error(`Could not extract file name from URI ${i}`);i=a[0]}else i.startsWith("files/")&&(i=i.split("files/")[1]);return i}}function fv(t,e){let i;return t.isVertexAI()?i=e?"publishers/google/models":"models":i=e?"models":"tunedModels",i}function hv(t){for(const e of["models","tunedModels","publisherModels"])if(Yx(t,e))return t[e];return[]}function Yx(t,e){return t!==null&&typeof t=="object"&&e in t}function Jx(t,e={}){const i=t,s={name:i.name,description:i.description,parametersJsonSchema:i.inputSchema};return i.outputSchema&&(s.responseJsonSchema=i.outputSchema),e.behavior&&(s.behavior=e.behavior),{functionDeclarations:[s]}}function $x(t,e={}){const i=[],s=new Set;for(const a of t){const u=a.name;if(s.has(u))throw new Error(`Duplicate function name ${u} found in MCP tools. Please ensure function names are unique.`);s.add(u);const d=Jx(a,e);d.functionDeclarations&&i.push(...d.functionDeclarations)}return{functionDeclarations:i}}function pv(t,e){let i;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))i={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))i={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))i={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");i={inlinedRequests:e}}else i=e;const s=[i.gcsUri,i.bigqueryUri].filter(Boolean).length,a=[i.inlinedRequests,i.fileName].filter(Boolean).length;if(t.isVertexAI()){if(a>0||s!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(s>0||a!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return i}function Kx(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function mv(t){if(typeof t!="object"||t===null)return{};const e=t,i=e.inlinedResponses;if(typeof i!="object"||i===null)return t;const a=i.inlinedResponses;if(!Array.isArray(a)||a.length===0)return t;let u=!1;for(const d of a){if(typeof d!="object"||d===null)continue;const y=d.response;if(typeof y!="object"||y===null)continue;if(y.embedding!==void 0){u=!0;break}}return u&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function hs(t,e){const i=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(i))return i.split("/").pop();throw new Error(`Invalid batch job name: ${i}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(i))return i.split("/").pop();if(/^\d+$/.test(i))return i;throw new Error(`Invalid batch job name: ${i}.`)}function gv(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Xx(t){const e={},i=c(t,["responsesFile"]);i!=null&&f(e,["fileName"],i);const s=c(t,["inlinedResponses","inlinedResponses"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>IA(d))),f(e,["inlinedResponses"],u)}const a=c(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>d)),f(e,["inlinedEmbedContentResponses"],u)}return e}function Qx(t){const e={},i=c(t,["predictionsFormat"]);i!=null&&f(e,["format"],i);const s=c(t,["gcsDestination","outputUriPrefix"]);s!=null&&f(e,["gcsUri"],s);const a=c(t,["bigqueryDestination","outputUri"]);return a!=null&&f(e,["bigqueryUri"],a),e}function Wx(t){const e={},i=c(t,["format"]);i!=null&&f(e,["predictionsFormat"],i);const s=c(t,["gcsUri"]);s!=null&&f(e,["gcsDestination","outputUriPrefix"],s);const a=c(t,["bigqueryUri"]);if(a!=null&&f(e,["bigqueryDestination","outputUri"],a),c(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(c(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(c(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function ja(t){const e={},i=c(t,["name"]);i!=null&&f(e,["name"],i);const s=c(t,["metadata","displayName"]);s!=null&&f(e,["displayName"],s);const a=c(t,["metadata","state"]);a!=null&&f(e,["state"],gv(a));const u=c(t,["metadata","createTime"]);u!=null&&f(e,["createTime"],u);const d=c(t,["metadata","endTime"]);d!=null&&f(e,["endTime"],d);const p=c(t,["metadata","updateTime"]);p!=null&&f(e,["updateTime"],p);const y=c(t,["metadata","model"]);y!=null&&f(e,["model"],y);const m=c(t,["metadata","output"]);return m!=null&&f(e,["dest"],Xx(mv(m))),e}function _d(t){const e={},i=c(t,["name"]);i!=null&&f(e,["name"],i);const s=c(t,["displayName"]);s!=null&&f(e,["displayName"],s);const a=c(t,["state"]);a!=null&&f(e,["state"],gv(a));const u=c(t,["error"]);u!=null&&f(e,["error"],u);const d=c(t,["createTime"]);d!=null&&f(e,["createTime"],d);const p=c(t,["startTime"]);p!=null&&f(e,["startTime"],p);const y=c(t,["endTime"]);y!=null&&f(e,["endTime"],y);const m=c(t,["updateTime"]);m!=null&&f(e,["updateTime"],m);const v=c(t,["model"]);v!=null&&f(e,["model"],v);const E=c(t,["inputConfig"]);E!=null&&f(e,["src"],Zx(E));const S=c(t,["outputConfig"]);S!=null&&f(e,["dest"],Qx(mv(S)));const x=c(t,["completionStats"]);return x!=null&&f(e,["completionStats"],x),e}function Zx(t){const e={},i=c(t,["instancesFormat"]);i!=null&&f(e,["format"],i);const s=c(t,["gcsSource","uris"]);s!=null&&f(e,["gcsUri"],s);const a=c(t,["bigquerySource","inputUri"]);return a!=null&&f(e,["bigqueryUri"],a),e}function jx(t,e){const i={};if(c(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(c(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(c(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const s=c(e,["fileName"]);s!=null&&f(i,["fileName"],s);const a=c(e,["inlinedRequests"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>NA(t,d))),f(i,["requests","requests"],u)}return i}function eA(t){const e={},i=c(t,["format"]);i!=null&&f(e,["instancesFormat"],i);const s=c(t,["gcsUri"]);s!=null&&f(e,["gcsSource","uris"],s);const a=c(t,["bigqueryUri"]);if(a!=null&&f(e,["bigquerySource","inputUri"],a),c(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(c(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function tA(t){const e={},i=c(t,["data"]);if(i!=null&&f(e,["data"],i),c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=c(t,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function nA(t,e){const i={},s=c(e,["name"]);return s!=null&&f(i,["_url","name"],hs(t,s)),i}function iA(t,e){const i={},s=c(e,["name"]);return s!=null&&f(i,["_url","name"],hs(t,s)),i}function oA(t){const e={},i=c(t,["content"]);i!=null&&f(e,["content"],i);const s=c(t,["citationMetadata"]);s!=null&&f(e,["citationMetadata"],sA(s));const a=c(t,["tokenCount"]);a!=null&&f(e,["tokenCount"],a);const u=c(t,["finishReason"]);u!=null&&f(e,["finishReason"],u);const d=c(t,["avgLogprobs"]);d!=null&&f(e,["avgLogprobs"],d);const p=c(t,["groundingMetadata"]);p!=null&&f(e,["groundingMetadata"],p);const y=c(t,["index"]);y!=null&&f(e,["index"],y);const m=c(t,["logprobsResult"]);m!=null&&f(e,["logprobsResult"],m);const v=c(t,["safetyRatings"]);if(v!=null){let S=v;Array.isArray(S)&&(S=S.map(x=>x)),f(e,["safetyRatings"],S)}const E=c(t,["urlContextMetadata"]);return E!=null&&f(e,["urlContextMetadata"],E),e}function sA(t){const e={},i=c(t,["citationSources"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),f(e,["citations"],s)}return e}function yv(t){const e={},i=c(t,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>PA(u))),f(e,["parts"],a)}const s=c(t,["role"]);return s!=null&&f(e,["role"],s),e}function rA(t,e){const i={},s=c(t,["displayName"]);if(e!==void 0&&s!=null&&f(e,["batch","displayName"],s),c(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return i}function aA(t,e){const i={},s=c(t,["displayName"]);e!==void 0&&s!=null&&f(e,["displayName"],s);const a=c(t,["dest"]);return e!==void 0&&a!=null&&f(e,["outputConfig"],Wx(Kx(a))),i}function zy(t,e){const i={},s=c(e,["model"]);s!=null&&f(i,["_url","model"],Me(t,s));const a=c(e,["src"]);a!=null&&f(i,["batch","inputConfig"],jx(t,pv(t,a)));const u=c(e,["config"]);return u!=null&&rA(u,i),i}function lA(t,e){const i={},s=c(e,["model"]);s!=null&&f(i,["model"],Me(t,s));const a=c(e,["src"]);a!=null&&f(i,["inputConfig"],eA(pv(t,a)));const u=c(e,["config"]);return u!=null&&aA(u,i),i}function uA(t,e){const i={},s=c(t,["displayName"]);return e!==void 0&&s!=null&&f(e,["batch","displayName"],s),i}function cA(t,e){const i={},s=c(e,["model"]);s!=null&&f(i,["_url","model"],Me(t,s));const a=c(e,["src"]);a!=null&&f(i,["batch","inputConfig"],yA(t,a));const u=c(e,["config"]);return u!=null&&uA(u,i),i}function dA(t,e){const i={},s=c(e,["name"]);return s!=null&&f(i,["_url","name"],hs(t,s)),i}function fA(t,e){const i={},s=c(e,["name"]);return s!=null&&f(i,["_url","name"],hs(t,s)),i}function hA(t){const e={},i=c(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const s=c(t,["name"]);s!=null&&f(e,["name"],s);const a=c(t,["done"]);a!=null&&f(e,["done"],a);const u=c(t,["error"]);return u!=null&&f(e,["error"],u),e}function pA(t){const e={},i=c(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const s=c(t,["name"]);s!=null&&f(e,["name"],s);const a=c(t,["done"]);a!=null&&f(e,["done"],a);const u=c(t,["error"]);return u!=null&&f(e,["error"],u),e}function mA(t,e){const i={},s=c(e,["contents"]);if(s!=null){let u=Jd(t,s);Array.isArray(u)&&(u=u.map(d=>d)),f(i,["requests[]","request","content"],u)}const a=c(e,["config"]);return a!=null&&(f(i,["_self"],gA(a,i)),fx(i,{"requests[].*":"requests[].request.*"})),i}function gA(t,e){const i={},s=c(t,["taskType"]);e!==void 0&&s!=null&&f(e,["requests[]","taskType"],s);const a=c(t,["title"]);e!==void 0&&a!=null&&f(e,["requests[]","title"],a);const u=c(t,["outputDimensionality"]);if(e!==void 0&&u!=null&&f(e,["requests[]","outputDimensionality"],u),c(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(c(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function yA(t,e){const i={},s=c(e,["fileName"]);s!=null&&f(i,["file_name"],s);const a=c(e,["inlinedRequests"]);return a!=null&&f(i,["requests"],mA(t,a)),i}function vA(t){const e={};if(c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=c(t,["fileUri"]);i!=null&&f(e,["fileUri"],i);const s=c(t,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function _A(t){const e={},i=c(t,["id"]);i!=null&&f(e,["id"],i);const s=c(t,["args"]);s!=null&&f(e,["args"],s);const a=c(t,["name"]);if(a!=null&&f(e,["name"],a),c(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function TA(t){const e={},i=c(t,["allowedFunctionNames"]);i!=null&&f(e,["allowedFunctionNames"],i);const s=c(t,["mode"]);if(s!=null&&f(e,["mode"],s),c(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function EA(t,e,i){const s={},a=c(e,["systemInstruction"]);i!==void 0&&a!=null&&f(i,["systemInstruction"],yv(ft(a)));const u=c(e,["temperature"]);u!=null&&f(s,["temperature"],u);const d=c(e,["topP"]);d!=null&&f(s,["topP"],d);const p=c(e,["topK"]);p!=null&&f(s,["topK"],p);const y=c(e,["candidateCount"]);y!=null&&f(s,["candidateCount"],y);const m=c(e,["maxOutputTokens"]);m!=null&&f(s,["maxOutputTokens"],m);const v=c(e,["stopSequences"]);v!=null&&f(s,["stopSequences"],v);const E=c(e,["responseLogprobs"]);E!=null&&f(s,["responseLogprobs"],E);const S=c(e,["logprobs"]);S!=null&&f(s,["logprobs"],S);const x=c(e,["presencePenalty"]);x!=null&&f(s,["presencePenalty"],x);const N=c(e,["frequencyPenalty"]);N!=null&&f(s,["frequencyPenalty"],N);const k=c(e,["seed"]);k!=null&&f(s,["seed"],k);const U=c(e,["responseMimeType"]);U!=null&&f(s,["responseMimeType"],U);const L=c(e,["responseSchema"]);L!=null&&f(s,["responseSchema"],$d(L));const q=c(e,["responseJsonSchema"]);if(q!=null&&f(s,["responseJsonSchema"],q),c(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(c(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const F=c(e,["safetySettings"]);if(i!==void 0&&F!=null){let Te=F;Array.isArray(Te)&&(Te=Te.map(Fe=>OA(Fe))),f(i,["safetySettings"],Te)}const $=c(e,["tools"]);if(i!==void 0&&$!=null){let Te=fs($);Array.isArray(Te)&&(Te=Te.map(Fe=>GA(ds(Fe)))),f(i,["tools"],Te)}const Y=c(e,["toolConfig"]);if(i!==void 0&&Y!=null&&f(i,["toolConfig"],HA(Y)),c(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const te=c(e,["cachedContent"]);i!==void 0&&te!=null&&f(i,["cachedContent"],Kn(t,te));const K=c(e,["responseModalities"]);K!=null&&f(s,["responseModalities"],K);const de=c(e,["mediaResolution"]);de!=null&&f(s,["mediaResolution"],de);const Z=c(e,["speechConfig"]);if(Z!=null&&f(s,["speechConfig"],Kd(Z)),c(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const fe=c(e,["thinkingConfig"]);fe!=null&&f(s,["thinkingConfig"],fe);const me=c(e,["imageConfig"]);me!=null&&f(s,["imageConfig"],wA(me));const ge=c(e,["enableEnhancedCivicAnswers"]);if(ge!=null&&f(s,["enableEnhancedCivicAnswers"],ge),c(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return s}function SA(t){const e={},i=c(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const s=c(t,["candidates"]);if(s!=null){let y=s;Array.isArray(y)&&(y=y.map(m=>oA(m))),f(e,["candidates"],y)}const a=c(t,["modelVersion"]);a!=null&&f(e,["modelVersion"],a);const u=c(t,["promptFeedback"]);u!=null&&f(e,["promptFeedback"],u);const d=c(t,["responseId"]);d!=null&&f(e,["responseId"],d);const p=c(t,["usageMetadata"]);return p!=null&&f(e,["usageMetadata"],p),e}function CA(t,e){const i={},s=c(e,["name"]);return s!=null&&f(i,["_url","name"],hs(t,s)),i}function xA(t,e){const i={},s=c(e,["name"]);return s!=null&&f(i,["_url","name"],hs(t,s)),i}function AA(t){const e={};if(c(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=c(t,["enableWidget"]);return i!=null&&f(e,["enableWidget"],i),e}function bA(t){const e={};if(c(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=c(t,["timeRangeFilter"]);return i!=null&&f(e,["timeRangeFilter"],i),e}function wA(t){const e={},i=c(t,["aspectRatio"]);i!=null&&f(e,["aspectRatio"],i);const s=c(t,["imageSize"]);if(s!=null&&f(e,["imageSize"],s),c(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(c(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(c(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function NA(t,e){const i={},s=c(e,["model"]);s!=null&&f(i,["request","model"],Me(t,s));const a=c(e,["contents"]);if(a!=null){let p=Xt(a);Array.isArray(p)&&(p=p.map(y=>yv(y))),f(i,["request","contents"],p)}const u=c(e,["metadata"]);u!=null&&f(i,["metadata"],u);const d=c(e,["config"]);return d!=null&&f(i,["request","generationConfig"],EA(t,d,c(i,["request"],{}))),i}function IA(t){const e={},i=c(t,["response"]);i!=null&&f(e,["response"],SA(i));const s=c(t,["error"]);return s!=null&&f(e,["error"],s),e}function RA(t,e){const i={},s=c(t,["pageSize"]);e!==void 0&&s!=null&&f(e,["_query","pageSize"],s);const a=c(t,["pageToken"]);if(e!==void 0&&a!=null&&f(e,["_query","pageToken"],a),c(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return i}function MA(t,e){const i={},s=c(t,["pageSize"]);e!==void 0&&s!=null&&f(e,["_query","pageSize"],s);const a=c(t,["pageToken"]);e!==void 0&&a!=null&&f(e,["_query","pageToken"],a);const u=c(t,["filter"]);return e!==void 0&&u!=null&&f(e,["_query","filter"],u),i}function DA(t){const e={},i=c(t,["config"]);return i!=null&&RA(i,e),e}function UA(t){const e={},i=c(t,["config"]);return i!=null&&MA(i,e),e}function kA(t){const e={},i=c(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const s=c(t,["nextPageToken"]);s!=null&&f(e,["nextPageToken"],s);const a=c(t,["operations"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>ja(d))),f(e,["batchJobs"],u)}return e}function LA(t){const e={},i=c(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const s=c(t,["nextPageToken"]);s!=null&&f(e,["nextPageToken"],s);const a=c(t,["batchPredictionJobs"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>_d(d))),f(e,["batchJobs"],u)}return e}function PA(t){const e={},i=c(t,["mediaResolution"]);i!=null&&f(e,["mediaResolution"],i);const s=c(t,["codeExecutionResult"]);s!=null&&f(e,["codeExecutionResult"],s);const a=c(t,["executableCode"]);a!=null&&f(e,["executableCode"],a);const u=c(t,["fileData"]);u!=null&&f(e,["fileData"],vA(u));const d=c(t,["functionCall"]);d!=null&&f(e,["functionCall"],_A(d));const p=c(t,["functionResponse"]);p!=null&&f(e,["functionResponse"],p);const y=c(t,["inlineData"]);y!=null&&f(e,["inlineData"],tA(y));const m=c(t,["text"]);m!=null&&f(e,["text"],m);const v=c(t,["thought"]);v!=null&&f(e,["thought"],v);const E=c(t,["thoughtSignature"]);E!=null&&f(e,["thoughtSignature"],E);const S=c(t,["videoMetadata"]);return S!=null&&f(e,["videoMetadata"],S),e}function OA(t){const e={},i=c(t,["category"]);if(i!=null&&f(e,["category"],i),c(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=c(t,["threshold"]);return s!=null&&f(e,["threshold"],s),e}function HA(t){const e={},i=c(t,["retrievalConfig"]);i!=null&&f(e,["retrievalConfig"],i);const s=c(t,["functionCallingConfig"]);return s!=null&&f(e,["functionCallingConfig"],TA(s)),e}function GA(t){const e={};if(c(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=c(t,["computerUse"]);i!=null&&f(e,["computerUse"],i);const s=c(t,["fileSearch"]);s!=null&&f(e,["fileSearch"],s);const a=c(t,["codeExecution"]);if(a!=null&&f(e,["codeExecution"],a),c(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=c(t,["functionDeclarations"]);if(u!=null){let v=u;Array.isArray(v)&&(v=v.map(E=>E)),f(e,["functionDeclarations"],v)}const d=c(t,["googleMaps"]);d!=null&&f(e,["googleMaps"],AA(d));const p=c(t,["googleSearch"]);p!=null&&f(e,["googleSearch"],bA(p));const y=c(t,["googleSearchRetrieval"]);y!=null&&f(e,["googleSearchRetrieval"],y);const m=c(t,["urlContext"]);return m!=null&&f(e,["urlContext"],m),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var qn;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(qn||(qn={}));class co{constructor(e,i,s,a){this.pageInternal=[],this.paramsInternal={},this.requestInternal=i,this.init(e,s,a)}init(e,i,s){var a,u;this.nameInternal=e,this.pageInternal=i[this.nameInternal]||[],this.sdkHttpResponseInternal=i==null?void 0:i.sdkHttpResponse,this.idxInternal=0;let d={config:{}};!s||Object.keys(s).length===0?d={config:{}}:typeof s=="object"?d=Object.assign({},s):d=s,d.config&&(d.config.pageToken=i.nextPageToken),this.paramsInternal=d,this.pageInternalSize=(u=(a=d.config)===null||a===void 0?void 0:a.pageSize)!==null&&u!==void 0?u:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zA extends $n{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new co(qn.PAGED_ITEM_BATCH_JOBS,s=>this.listInternal(s),await this.listInternal(i),i),this.create=async i=>(this.apiClient.isVertexAI()&&(i.config=this.formatDestination(i.src,i.config)),this.createInternal(i)),this.createEmbeddings=async i=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(i)}}createInlinedGenerateContentRequest(e){const i=zy(this.apiClient,e),s=i._url,a=W("{model}:batchGenerateContent",s),p=i.batch.inputConfig.requests,y=p.requests,m=[];for(const v of y){const E=Object.assign({},v);if(E.systemInstruction){const S=E.systemInstruction;delete E.systemInstruction;const x=E.request;x.systemInstruction=S,E.request=x}m.push(E)}return p.requests=m,delete i.config,delete i._url,delete i._query,{path:a,body:i}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,i){const s=i?Object.assign({},i):{},a=Date.now().toString();if(s.displayName||(s.displayName=`genaiBatchJob_${a}`),s.dest===void 0){const u=this.getGcsUri(e),d=this.getBigqueryUri(e);if(u)u.endsWith(".jsonl")?s.dest=`${u.slice(0,-6)}/dest`:s.dest=`${u}_dest_${a}`;else if(d)s.dest=`${d}_dest_${a}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return s}async createInternal(e){var i,s,a,u;let d,p="",y={};if(this.apiClient.isVertexAI()){const m=lA(this.apiClient,e);return p=W("batchPredictionJobs",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),d.then(v=>_d(v))}else{const m=zy(this.apiClient,e);return p=W("{model}:batchGenerateContent",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d.then(v=>ja(v))}}async createEmbeddingsInternal(e){var i,s;let a,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=cA(this.apiClient,e);return u=W("{model}:asyncBatchEmbedContent",p._url),d=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),a.then(y=>ja(y))}}async get(e){var i,s,a,u;let d,p="",y={};if(this.apiClient.isVertexAI()){const m=xA(this.apiClient,e);return p=W("batchPredictionJobs/{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),d.then(v=>_d(v))}else{const m=CA(this.apiClient,e);return p=W("batches/{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d.then(v=>ja(v))}}async cancel(e){var i,s,a,u;let d="",p={};if(this.apiClient.isVertexAI()){const y=iA(this.apiClient,e);d=W("batchPredictionJobs/{name}:cancel",y._url),p=y._query,delete y._url,delete y._query,await this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}else{const y=nA(this.apiClient,e);d=W("batches/{name}:cancel",y._url),p=y._query,delete y._url,delete y._query,await this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal})}}async listInternal(e){var i,s,a,u;let d,p="",y={};if(this.apiClient.isVertexAI()){const m=UA(e);return p=W("batchPredictionJobs",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const E=LA(v),S=new Py;return Object.assign(S,E),S})}else{const m=DA(e);return p=W("batches",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const E=kA(v),S=new Py;return Object.assign(S,E),S})}}async delete(e){var i,s,a,u;let d,p="",y={};if(this.apiClient.isVertexAI()){const m=fA(this.apiClient,e);return p=W("batchPredictionJobs/{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>pA(v))}else{const m=dA(this.apiClient,e);return p=W("batches/{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>hA(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function VA(t){const e={},i=c(t,["data"]);if(i!=null&&f(e,["data"],i),c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=c(t,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function Vy(t){const e={},i=c(t,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>cb(u))),f(e,["parts"],a)}const s=c(t,["role"]);return s!=null&&f(e,["role"],s),e}function BA(t,e){const i={},s=c(t,["ttl"]);e!==void 0&&s!=null&&f(e,["ttl"],s);const a=c(t,["expireTime"]);e!==void 0&&a!=null&&f(e,["expireTime"],a);const u=c(t,["displayName"]);e!==void 0&&u!=null&&f(e,["displayName"],u);const d=c(t,["contents"]);if(e!==void 0&&d!=null){let v=Xt(d);Array.isArray(v)&&(v=v.map(E=>Vy(E))),f(e,["contents"],v)}const p=c(t,["systemInstruction"]);e!==void 0&&p!=null&&f(e,["systemInstruction"],Vy(ft(p)));const y=c(t,["tools"]);if(e!==void 0&&y!=null){let v=y;Array.isArray(v)&&(v=v.map(E=>fb(E))),f(e,["tools"],v)}const m=c(t,["toolConfig"]);if(e!==void 0&&m!=null&&f(e,["toolConfig"],db(m)),c(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return i}function qA(t,e){const i={},s=c(t,["ttl"]);e!==void 0&&s!=null&&f(e,["ttl"],s);const a=c(t,["expireTime"]);e!==void 0&&a!=null&&f(e,["expireTime"],a);const u=c(t,["displayName"]);e!==void 0&&u!=null&&f(e,["displayName"],u);const d=c(t,["contents"]);if(e!==void 0&&d!=null){let E=Xt(d);Array.isArray(E)&&(E=E.map(S=>S)),f(e,["contents"],E)}const p=c(t,["systemInstruction"]);e!==void 0&&p!=null&&f(e,["systemInstruction"],ft(p));const y=c(t,["tools"]);if(e!==void 0&&y!=null){let E=y;Array.isArray(E)&&(E=E.map(S=>hb(S))),f(e,["tools"],E)}const m=c(t,["toolConfig"]);e!==void 0&&m!=null&&f(e,["toolConfig"],m);const v=c(t,["kmsKeyName"]);return e!==void 0&&v!=null&&f(e,["encryption_spec","kmsKeyName"],v),i}function FA(t,e){const i={},s=c(e,["model"]);s!=null&&f(i,["model"],sv(t,s));const a=c(e,["config"]);return a!=null&&BA(a,i),i}function YA(t,e){const i={},s=c(e,["model"]);s!=null&&f(i,["model"],sv(t,s));const a=c(e,["config"]);return a!=null&&qA(a,i),i}function JA(t,e){const i={},s=c(e,["name"]);return s!=null&&f(i,["_url","name"],Kn(t,s)),i}function $A(t,e){const i={},s=c(e,["name"]);return s!=null&&f(i,["_url","name"],Kn(t,s)),i}function KA(t){const e={},i=c(t,["sdkHttpResponse"]);return i!=null&&f(e,["sdkHttpResponse"],i),e}function XA(t){const e={},i=c(t,["sdkHttpResponse"]);return i!=null&&f(e,["sdkHttpResponse"],i),e}function QA(t){const e={};if(c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=c(t,["fileUri"]);i!=null&&f(e,["fileUri"],i);const s=c(t,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function WA(t){const e={},i=c(t,["id"]);i!=null&&f(e,["id"],i);const s=c(t,["args"]);s!=null&&f(e,["args"],s);const a=c(t,["name"]);if(a!=null&&f(e,["name"],a),c(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function ZA(t){const e={},i=c(t,["allowedFunctionNames"]);i!=null&&f(e,["allowedFunctionNames"],i);const s=c(t,["mode"]);if(s!=null&&f(e,["mode"],s),c(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function jA(t){const e={},i=c(t,["description"]);i!=null&&f(e,["description"],i);const s=c(t,["name"]);s!=null&&f(e,["name"],s);const a=c(t,["parameters"]);a!=null&&f(e,["parameters"],a);const u=c(t,["parametersJsonSchema"]);u!=null&&f(e,["parametersJsonSchema"],u);const d=c(t,["response"]);d!=null&&f(e,["response"],d);const p=c(t,["responseJsonSchema"]);if(p!=null&&f(e,["responseJsonSchema"],p),c(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function eb(t,e){const i={},s=c(e,["name"]);return s!=null&&f(i,["_url","name"],Kn(t,s)),i}function tb(t,e){const i={},s=c(e,["name"]);return s!=null&&f(i,["_url","name"],Kn(t,s)),i}function nb(t){const e={};if(c(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=c(t,["enableWidget"]);return i!=null&&f(e,["enableWidget"],i),e}function ib(t){const e={};if(c(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=c(t,["timeRangeFilter"]);return i!=null&&f(e,["timeRangeFilter"],i),e}function ob(t,e){const i={},s=c(t,["pageSize"]);e!==void 0&&s!=null&&f(e,["_query","pageSize"],s);const a=c(t,["pageToken"]);return e!==void 0&&a!=null&&f(e,["_query","pageToken"],a),i}function sb(t,e){const i={},s=c(t,["pageSize"]);e!==void 0&&s!=null&&f(e,["_query","pageSize"],s);const a=c(t,["pageToken"]);return e!==void 0&&a!=null&&f(e,["_query","pageToken"],a),i}function rb(t){const e={},i=c(t,["config"]);return i!=null&&ob(i,e),e}function ab(t){const e={},i=c(t,["config"]);return i!=null&&sb(i,e),e}function lb(t){const e={},i=c(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const s=c(t,["nextPageToken"]);s!=null&&f(e,["nextPageToken"],s);const a=c(t,["cachedContents"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>d)),f(e,["cachedContents"],u)}return e}function ub(t){const e={},i=c(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const s=c(t,["nextPageToken"]);s!=null&&f(e,["nextPageToken"],s);const a=c(t,["cachedContents"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>d)),f(e,["cachedContents"],u)}return e}function cb(t){const e={},i=c(t,["mediaResolution"]);i!=null&&f(e,["mediaResolution"],i);const s=c(t,["codeExecutionResult"]);s!=null&&f(e,["codeExecutionResult"],s);const a=c(t,["executableCode"]);a!=null&&f(e,["executableCode"],a);const u=c(t,["fileData"]);u!=null&&f(e,["fileData"],QA(u));const d=c(t,["functionCall"]);d!=null&&f(e,["functionCall"],WA(d));const p=c(t,["functionResponse"]);p!=null&&f(e,["functionResponse"],p);const y=c(t,["inlineData"]);y!=null&&f(e,["inlineData"],VA(y));const m=c(t,["text"]);m!=null&&f(e,["text"],m);const v=c(t,["thought"]);v!=null&&f(e,["thought"],v);const E=c(t,["thoughtSignature"]);E!=null&&f(e,["thoughtSignature"],E);const S=c(t,["videoMetadata"]);return S!=null&&f(e,["videoMetadata"],S),e}function db(t){const e={},i=c(t,["retrievalConfig"]);i!=null&&f(e,["retrievalConfig"],i);const s=c(t,["functionCallingConfig"]);return s!=null&&f(e,["functionCallingConfig"],ZA(s)),e}function fb(t){const e={};if(c(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=c(t,["computerUse"]);i!=null&&f(e,["computerUse"],i);const s=c(t,["fileSearch"]);s!=null&&f(e,["fileSearch"],s);const a=c(t,["codeExecution"]);if(a!=null&&f(e,["codeExecution"],a),c(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=c(t,["functionDeclarations"]);if(u!=null){let v=u;Array.isArray(v)&&(v=v.map(E=>E)),f(e,["functionDeclarations"],v)}const d=c(t,["googleMaps"]);d!=null&&f(e,["googleMaps"],nb(d));const p=c(t,["googleSearch"]);p!=null&&f(e,["googleSearch"],ib(p));const y=c(t,["googleSearchRetrieval"]);y!=null&&f(e,["googleSearchRetrieval"],y);const m=c(t,["urlContext"]);return m!=null&&f(e,["urlContext"],m),e}function hb(t){const e={},i=c(t,["retrieval"]);i!=null&&f(e,["retrieval"],i);const s=c(t,["computerUse"]);if(s!=null&&f(e,["computerUse"],s),c(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=c(t,["codeExecution"]);a!=null&&f(e,["codeExecution"],a);const u=c(t,["enterpriseWebSearch"]);u!=null&&f(e,["enterpriseWebSearch"],u);const d=c(t,["functionDeclarations"]);if(d!=null){let E=d;Array.isArray(E)&&(E=E.map(S=>jA(S))),f(e,["functionDeclarations"],E)}const p=c(t,["googleMaps"]);p!=null&&f(e,["googleMaps"],p);const y=c(t,["googleSearch"]);y!=null&&f(e,["googleSearch"],y);const m=c(t,["googleSearchRetrieval"]);m!=null&&f(e,["googleSearchRetrieval"],m);const v=c(t,["urlContext"]);return v!=null&&f(e,["urlContext"],v),e}function pb(t,e){const i={},s=c(t,["ttl"]);e!==void 0&&s!=null&&f(e,["ttl"],s);const a=c(t,["expireTime"]);return e!==void 0&&a!=null&&f(e,["expireTime"],a),i}function mb(t,e){const i={},s=c(t,["ttl"]);e!==void 0&&s!=null&&f(e,["ttl"],s);const a=c(t,["expireTime"]);return e!==void 0&&a!=null&&f(e,["expireTime"],a),i}function gb(t,e){const i={},s=c(e,["name"]);s!=null&&f(i,["_url","name"],Kn(t,s));const a=c(e,["config"]);return a!=null&&pb(a,i),i}function yb(t,e){const i={},s=c(e,["name"]);s!=null&&f(i,["_url","name"],Kn(t,s));const a=c(e,["config"]);return a!=null&&mb(a,i),i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vb extends $n{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new co(qn.PAGED_ITEM_CACHED_CONTENTS,s=>this.listInternal(s),await this.listInternal(i),i)}async create(e){var i,s,a,u;let d,p="",y={};if(this.apiClient.isVertexAI()){const m=YA(this.apiClient,e);return p=W("cachedContents",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),d.then(v=>v)}else{const m=FA(this.apiClient,e);return p=W("cachedContents",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d.then(v=>v)}}async get(e){var i,s,a,u;let d,p="",y={};if(this.apiClient.isVertexAI()){const m=tb(this.apiClient,e);return p=W("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),d.then(v=>v)}else{const m=eb(this.apiClient,e);return p=W("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d.then(v=>v)}}async delete(e){var i,s,a,u;let d,p="",y={};if(this.apiClient.isVertexAI()){const m=$A(this.apiClient,e);return p=W("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const E=XA(v),S=new ky;return Object.assign(S,E),S})}else{const m=JA(this.apiClient,e);return p=W("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const E=KA(v),S=new ky;return Object.assign(S,E),S})}}async update(e){var i,s,a,u;let d,p="",y={};if(this.apiClient.isVertexAI()){const m=yb(this.apiClient,e);return p=W("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),d.then(v=>v)}else{const m=gb(this.apiClient,e);return p=W("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d.then(v=>v)}}async listInternal(e){var i,s,a,u;let d,p="",y={};if(this.apiClient.isVertexAI()){const m=ab(e);return p=W("cachedContents",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const E=ub(v),S=new Ly;return Object.assign(S,E),S})}else{const m=rb(e);return p=W("cachedContents",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const E=lb(v),S=new Ly;return Object.assign(S,E),S})}}}function ul(t,e){var i={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(i[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(t);a<s.length;a++)e.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(t,s[a])&&(i[s[a]]=t[s[a]]);return i}function By(t){var e=typeof Symbol=="function"&&Symbol.iterator,i=e&&t[e],s=0;if(i)return i.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ce(t){return this instanceof ce?(this.v=t,this):new ce(t)}function on(t,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=i.apply(t,e||[]),a,u=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),p("next"),p("throw"),p("return",d),a[Symbol.asyncIterator]=function(){return this},a;function d(x){return function(N){return Promise.resolve(N).then(x,E)}}function p(x,N){s[x]&&(a[x]=function(k){return new Promise(function(U,L){u.push([x,k,U,L])>1||y(x,k)})},N&&(a[x]=N(a[x])))}function y(x,N){try{m(s[x](N))}catch(k){S(u[0][3],k)}}function m(x){x.value instanceof ce?Promise.resolve(x.value.v).then(v,E):S(u[0][2],x)}function v(x){y("next",x)}function E(x){y("throw",x)}function S(x,N){x(N),u.shift(),u.length&&y(u[0][0],u[0][1])}}function sn(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],i;return e?e.call(t):(t=typeof By=="function"?By(t):t[Symbol.iterator](),i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i);function s(u){i[u]=t[u]&&function(d){return new Promise(function(p,y){d=t[u](d),a(p,y,d.done,d.value)})}}function a(u,d,p,y){Promise.resolve(y).then(function(m){u({value:m,done:p})},d)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _b(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const i=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return i===void 0?!1:vv(i)}function vv(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function Tb(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function qy(t){if(t===void 0||t.length===0)return[];const e=[],i=t.length;let s=0;for(;s<i;)if(t[s].role==="user")e.push(t[s]),s++;else{const a=[];let u=!0;for(;s<i&&t[s].role==="model";)a.push(t[s]),u&&!vv(t[s])&&(u=!1),s++;u?e.push(...a):e.pop()}return e}class Eb{constructor(e,i){this.modelsModule=e,this.apiClient=i}create(e){return new Sb(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class Sb{constructor(e,i,s,a={},u=[]){this.apiClient=e,this.modelsModule=i,this.model=s,this.config=a,this.history=u,this.sendPromise=Promise.resolve(),Tb(u)}async sendMessage(e){var i;await this.sendPromise;const s=ft(e.message),a=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(s),config:(i=e.config)!==null&&i!==void 0?i:this.config});return this.sendPromise=(async()=>{var u,d,p;const y=await a,m=(d=(u=y.candidates)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.content,v=y.automaticFunctionCallingHistory,E=this.getHistory(!0).length;let S=[];v!=null&&(S=(p=v.slice(E))!==null&&p!==void 0?p:[]);const x=m?[m]:[];this.recordHistory(s,x,S)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),a}async sendMessageStream(e){var i;await this.sendPromise;const s=ft(e.message),a=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(s),config:(i=e.config)!==null&&i!==void 0?i:this.config});this.sendPromise=a.then(()=>{}).catch(()=>{});const u=await a;return this.processStreamResponse(u,s)}getHistory(e=!1){const i=e?qy(this.history):this.history;return structuredClone(i)}processStreamResponse(e,i){return on(this,arguments,function*(){var a,u,d,p,y,m;const v=[];try{for(var E=!0,S=sn(e),x;x=yield ce(S.next()),a=x.done,!a;E=!0){p=x.value,E=!1;const N=p;if(_b(N)){const k=(m=(y=N.candidates)===null||y===void 0?void 0:y[0])===null||m===void 0?void 0:m.content;k!==void 0&&v.push(k)}yield yield ce(N)}}catch(N){u={error:N}}finally{try{!E&&!a&&(d=S.return)&&(yield ce(d.call(S)))}finally{if(u)throw u.error}}this.recordHistory(i,v)})}recordHistory(e,i,s){let a=[];i.length>0&&i.every(u=>u.role!==void 0)?a=i:a.push({role:"model",parts:[]}),s&&s.length>0?this.history.push(...qy(s)):this.history.push(e),this.history.push(...a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _r extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,_r.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Cb(t){const e={},i=c(t,["file"]);return i!=null&&f(e,["file"],i),e}function xb(t){const e={},i=c(t,["sdkHttpResponse"]);return i!=null&&f(e,["sdkHttpResponse"],i),e}function Ab(t){const e={},i=c(t,["name"]);return i!=null&&f(e,["_url","file"],dv(i)),e}function bb(t){const e={},i=c(t,["sdkHttpResponse"]);return i!=null&&f(e,["sdkHttpResponse"],i),e}function wb(t){const e={},i=c(t,["name"]);return i!=null&&f(e,["_url","file"],dv(i)),e}function Nb(t,e){const i={},s=c(t,["pageSize"]);e!==void 0&&s!=null&&f(e,["_query","pageSize"],s);const a=c(t,["pageToken"]);return e!==void 0&&a!=null&&f(e,["_query","pageToken"],a),i}function Ib(t){const e={},i=c(t,["config"]);return i!=null&&Nb(i,e),e}function Rb(t){const e={},i=c(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const s=c(t,["nextPageToken"]);s!=null&&f(e,["nextPageToken"],s);const a=c(t,["files"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>d)),f(e,["files"],u)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Mb extends $n{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new co(qn.PAGED_ITEM_FILES,s=>this.listInternal(s),await this.listInternal(i),i)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(i=>i)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var i,s;let a,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=Ib(e);return u=W("files",p._url),d=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),a.then(y=>{const m=Rb(y),v=new Lx;return Object.assign(v,m),v})}}async createInternal(e){var i,s;let a,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=Cb(e);return u=W("upload/v1beta/files",p._url),d=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),a.then(y=>{const m=xb(y),v=new Px;return Object.assign(v,m),v})}}async get(e){var i,s;let a,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=wb(e);return u=W("files/{file}",p._url),d=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),a.then(y=>y)}}async delete(e){var i,s;let a,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=Ab(e);return u=W("files/{file}",p._url),d=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),a.then(y=>{const m=bb(y),v=new Ox;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function el(t){const e={},i=c(t,["data"]);if(i!=null&&f(e,["data"],i),c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=c(t,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function Db(t){const e={},i=c(t,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>Kb(u))),f(e,["parts"],a)}const s=c(t,["role"]);return s!=null&&f(e,["role"],s),e}function Ub(t){const e={};if(c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=c(t,["fileUri"]);i!=null&&f(e,["fileUri"],i);const s=c(t,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function kb(t){const e={},i=c(t,["id"]);i!=null&&f(e,["id"],i);const s=c(t,["args"]);s!=null&&f(e,["args"],s);const a=c(t,["name"]);if(a!=null&&f(e,["name"],a),c(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Lb(t){const e={},i=c(t,["description"]);i!=null&&f(e,["description"],i);const s=c(t,["name"]);s!=null&&f(e,["name"],s);const a=c(t,["parameters"]);a!=null&&f(e,["parameters"],a);const u=c(t,["parametersJsonSchema"]);u!=null&&f(e,["parametersJsonSchema"],u);const d=c(t,["response"]);d!=null&&f(e,["response"],d);const p=c(t,["responseJsonSchema"]);if(p!=null&&f(e,["responseJsonSchema"],p),c(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function Pb(t){const e={},i=c(t,["modelSelectionConfig"]);i!=null&&f(e,["modelConfig"],i);const s=c(t,["responseJsonSchema"]);s!=null&&f(e,["responseJsonSchema"],s);const a=c(t,["audioTimestamp"]);a!=null&&f(e,["audioTimestamp"],a);const u=c(t,["candidateCount"]);u!=null&&f(e,["candidateCount"],u);const d=c(t,["enableAffectiveDialog"]);d!=null&&f(e,["enableAffectiveDialog"],d);const p=c(t,["frequencyPenalty"]);p!=null&&f(e,["frequencyPenalty"],p);const y=c(t,["logprobs"]);y!=null&&f(e,["logprobs"],y);const m=c(t,["maxOutputTokens"]);m!=null&&f(e,["maxOutputTokens"],m);const v=c(t,["mediaResolution"]);v!=null&&f(e,["mediaResolution"],v);const E=c(t,["presencePenalty"]);E!=null&&f(e,["presencePenalty"],E);const S=c(t,["responseLogprobs"]);S!=null&&f(e,["responseLogprobs"],S);const x=c(t,["responseMimeType"]);x!=null&&f(e,["responseMimeType"],x);const N=c(t,["responseModalities"]);N!=null&&f(e,["responseModalities"],N);const k=c(t,["responseSchema"]);k!=null&&f(e,["responseSchema"],k);const U=c(t,["routingConfig"]);U!=null&&f(e,["routingConfig"],U);const L=c(t,["seed"]);L!=null&&f(e,["seed"],L);const q=c(t,["speechConfig"]);q!=null&&f(e,["speechConfig"],q);const F=c(t,["stopSequences"]);F!=null&&f(e,["stopSequences"],F);const $=c(t,["temperature"]);$!=null&&f(e,["temperature"],$);const Y=c(t,["thinkingConfig"]);Y!=null&&f(e,["thinkingConfig"],Y);const te=c(t,["topK"]);te!=null&&f(e,["topK"],te);const K=c(t,["topP"]);if(K!=null&&f(e,["topP"],K),c(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Ob(t){const e={};if(c(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=c(t,["enableWidget"]);return i!=null&&f(e,["enableWidget"],i),e}function Hb(t){const e={};if(c(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=c(t,["timeRangeFilter"]);return i!=null&&f(e,["timeRangeFilter"],i),e}function Gb(t,e){const i={},s=c(t,["generationConfig"]);e!==void 0&&s!=null&&f(e,["setup","generationConfig"],s);const a=c(t,["responseModalities"]);e!==void 0&&a!=null&&f(e,["setup","generationConfig","responseModalities"],a);const u=c(t,["temperature"]);e!==void 0&&u!=null&&f(e,["setup","generationConfig","temperature"],u);const d=c(t,["topP"]);e!==void 0&&d!=null&&f(e,["setup","generationConfig","topP"],d);const p=c(t,["topK"]);e!==void 0&&p!=null&&f(e,["setup","generationConfig","topK"],p);const y=c(t,["maxOutputTokens"]);e!==void 0&&y!=null&&f(e,["setup","generationConfig","maxOutputTokens"],y);const m=c(t,["mediaResolution"]);e!==void 0&&m!=null&&f(e,["setup","generationConfig","mediaResolution"],m);const v=c(t,["seed"]);e!==void 0&&v!=null&&f(e,["setup","generationConfig","seed"],v);const E=c(t,["speechConfig"]);e!==void 0&&E!=null&&f(e,["setup","generationConfig","speechConfig"],Xd(E));const S=c(t,["thinkingConfig"]);e!==void 0&&S!=null&&f(e,["setup","generationConfig","thinkingConfig"],S);const x=c(t,["enableAffectiveDialog"]);e!==void 0&&x!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],x);const N=c(t,["systemInstruction"]);e!==void 0&&N!=null&&f(e,["setup","systemInstruction"],Db(ft(N)));const k=c(t,["tools"]);if(e!==void 0&&k!=null){let te=fs(k);Array.isArray(te)&&(te=te.map(K=>Qb(ds(K)))),f(e,["setup","tools"],te)}const U=c(t,["sessionResumption"]);e!==void 0&&U!=null&&f(e,["setup","sessionResumption"],Xb(U));const L=c(t,["inputAudioTranscription"]);e!==void 0&&L!=null&&f(e,["setup","inputAudioTranscription"],L);const q=c(t,["outputAudioTranscription"]);e!==void 0&&q!=null&&f(e,["setup","outputAudioTranscription"],q);const F=c(t,["realtimeInputConfig"]);e!==void 0&&F!=null&&f(e,["setup","realtimeInputConfig"],F);const $=c(t,["contextWindowCompression"]);e!==void 0&&$!=null&&f(e,["setup","contextWindowCompression"],$);const Y=c(t,["proactivity"]);if(e!==void 0&&Y!=null&&f(e,["setup","proactivity"],Y),c(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return i}function zb(t,e){const i={},s=c(t,["generationConfig"]);e!==void 0&&s!=null&&f(e,["setup","generationConfig"],Pb(s));const a=c(t,["responseModalities"]);e!==void 0&&a!=null&&f(e,["setup","generationConfig","responseModalities"],a);const u=c(t,["temperature"]);e!==void 0&&u!=null&&f(e,["setup","generationConfig","temperature"],u);const d=c(t,["topP"]);e!==void 0&&d!=null&&f(e,["setup","generationConfig","topP"],d);const p=c(t,["topK"]);e!==void 0&&p!=null&&f(e,["setup","generationConfig","topK"],p);const y=c(t,["maxOutputTokens"]);e!==void 0&&y!=null&&f(e,["setup","generationConfig","maxOutputTokens"],y);const m=c(t,["mediaResolution"]);e!==void 0&&m!=null&&f(e,["setup","generationConfig","mediaResolution"],m);const v=c(t,["seed"]);e!==void 0&&v!=null&&f(e,["setup","generationConfig","seed"],v);const E=c(t,["speechConfig"]);e!==void 0&&E!=null&&f(e,["setup","generationConfig","speechConfig"],Xd(E));const S=c(t,["thinkingConfig"]);e!==void 0&&S!=null&&f(e,["setup","generationConfig","thinkingConfig"],S);const x=c(t,["enableAffectiveDialog"]);e!==void 0&&x!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],x);const N=c(t,["systemInstruction"]);e!==void 0&&N!=null&&f(e,["setup","systemInstruction"],ft(N));const k=c(t,["tools"]);if(e!==void 0&&k!=null){let K=fs(k);Array.isArray(K)&&(K=K.map(de=>Wb(ds(de)))),f(e,["setup","tools"],K)}const U=c(t,["sessionResumption"]);e!==void 0&&U!=null&&f(e,["setup","sessionResumption"],U);const L=c(t,["inputAudioTranscription"]);e!==void 0&&L!=null&&f(e,["setup","inputAudioTranscription"],L);const q=c(t,["outputAudioTranscription"]);e!==void 0&&q!=null&&f(e,["setup","outputAudioTranscription"],q);const F=c(t,["realtimeInputConfig"]);e!==void 0&&F!=null&&f(e,["setup","realtimeInputConfig"],F);const $=c(t,["contextWindowCompression"]);e!==void 0&&$!=null&&f(e,["setup","contextWindowCompression"],$);const Y=c(t,["proactivity"]);e!==void 0&&Y!=null&&f(e,["setup","proactivity"],Y);const te=c(t,["explicitVadSignal"]);return e!==void 0&&te!=null&&f(e,["setup","explicitVadSignal"],te),i}function Vb(t,e){const i={},s=c(e,["model"]);s!=null&&f(i,["setup","model"],Me(t,s));const a=c(e,["config"]);return a!=null&&f(i,["config"],Gb(a,i)),i}function Bb(t,e){const i={},s=c(e,["model"]);s!=null&&f(i,["setup","model"],Me(t,s));const a=c(e,["config"]);return a!=null&&f(i,["config"],zb(a,i)),i}function qb(t){const e={},i=c(t,["musicGenerationConfig"]);return i!=null&&f(e,["musicGenerationConfig"],i),e}function Fb(t){const e={},i=c(t,["weightedPrompts"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),f(e,["weightedPrompts"],s)}return e}function Yb(t){const e={},i=c(t,["media"]);if(i!=null){let m=rv(i);Array.isArray(m)&&(m=m.map(v=>el(v))),f(e,["mediaChunks"],m)}const s=c(t,["audio"]);s!=null&&f(e,["audio"],el(lv(s)));const a=c(t,["audioStreamEnd"]);a!=null&&f(e,["audioStreamEnd"],a);const u=c(t,["video"]);u!=null&&f(e,["video"],el(av(u)));const d=c(t,["text"]);d!=null&&f(e,["text"],d);const p=c(t,["activityStart"]);p!=null&&f(e,["activityStart"],p);const y=c(t,["activityEnd"]);return y!=null&&f(e,["activityEnd"],y),e}function Jb(t){const e={},i=c(t,["media"]);if(i!=null){let m=rv(i);Array.isArray(m)&&(m=m.map(v=>v)),f(e,["mediaChunks"],m)}const s=c(t,["audio"]);s!=null&&f(e,["audio"],lv(s));const a=c(t,["audioStreamEnd"]);a!=null&&f(e,["audioStreamEnd"],a);const u=c(t,["video"]);u!=null&&f(e,["video"],av(u));const d=c(t,["text"]);d!=null&&f(e,["text"],d);const p=c(t,["activityStart"]);p!=null&&f(e,["activityStart"],p);const y=c(t,["activityEnd"]);return y!=null&&f(e,["activityEnd"],y),e}function $b(t){const e={},i=c(t,["setupComplete"]);i!=null&&f(e,["setupComplete"],i);const s=c(t,["serverContent"]);s!=null&&f(e,["serverContent"],s);const a=c(t,["toolCall"]);a!=null&&f(e,["toolCall"],a);const u=c(t,["toolCallCancellation"]);u!=null&&f(e,["toolCallCancellation"],u);const d=c(t,["usageMetadata"]);d!=null&&f(e,["usageMetadata"],Zb(d));const p=c(t,["goAway"]);p!=null&&f(e,["goAway"],p);const y=c(t,["sessionResumptionUpdate"]);y!=null&&f(e,["sessionResumptionUpdate"],y);const m=c(t,["voiceActivityDetectionSignal"]);m!=null&&f(e,["voiceActivityDetectionSignal"],m);const v=c(t,["voiceActivity"]);return v!=null&&f(e,["voiceActivity"],jb(v)),e}function Kb(t){const e={},i=c(t,["mediaResolution"]);i!=null&&f(e,["mediaResolution"],i);const s=c(t,["codeExecutionResult"]);s!=null&&f(e,["codeExecutionResult"],s);const a=c(t,["executableCode"]);a!=null&&f(e,["executableCode"],a);const u=c(t,["fileData"]);u!=null&&f(e,["fileData"],Ub(u));const d=c(t,["functionCall"]);d!=null&&f(e,["functionCall"],kb(d));const p=c(t,["functionResponse"]);p!=null&&f(e,["functionResponse"],p);const y=c(t,["inlineData"]);y!=null&&f(e,["inlineData"],el(y));const m=c(t,["text"]);m!=null&&f(e,["text"],m);const v=c(t,["thought"]);v!=null&&f(e,["thought"],v);const E=c(t,["thoughtSignature"]);E!=null&&f(e,["thoughtSignature"],E);const S=c(t,["videoMetadata"]);return S!=null&&f(e,["videoMetadata"],S),e}function Xb(t){const e={},i=c(t,["handle"]);if(i!=null&&f(e,["handle"],i),c(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Qb(t){const e={};if(c(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=c(t,["computerUse"]);i!=null&&f(e,["computerUse"],i);const s=c(t,["fileSearch"]);s!=null&&f(e,["fileSearch"],s);const a=c(t,["codeExecution"]);if(a!=null&&f(e,["codeExecution"],a),c(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=c(t,["functionDeclarations"]);if(u!=null){let v=u;Array.isArray(v)&&(v=v.map(E=>E)),f(e,["functionDeclarations"],v)}const d=c(t,["googleMaps"]);d!=null&&f(e,["googleMaps"],Ob(d));const p=c(t,["googleSearch"]);p!=null&&f(e,["googleSearch"],Hb(p));const y=c(t,["googleSearchRetrieval"]);y!=null&&f(e,["googleSearchRetrieval"],y);const m=c(t,["urlContext"]);return m!=null&&f(e,["urlContext"],m),e}function Wb(t){const e={},i=c(t,["retrieval"]);i!=null&&f(e,["retrieval"],i);const s=c(t,["computerUse"]);if(s!=null&&f(e,["computerUse"],s),c(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=c(t,["codeExecution"]);a!=null&&f(e,["codeExecution"],a);const u=c(t,["enterpriseWebSearch"]);u!=null&&f(e,["enterpriseWebSearch"],u);const d=c(t,["functionDeclarations"]);if(d!=null){let E=d;Array.isArray(E)&&(E=E.map(S=>Lb(S))),f(e,["functionDeclarations"],E)}const p=c(t,["googleMaps"]);p!=null&&f(e,["googleMaps"],p);const y=c(t,["googleSearch"]);y!=null&&f(e,["googleSearch"],y);const m=c(t,["googleSearchRetrieval"]);m!=null&&f(e,["googleSearchRetrieval"],m);const v=c(t,["urlContext"]);return v!=null&&f(e,["urlContext"],v),e}function Zb(t){const e={},i=c(t,["promptTokenCount"]);i!=null&&f(e,["promptTokenCount"],i);const s=c(t,["cachedContentTokenCount"]);s!=null&&f(e,["cachedContentTokenCount"],s);const a=c(t,["candidatesTokenCount"]);a!=null&&f(e,["responseTokenCount"],a);const u=c(t,["toolUsePromptTokenCount"]);u!=null&&f(e,["toolUsePromptTokenCount"],u);const d=c(t,["thoughtsTokenCount"]);d!=null&&f(e,["thoughtsTokenCount"],d);const p=c(t,["totalTokenCount"]);p!=null&&f(e,["totalTokenCount"],p);const y=c(t,["promptTokensDetails"]);if(y!=null){let x=y;Array.isArray(x)&&(x=x.map(N=>N)),f(e,["promptTokensDetails"],x)}const m=c(t,["cacheTokensDetails"]);if(m!=null){let x=m;Array.isArray(x)&&(x=x.map(N=>N)),f(e,["cacheTokensDetails"],x)}const v=c(t,["candidatesTokensDetails"]);if(v!=null){let x=v;Array.isArray(x)&&(x=x.map(N=>N)),f(e,["responseTokensDetails"],x)}const E=c(t,["toolUsePromptTokensDetails"]);if(E!=null){let x=E;Array.isArray(x)&&(x=x.map(N=>N)),f(e,["toolUsePromptTokensDetails"],x)}const S=c(t,["trafficType"]);return S!=null&&f(e,["trafficType"],S),e}function jb(t){const e={},i=c(t,["type"]);return i!=null&&f(e,["voiceActivityType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function e1(t){const e={},i=c(t,["data"]);if(i!=null&&f(e,["data"],i),c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=c(t,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function t1(t){const e={},i=c(t,["content"]);i!=null&&f(e,["content"],i);const s=c(t,["citationMetadata"]);s!=null&&f(e,["citationMetadata"],n1(s));const a=c(t,["tokenCount"]);a!=null&&f(e,["tokenCount"],a);const u=c(t,["finishReason"]);u!=null&&f(e,["finishReason"],u);const d=c(t,["avgLogprobs"]);d!=null&&f(e,["avgLogprobs"],d);const p=c(t,["groundingMetadata"]);p!=null&&f(e,["groundingMetadata"],p);const y=c(t,["index"]);y!=null&&f(e,["index"],y);const m=c(t,["logprobsResult"]);m!=null&&f(e,["logprobsResult"],m);const v=c(t,["safetyRatings"]);if(v!=null){let S=v;Array.isArray(S)&&(S=S.map(x=>x)),f(e,["safetyRatings"],S)}const E=c(t,["urlContextMetadata"]);return E!=null&&f(e,["urlContextMetadata"],E),e}function n1(t){const e={},i=c(t,["citationSources"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),f(e,["citations"],s)}return e}function i1(t,e){const i={},s=c(e,["model"]);s!=null&&f(i,["_url","model"],Me(t,s));const a=c(e,["contents"]);if(a!=null){let u=Xt(a);Array.isArray(u)&&(u=u.map(d=>d)),f(i,["contents"],u)}return i}function o1(t){const e={},i=c(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const s=c(t,["tokensInfo"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(u=>u)),f(e,["tokensInfo"],a)}return e}function s1(t){const e={},i=c(t,["values"]);i!=null&&f(e,["values"],i);const s=c(t,["statistics"]);return s!=null&&f(e,["statistics"],r1(s)),e}function r1(t){const e={},i=c(t,["truncated"]);i!=null&&f(e,["truncated"],i);const s=c(t,["token_count"]);return s!=null&&f(e,["tokenCount"],s),e}function El(t){const e={},i=c(t,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>mw(u))),f(e,["parts"],a)}const s=c(t,["role"]);return s!=null&&f(e,["role"],s),e}function a1(t){const e={},i=c(t,["controlType"]);i!=null&&f(e,["controlType"],i);const s=c(t,["enableControlImageComputation"]);return s!=null&&f(e,["computeControl"],s),e}function l1(t){const e={};if(c(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(c(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(c(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function u1(t,e){const i={},s=c(t,["systemInstruction"]);e!==void 0&&s!=null&&f(e,["systemInstruction"],ft(s));const a=c(t,["tools"]);if(e!==void 0&&a!=null){let d=a;Array.isArray(d)&&(d=d.map(p=>Sv(p))),f(e,["tools"],d)}const u=c(t,["generationConfig"]);return e!==void 0&&u!=null&&f(e,["generationConfig"],ew(u)),i}function c1(t,e){const i={},s=c(e,["model"]);s!=null&&f(i,["_url","model"],Me(t,s));const a=c(e,["contents"]);if(a!=null){let d=Xt(a);Array.isArray(d)&&(d=d.map(p=>El(p))),f(i,["contents"],d)}const u=c(e,["config"]);return u!=null&&l1(u),i}function d1(t,e){const i={},s=c(e,["model"]);s!=null&&f(i,["_url","model"],Me(t,s));const a=c(e,["contents"]);if(a!=null){let d=Xt(a);Array.isArray(d)&&(d=d.map(p=>p)),f(i,["contents"],d)}const u=c(e,["config"]);return u!=null&&u1(u,i),i}function f1(t){const e={},i=c(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const s=c(t,["totalTokens"]);s!=null&&f(e,["totalTokens"],s);const a=c(t,["cachedContentTokenCount"]);return a!=null&&f(e,["cachedContentTokenCount"],a),e}function h1(t){const e={},i=c(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const s=c(t,["totalTokens"]);return s!=null&&f(e,["totalTokens"],s),e}function p1(t,e){const i={},s=c(e,["model"]);return s!=null&&f(i,["_url","name"],Me(t,s)),i}function m1(t,e){const i={},s=c(e,["model"]);return s!=null&&f(i,["_url","name"],Me(t,s)),i}function g1(t){const e={},i=c(t,["sdkHttpResponse"]);return i!=null&&f(e,["sdkHttpResponse"],i),e}function y1(t){const e={},i=c(t,["sdkHttpResponse"]);return i!=null&&f(e,["sdkHttpResponse"],i),e}function v1(t,e){const i={},s=c(t,["outputGcsUri"]);e!==void 0&&s!=null&&f(e,["parameters","storageUri"],s);const a=c(t,["negativePrompt"]);e!==void 0&&a!=null&&f(e,["parameters","negativePrompt"],a);const u=c(t,["numberOfImages"]);e!==void 0&&u!=null&&f(e,["parameters","sampleCount"],u);const d=c(t,["aspectRatio"]);e!==void 0&&d!=null&&f(e,["parameters","aspectRatio"],d);const p=c(t,["guidanceScale"]);e!==void 0&&p!=null&&f(e,["parameters","guidanceScale"],p);const y=c(t,["seed"]);e!==void 0&&y!=null&&f(e,["parameters","seed"],y);const m=c(t,["safetyFilterLevel"]);e!==void 0&&m!=null&&f(e,["parameters","safetySetting"],m);const v=c(t,["personGeneration"]);e!==void 0&&v!=null&&f(e,["parameters","personGeneration"],v);const E=c(t,["includeSafetyAttributes"]);e!==void 0&&E!=null&&f(e,["parameters","includeSafetyAttributes"],E);const S=c(t,["includeRaiReason"]);e!==void 0&&S!=null&&f(e,["parameters","includeRaiReason"],S);const x=c(t,["language"]);e!==void 0&&x!=null&&f(e,["parameters","language"],x);const N=c(t,["outputMimeType"]);e!==void 0&&N!=null&&f(e,["parameters","outputOptions","mimeType"],N);const k=c(t,["outputCompressionQuality"]);e!==void 0&&k!=null&&f(e,["parameters","outputOptions","compressionQuality"],k);const U=c(t,["addWatermark"]);e!==void 0&&U!=null&&f(e,["parameters","addWatermark"],U);const L=c(t,["labels"]);e!==void 0&&L!=null&&f(e,["labels"],L);const q=c(t,["editMode"]);e!==void 0&&q!=null&&f(e,["parameters","editMode"],q);const F=c(t,["baseSteps"]);return e!==void 0&&F!=null&&f(e,["parameters","editConfig","baseSteps"],F),i}function _1(t,e){const i={},s=c(e,["model"]);s!=null&&f(i,["_url","model"],Me(t,s));const a=c(e,["prompt"]);a!=null&&f(i,["instances[0]","prompt"],a);const u=c(e,["referenceImages"]);if(u!=null){let p=u;Array.isArray(p)&&(p=p.map(y=>Ew(y))),f(i,["instances[0]","referenceImages"],p)}const d=c(e,["config"]);return d!=null&&v1(d,i),i}function T1(t){const e={},i=c(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const s=c(t,["predictions"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(u=>Sl(u))),f(e,["generatedImages"],a)}return e}function E1(t,e){const i={},s=c(t,["taskType"]);e!==void 0&&s!=null&&f(e,["requests[]","taskType"],s);const a=c(t,["title"]);e!==void 0&&a!=null&&f(e,["requests[]","title"],a);const u=c(t,["outputDimensionality"]);if(e!==void 0&&u!=null&&f(e,["requests[]","outputDimensionality"],u),c(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(c(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function S1(t,e){const i={},s=c(t,["taskType"]);e!==void 0&&s!=null&&f(e,["instances[]","task_type"],s);const a=c(t,["title"]);e!==void 0&&a!=null&&f(e,["instances[]","title"],a);const u=c(t,["outputDimensionality"]);e!==void 0&&u!=null&&f(e,["parameters","outputDimensionality"],u);const d=c(t,["mimeType"]);e!==void 0&&d!=null&&f(e,["instances[]","mimeType"],d);const p=c(t,["autoTruncate"]);return e!==void 0&&p!=null&&f(e,["parameters","autoTruncate"],p),i}function C1(t,e){const i={},s=c(e,["model"]);s!=null&&f(i,["_url","model"],Me(t,s));const a=c(e,["contents"]);if(a!=null){let p=Jd(t,a);Array.isArray(p)&&(p=p.map(y=>y)),f(i,["requests[]","content"],p)}const u=c(e,["config"]);u!=null&&E1(u,i);const d=c(e,["model"]);return d!==void 0&&f(i,["requests[]","model"],Me(t,d)),i}function x1(t,e){const i={},s=c(e,["model"]);s!=null&&f(i,["_url","model"],Me(t,s));const a=c(e,["contents"]);if(a!=null){let d=Jd(t,a);Array.isArray(d)&&(d=d.map(p=>p)),f(i,["instances[]","content"],d)}const u=c(e,["config"]);return u!=null&&S1(u,i),i}function A1(t){const e={},i=c(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const s=c(t,["embeddings"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>d)),f(e,["embeddings"],u)}const a=c(t,["metadata"]);return a!=null&&f(e,["metadata"],a),e}function b1(t){const e={},i=c(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const s=c(t,["predictions[]","embeddings"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>s1(d))),f(e,["embeddings"],u)}const a=c(t,["metadata"]);return a!=null&&f(e,["metadata"],a),e}function w1(t){const e={},i=c(t,["endpoint"]);i!=null&&f(e,["name"],i);const s=c(t,["deployedModelId"]);return s!=null&&f(e,["deployedModelId"],s),e}function N1(t){const e={};if(c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=c(t,["fileUri"]);i!=null&&f(e,["fileUri"],i);const s=c(t,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function I1(t){const e={},i=c(t,["id"]);i!=null&&f(e,["id"],i);const s=c(t,["args"]);s!=null&&f(e,["args"],s);const a=c(t,["name"]);if(a!=null&&f(e,["name"],a),c(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function R1(t){const e={},i=c(t,["allowedFunctionNames"]);i!=null&&f(e,["allowedFunctionNames"],i);const s=c(t,["mode"]);if(s!=null&&f(e,["mode"],s),c(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function M1(t){const e={},i=c(t,["description"]);i!=null&&f(e,["description"],i);const s=c(t,["name"]);s!=null&&f(e,["name"],s);const a=c(t,["parameters"]);a!=null&&f(e,["parameters"],a);const u=c(t,["parametersJsonSchema"]);u!=null&&f(e,["parametersJsonSchema"],u);const d=c(t,["response"]);d!=null&&f(e,["response"],d);const p=c(t,["responseJsonSchema"]);if(p!=null&&f(e,["responseJsonSchema"],p),c(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function D1(t,e,i){const s={},a=c(e,["systemInstruction"]);i!==void 0&&a!=null&&f(i,["systemInstruction"],El(ft(a)));const u=c(e,["temperature"]);u!=null&&f(s,["temperature"],u);const d=c(e,["topP"]);d!=null&&f(s,["topP"],d);const p=c(e,["topK"]);p!=null&&f(s,["topK"],p);const y=c(e,["candidateCount"]);y!=null&&f(s,["candidateCount"],y);const m=c(e,["maxOutputTokens"]);m!=null&&f(s,["maxOutputTokens"],m);const v=c(e,["stopSequences"]);v!=null&&f(s,["stopSequences"],v);const E=c(e,["responseLogprobs"]);E!=null&&f(s,["responseLogprobs"],E);const S=c(e,["logprobs"]);S!=null&&f(s,["logprobs"],S);const x=c(e,["presencePenalty"]);x!=null&&f(s,["presencePenalty"],x);const N=c(e,["frequencyPenalty"]);N!=null&&f(s,["frequencyPenalty"],N);const k=c(e,["seed"]);k!=null&&f(s,["seed"],k);const U=c(e,["responseMimeType"]);U!=null&&f(s,["responseMimeType"],U);const L=c(e,["responseSchema"]);L!=null&&f(s,["responseSchema"],$d(L));const q=c(e,["responseJsonSchema"]);if(q!=null&&f(s,["responseJsonSchema"],q),c(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(c(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const F=c(e,["safetySettings"]);if(i!==void 0&&F!=null){let Te=F;Array.isArray(Te)&&(Te=Te.map(Fe=>Sw(Fe))),f(i,["safetySettings"],Te)}const $=c(e,["tools"]);if(i!==void 0&&$!=null){let Te=fs($);Array.isArray(Te)&&(Te=Te.map(Fe=>Iw(ds(Fe)))),f(i,["tools"],Te)}const Y=c(e,["toolConfig"]);if(i!==void 0&&Y!=null&&f(i,["toolConfig"],Nw(Y)),c(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const te=c(e,["cachedContent"]);i!==void 0&&te!=null&&f(i,["cachedContent"],Kn(t,te));const K=c(e,["responseModalities"]);K!=null&&f(s,["responseModalities"],K);const de=c(e,["mediaResolution"]);de!=null&&f(s,["mediaResolution"],de);const Z=c(e,["speechConfig"]);if(Z!=null&&f(s,["speechConfig"],Kd(Z)),c(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const fe=c(e,["thinkingConfig"]);fe!=null&&f(s,["thinkingConfig"],fe);const me=c(e,["imageConfig"]);me!=null&&f(s,["imageConfig"],sw(me));const ge=c(e,["enableEnhancedCivicAnswers"]);if(ge!=null&&f(s,["enableEnhancedCivicAnswers"],ge),c(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return s}function U1(t,e,i){const s={},a=c(e,["systemInstruction"]);i!==void 0&&a!=null&&f(i,["systemInstruction"],ft(a));const u=c(e,["temperature"]);u!=null&&f(s,["temperature"],u);const d=c(e,["topP"]);d!=null&&f(s,["topP"],d);const p=c(e,["topK"]);p!=null&&f(s,["topK"],p);const y=c(e,["candidateCount"]);y!=null&&f(s,["candidateCount"],y);const m=c(e,["maxOutputTokens"]);m!=null&&f(s,["maxOutputTokens"],m);const v=c(e,["stopSequences"]);v!=null&&f(s,["stopSequences"],v);const E=c(e,["responseLogprobs"]);E!=null&&f(s,["responseLogprobs"],E);const S=c(e,["logprobs"]);S!=null&&f(s,["logprobs"],S);const x=c(e,["presencePenalty"]);x!=null&&f(s,["presencePenalty"],x);const N=c(e,["frequencyPenalty"]);N!=null&&f(s,["frequencyPenalty"],N);const k=c(e,["seed"]);k!=null&&f(s,["seed"],k);const U=c(e,["responseMimeType"]);U!=null&&f(s,["responseMimeType"],U);const L=c(e,["responseSchema"]);L!=null&&f(s,["responseSchema"],$d(L));const q=c(e,["responseJsonSchema"]);q!=null&&f(s,["responseJsonSchema"],q);const F=c(e,["routingConfig"]);F!=null&&f(s,["routingConfig"],F);const $=c(e,["modelSelectionConfig"]);$!=null&&f(s,["modelConfig"],$);const Y=c(e,["safetySettings"]);if(i!==void 0&&Y!=null){let J=Y;Array.isArray(J)&&(J=J.map(se=>se)),f(i,["safetySettings"],J)}const te=c(e,["tools"]);if(i!==void 0&&te!=null){let J=fs(te);Array.isArray(J)&&(J=J.map(se=>Sv(ds(se)))),f(i,["tools"],J)}const K=c(e,["toolConfig"]);i!==void 0&&K!=null&&f(i,["toolConfig"],K);const de=c(e,["labels"]);i!==void 0&&de!=null&&f(i,["labels"],de);const Z=c(e,["cachedContent"]);i!==void 0&&Z!=null&&f(i,["cachedContent"],Kn(t,Z));const fe=c(e,["responseModalities"]);fe!=null&&f(s,["responseModalities"],fe);const me=c(e,["mediaResolution"]);me!=null&&f(s,["mediaResolution"],me);const ge=c(e,["speechConfig"]);ge!=null&&f(s,["speechConfig"],Kd(ge));const Te=c(e,["audioTimestamp"]);Te!=null&&f(s,["audioTimestamp"],Te);const Fe=c(e,["thinkingConfig"]);Fe!=null&&f(s,["thinkingConfig"],Fe);const Je=c(e,["imageConfig"]);if(Je!=null&&f(s,["imageConfig"],rw(Je)),c(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const H=c(e,["modelArmorConfig"]);return i!==void 0&&H!=null&&f(i,["modelArmorConfig"],H),s}function Fy(t,e){const i={},s=c(e,["model"]);s!=null&&f(i,["_url","model"],Me(t,s));const a=c(e,["contents"]);if(a!=null){let d=Xt(a);Array.isArray(d)&&(d=d.map(p=>El(p))),f(i,["contents"],d)}const u=c(e,["config"]);return u!=null&&f(i,["generationConfig"],D1(t,u,i)),i}function Yy(t,e){const i={},s=c(e,["model"]);s!=null&&f(i,["_url","model"],Me(t,s));const a=c(e,["contents"]);if(a!=null){let d=Xt(a);Array.isArray(d)&&(d=d.map(p=>p)),f(i,["contents"],d)}const u=c(e,["config"]);return u!=null&&f(i,["generationConfig"],U1(t,u,i)),i}function Jy(t){const e={},i=c(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const s=c(t,["candidates"]);if(s!=null){let y=s;Array.isArray(y)&&(y=y.map(m=>t1(m))),f(e,["candidates"],y)}const a=c(t,["modelVersion"]);a!=null&&f(e,["modelVersion"],a);const u=c(t,["promptFeedback"]);u!=null&&f(e,["promptFeedback"],u);const d=c(t,["responseId"]);d!=null&&f(e,["responseId"],d);const p=c(t,["usageMetadata"]);return p!=null&&f(e,["usageMetadata"],p),e}function $y(t){const e={},i=c(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const s=c(t,["candidates"]);if(s!=null){let m=s;Array.isArray(m)&&(m=m.map(v=>v)),f(e,["candidates"],m)}const a=c(t,["createTime"]);a!=null&&f(e,["createTime"],a);const u=c(t,["modelVersion"]);u!=null&&f(e,["modelVersion"],u);const d=c(t,["promptFeedback"]);d!=null&&f(e,["promptFeedback"],d);const p=c(t,["responseId"]);p!=null&&f(e,["responseId"],p);const y=c(t,["usageMetadata"]);return y!=null&&f(e,["usageMetadata"],y),e}function k1(t,e){const i={};if(c(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const s=c(t,["numberOfImages"]);e!==void 0&&s!=null&&f(e,["parameters","sampleCount"],s);const a=c(t,["aspectRatio"]);e!==void 0&&a!=null&&f(e,["parameters","aspectRatio"],a);const u=c(t,["guidanceScale"]);if(e!==void 0&&u!=null&&f(e,["parameters","guidanceScale"],u),c(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const d=c(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&f(e,["parameters","safetySetting"],d);const p=c(t,["personGeneration"]);e!==void 0&&p!=null&&f(e,["parameters","personGeneration"],p);const y=c(t,["includeSafetyAttributes"]);e!==void 0&&y!=null&&f(e,["parameters","includeSafetyAttributes"],y);const m=c(t,["includeRaiReason"]);e!==void 0&&m!=null&&f(e,["parameters","includeRaiReason"],m);const v=c(t,["language"]);e!==void 0&&v!=null&&f(e,["parameters","language"],v);const E=c(t,["outputMimeType"]);e!==void 0&&E!=null&&f(e,["parameters","outputOptions","mimeType"],E);const S=c(t,["outputCompressionQuality"]);if(e!==void 0&&S!=null&&f(e,["parameters","outputOptions","compressionQuality"],S),c(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(c(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const x=c(t,["imageSize"]);if(e!==void 0&&x!=null&&f(e,["parameters","sampleImageSize"],x),c(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return i}function L1(t,e){const i={},s=c(t,["outputGcsUri"]);e!==void 0&&s!=null&&f(e,["parameters","storageUri"],s);const a=c(t,["negativePrompt"]);e!==void 0&&a!=null&&f(e,["parameters","negativePrompt"],a);const u=c(t,["numberOfImages"]);e!==void 0&&u!=null&&f(e,["parameters","sampleCount"],u);const d=c(t,["aspectRatio"]);e!==void 0&&d!=null&&f(e,["parameters","aspectRatio"],d);const p=c(t,["guidanceScale"]);e!==void 0&&p!=null&&f(e,["parameters","guidanceScale"],p);const y=c(t,["seed"]);e!==void 0&&y!=null&&f(e,["parameters","seed"],y);const m=c(t,["safetyFilterLevel"]);e!==void 0&&m!=null&&f(e,["parameters","safetySetting"],m);const v=c(t,["personGeneration"]);e!==void 0&&v!=null&&f(e,["parameters","personGeneration"],v);const E=c(t,["includeSafetyAttributes"]);e!==void 0&&E!=null&&f(e,["parameters","includeSafetyAttributes"],E);const S=c(t,["includeRaiReason"]);e!==void 0&&S!=null&&f(e,["parameters","includeRaiReason"],S);const x=c(t,["language"]);e!==void 0&&x!=null&&f(e,["parameters","language"],x);const N=c(t,["outputMimeType"]);e!==void 0&&N!=null&&f(e,["parameters","outputOptions","mimeType"],N);const k=c(t,["outputCompressionQuality"]);e!==void 0&&k!=null&&f(e,["parameters","outputOptions","compressionQuality"],k);const U=c(t,["addWatermark"]);e!==void 0&&U!=null&&f(e,["parameters","addWatermark"],U);const L=c(t,["labels"]);e!==void 0&&L!=null&&f(e,["labels"],L);const q=c(t,["imageSize"]);e!==void 0&&q!=null&&f(e,["parameters","sampleImageSize"],q);const F=c(t,["enhancePrompt"]);return e!==void 0&&F!=null&&f(e,["parameters","enhancePrompt"],F),i}function P1(t,e){const i={},s=c(e,["model"]);s!=null&&f(i,["_url","model"],Me(t,s));const a=c(e,["prompt"]);a!=null&&f(i,["instances[0]","prompt"],a);const u=c(e,["config"]);return u!=null&&k1(u,i),i}function O1(t,e){const i={},s=c(e,["model"]);s!=null&&f(i,["_url","model"],Me(t,s));const a=c(e,["prompt"]);a!=null&&f(i,["instances[0]","prompt"],a);const u=c(e,["config"]);return u!=null&&L1(u,i),i}function H1(t){const e={},i=c(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const s=c(t,["predictions"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>Q1(d))),f(e,["generatedImages"],u)}const a=c(t,["positivePromptSafetyAttributes"]);return a!=null&&f(e,["positivePromptSafetyAttributes"],Tv(a)),e}function G1(t){const e={},i=c(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const s=c(t,["predictions"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>Sl(d))),f(e,["generatedImages"],u)}const a=c(t,["positivePromptSafetyAttributes"]);return a!=null&&f(e,["positivePromptSafetyAttributes"],Ev(a)),e}function z1(t,e){const i={},s=c(t,["numberOfVideos"]);if(e!==void 0&&s!=null&&f(e,["parameters","sampleCount"],s),c(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const a=c(t,["durationSeconds"]);if(e!==void 0&&a!=null&&f(e,["parameters","durationSeconds"],a),c(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=c(t,["aspectRatio"]);e!==void 0&&u!=null&&f(e,["parameters","aspectRatio"],u);const d=c(t,["resolution"]);e!==void 0&&d!=null&&f(e,["parameters","resolution"],d);const p=c(t,["personGeneration"]);if(e!==void 0&&p!=null&&f(e,["parameters","personGeneration"],p),c(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const y=c(t,["negativePrompt"]);e!==void 0&&y!=null&&f(e,["parameters","negativePrompt"],y);const m=c(t,["enhancePrompt"]);if(e!==void 0&&m!=null&&f(e,["parameters","enhancePrompt"],m),c(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const v=c(t,["lastFrame"]);e!==void 0&&v!=null&&f(e,["instances[0]","lastFrame"],Cl(v));const E=c(t,["referenceImages"]);if(e!==void 0&&E!=null){let S=E;Array.isArray(S)&&(S=S.map(x=>Bw(x))),f(e,["instances[0]","referenceImages"],S)}if(c(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(c(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return i}function V1(t,e){const i={},s=c(t,["numberOfVideos"]);e!==void 0&&s!=null&&f(e,["parameters","sampleCount"],s);const a=c(t,["outputGcsUri"]);e!==void 0&&a!=null&&f(e,["parameters","storageUri"],a);const u=c(t,["fps"]);e!==void 0&&u!=null&&f(e,["parameters","fps"],u);const d=c(t,["durationSeconds"]);e!==void 0&&d!=null&&f(e,["parameters","durationSeconds"],d);const p=c(t,["seed"]);e!==void 0&&p!=null&&f(e,["parameters","seed"],p);const y=c(t,["aspectRatio"]);e!==void 0&&y!=null&&f(e,["parameters","aspectRatio"],y);const m=c(t,["resolution"]);e!==void 0&&m!=null&&f(e,["parameters","resolution"],m);const v=c(t,["personGeneration"]);e!==void 0&&v!=null&&f(e,["parameters","personGeneration"],v);const E=c(t,["pubsubTopic"]);e!==void 0&&E!=null&&f(e,["parameters","pubsubTopic"],E);const S=c(t,["negativePrompt"]);e!==void 0&&S!=null&&f(e,["parameters","negativePrompt"],S);const x=c(t,["enhancePrompt"]);e!==void 0&&x!=null&&f(e,["parameters","enhancePrompt"],x);const N=c(t,["generateAudio"]);e!==void 0&&N!=null&&f(e,["parameters","generateAudio"],N);const k=c(t,["lastFrame"]);e!==void 0&&k!=null&&f(e,["instances[0]","lastFrame"],an(k));const U=c(t,["referenceImages"]);if(e!==void 0&&U!=null){let F=U;Array.isArray(F)&&(F=F.map($=>qw($))),f(e,["instances[0]","referenceImages"],F)}const L=c(t,["mask"]);e!==void 0&&L!=null&&f(e,["instances[0]","mask"],Vw(L));const q=c(t,["compressionQuality"]);return e!==void 0&&q!=null&&f(e,["parameters","compressionQuality"],q),i}function B1(t){const e={},i=c(t,["name"]);i!=null&&f(e,["name"],i);const s=c(t,["metadata"]);s!=null&&f(e,["metadata"],s);const a=c(t,["done"]);a!=null&&f(e,["done"],a);const u=c(t,["error"]);u!=null&&f(e,["error"],u);const d=c(t,["response","generateVideoResponse"]);return d!=null&&f(e,["response"],J1(d)),e}function q1(t){const e={},i=c(t,["name"]);i!=null&&f(e,["name"],i);const s=c(t,["metadata"]);s!=null&&f(e,["metadata"],s);const a=c(t,["done"]);a!=null&&f(e,["done"],a);const u=c(t,["error"]);u!=null&&f(e,["error"],u);const d=c(t,["response"]);return d!=null&&f(e,["response"],$1(d)),e}function F1(t,e){const i={},s=c(e,["model"]);s!=null&&f(i,["_url","model"],Me(t,s));const a=c(e,["prompt"]);a!=null&&f(i,["instances[0]","prompt"],a);const u=c(e,["image"]);u!=null&&f(i,["instances[0]","image"],Cl(u));const d=c(e,["video"]);d!=null&&f(i,["instances[0]","video"],Cv(d));const p=c(e,["source"]);p!=null&&K1(p,i);const y=c(e,["config"]);return y!=null&&z1(y,i),i}function Y1(t,e){const i={},s=c(e,["model"]);s!=null&&f(i,["_url","model"],Me(t,s));const a=c(e,["prompt"]);a!=null&&f(i,["instances[0]","prompt"],a);const u=c(e,["image"]);u!=null&&f(i,["instances[0]","image"],an(u));const d=c(e,["video"]);d!=null&&f(i,["instances[0]","video"],xv(d));const p=c(e,["source"]);p!=null&&X1(p,i);const y=c(e,["config"]);return y!=null&&V1(y,i),i}function J1(t){const e={},i=c(t,["generatedSamples"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(d=>Z1(d))),f(e,["generatedVideos"],u)}const s=c(t,["raiMediaFilteredCount"]);s!=null&&f(e,["raiMediaFilteredCount"],s);const a=c(t,["raiMediaFilteredReasons"]);return a!=null&&f(e,["raiMediaFilteredReasons"],a),e}function $1(t){const e={},i=c(t,["videos"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(d=>j1(d))),f(e,["generatedVideos"],u)}const s=c(t,["raiMediaFilteredCount"]);s!=null&&f(e,["raiMediaFilteredCount"],s);const a=c(t,["raiMediaFilteredReasons"]);return a!=null&&f(e,["raiMediaFilteredReasons"],a),e}function K1(t,e){const i={},s=c(t,["prompt"]);e!==void 0&&s!=null&&f(e,["instances[0]","prompt"],s);const a=c(t,["image"]);e!==void 0&&a!=null&&f(e,["instances[0]","image"],Cl(a));const u=c(t,["video"]);return e!==void 0&&u!=null&&f(e,["instances[0]","video"],Cv(u)),i}function X1(t,e){const i={},s=c(t,["prompt"]);e!==void 0&&s!=null&&f(e,["instances[0]","prompt"],s);const a=c(t,["image"]);e!==void 0&&a!=null&&f(e,["instances[0]","image"],an(a));const u=c(t,["video"]);return e!==void 0&&u!=null&&f(e,["instances[0]","video"],xv(u)),i}function Q1(t){const e={},i=c(t,["_self"]);i!=null&&f(e,["image"],aw(i));const s=c(t,["raiFilteredReason"]);s!=null&&f(e,["raiFilteredReason"],s);const a=c(t,["_self"]);return a!=null&&f(e,["safetyAttributes"],Tv(a)),e}function Sl(t){const e={},i=c(t,["_self"]);i!=null&&f(e,["image"],_v(i));const s=c(t,["raiFilteredReason"]);s!=null&&f(e,["raiFilteredReason"],s);const a=c(t,["_self"]);a!=null&&f(e,["safetyAttributes"],Ev(a));const u=c(t,["prompt"]);return u!=null&&f(e,["enhancedPrompt"],u),e}function W1(t){const e={},i=c(t,["_self"]);i!=null&&f(e,["mask"],_v(i));const s=c(t,["labels"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(u=>u)),f(e,["labels"],a)}return e}function Z1(t){const e={},i=c(t,["video"]);return i!=null&&f(e,["video"],Gw(i)),e}function j1(t){const e={},i=c(t,["_self"]);return i!=null&&f(e,["video"],zw(i)),e}function ew(t){const e={},i=c(t,["modelSelectionConfig"]);i!=null&&f(e,["modelConfig"],i);const s=c(t,["responseJsonSchema"]);s!=null&&f(e,["responseJsonSchema"],s);const a=c(t,["audioTimestamp"]);a!=null&&f(e,["audioTimestamp"],a);const u=c(t,["candidateCount"]);u!=null&&f(e,["candidateCount"],u);const d=c(t,["enableAffectiveDialog"]);d!=null&&f(e,["enableAffectiveDialog"],d);const p=c(t,["frequencyPenalty"]);p!=null&&f(e,["frequencyPenalty"],p);const y=c(t,["logprobs"]);y!=null&&f(e,["logprobs"],y);const m=c(t,["maxOutputTokens"]);m!=null&&f(e,["maxOutputTokens"],m);const v=c(t,["mediaResolution"]);v!=null&&f(e,["mediaResolution"],v);const E=c(t,["presencePenalty"]);E!=null&&f(e,["presencePenalty"],E);const S=c(t,["responseLogprobs"]);S!=null&&f(e,["responseLogprobs"],S);const x=c(t,["responseMimeType"]);x!=null&&f(e,["responseMimeType"],x);const N=c(t,["responseModalities"]);N!=null&&f(e,["responseModalities"],N);const k=c(t,["responseSchema"]);k!=null&&f(e,["responseSchema"],k);const U=c(t,["routingConfig"]);U!=null&&f(e,["routingConfig"],U);const L=c(t,["seed"]);L!=null&&f(e,["seed"],L);const q=c(t,["speechConfig"]);q!=null&&f(e,["speechConfig"],q);const F=c(t,["stopSequences"]);F!=null&&f(e,["stopSequences"],F);const $=c(t,["temperature"]);$!=null&&f(e,["temperature"],$);const Y=c(t,["thinkingConfig"]);Y!=null&&f(e,["thinkingConfig"],Y);const te=c(t,["topK"]);te!=null&&f(e,["topK"],te);const K=c(t,["topP"]);if(K!=null&&f(e,["topP"],K),c(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function tw(t,e){const i={},s=c(e,["model"]);return s!=null&&f(i,["_url","name"],Me(t,s)),i}function nw(t,e){const i={},s=c(e,["model"]);return s!=null&&f(i,["_url","name"],Me(t,s)),i}function iw(t){const e={};if(c(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=c(t,["enableWidget"]);return i!=null&&f(e,["enableWidget"],i),e}function ow(t){const e={};if(c(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=c(t,["timeRangeFilter"]);return i!=null&&f(e,["timeRangeFilter"],i),e}function sw(t){const e={},i=c(t,["aspectRatio"]);i!=null&&f(e,["aspectRatio"],i);const s=c(t,["imageSize"]);if(s!=null&&f(e,["imageSize"],s),c(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(c(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(c(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function rw(t){const e={},i=c(t,["aspectRatio"]);i!=null&&f(e,["aspectRatio"],i);const s=c(t,["imageSize"]);s!=null&&f(e,["imageSize"],s);const a=c(t,["personGeneration"]);a!=null&&f(e,["personGeneration"],a);const u=c(t,["outputMimeType"]);u!=null&&f(e,["imageOutputOptions","mimeType"],u);const d=c(t,["outputCompressionQuality"]);return d!=null&&f(e,["imageOutputOptions","compressionQuality"],d),e}function aw(t){const e={},i=c(t,["bytesBase64Encoded"]);i!=null&&f(e,["imageBytes"],Mi(i));const s=c(t,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function _v(t){const e={},i=c(t,["gcsUri"]);i!=null&&f(e,["gcsUri"],i);const s=c(t,["bytesBase64Encoded"]);s!=null&&f(e,["imageBytes"],Mi(s));const a=c(t,["mimeType"]);return a!=null&&f(e,["mimeType"],a),e}function Cl(t){const e={};if(c(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const i=c(t,["imageBytes"]);i!=null&&f(e,["bytesBase64Encoded"],Mi(i));const s=c(t,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function an(t){const e={},i=c(t,["gcsUri"]);i!=null&&f(e,["gcsUri"],i);const s=c(t,["imageBytes"]);s!=null&&f(e,["bytesBase64Encoded"],Mi(s));const a=c(t,["mimeType"]);return a!=null&&f(e,["mimeType"],a),e}function lw(t,e,i){const s={},a=c(e,["pageSize"]);i!==void 0&&a!=null&&f(i,["_query","pageSize"],a);const u=c(e,["pageToken"]);i!==void 0&&u!=null&&f(i,["_query","pageToken"],u);const d=c(e,["filter"]);i!==void 0&&d!=null&&f(i,["_query","filter"],d);const p=c(e,["queryBase"]);return i!==void 0&&p!=null&&f(i,["_url","models_url"],fv(t,p)),s}function uw(t,e,i){const s={},a=c(e,["pageSize"]);i!==void 0&&a!=null&&f(i,["_query","pageSize"],a);const u=c(e,["pageToken"]);i!==void 0&&u!=null&&f(i,["_query","pageToken"],u);const d=c(e,["filter"]);i!==void 0&&d!=null&&f(i,["_query","filter"],d);const p=c(e,["queryBase"]);return i!==void 0&&p!=null&&f(i,["_url","models_url"],fv(t,p)),s}function cw(t,e){const i={},s=c(e,["config"]);return s!=null&&lw(t,s,i),i}function dw(t,e){const i={},s=c(e,["config"]);return s!=null&&uw(t,s,i),i}function fw(t){const e={},i=c(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const s=c(t,["nextPageToken"]);s!=null&&f(e,["nextPageToken"],s);const a=c(t,["_self"]);if(a!=null){let u=hv(a);Array.isArray(u)&&(u=u.map(d=>Td(d))),f(e,["models"],u)}return e}function hw(t){const e={},i=c(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const s=c(t,["nextPageToken"]);s!=null&&f(e,["nextPageToken"],s);const a=c(t,["_self"]);if(a!=null){let u=hv(a);Array.isArray(u)&&(u=u.map(d=>Ed(d))),f(e,["models"],u)}return e}function pw(t){const e={},i=c(t,["maskMode"]);i!=null&&f(e,["maskMode"],i);const s=c(t,["segmentationClasses"]);s!=null&&f(e,["maskClasses"],s);const a=c(t,["maskDilation"]);return a!=null&&f(e,["dilation"],a),e}function Td(t){const e={},i=c(t,["name"]);i!=null&&f(e,["name"],i);const s=c(t,["displayName"]);s!=null&&f(e,["displayName"],s);const a=c(t,["description"]);a!=null&&f(e,["description"],a);const u=c(t,["version"]);u!=null&&f(e,["version"],u);const d=c(t,["_self"]);d!=null&&f(e,["tunedModelInfo"],Rw(d));const p=c(t,["inputTokenLimit"]);p!=null&&f(e,["inputTokenLimit"],p);const y=c(t,["outputTokenLimit"]);y!=null&&f(e,["outputTokenLimit"],y);const m=c(t,["supportedGenerationMethods"]);m!=null&&f(e,["supportedActions"],m);const v=c(t,["temperature"]);v!=null&&f(e,["temperature"],v);const E=c(t,["maxTemperature"]);E!=null&&f(e,["maxTemperature"],E);const S=c(t,["topP"]);S!=null&&f(e,["topP"],S);const x=c(t,["topK"]);x!=null&&f(e,["topK"],x);const N=c(t,["thinking"]);return N!=null&&f(e,["thinking"],N),e}function Ed(t){const e={},i=c(t,["name"]);i!=null&&f(e,["name"],i);const s=c(t,["displayName"]);s!=null&&f(e,["displayName"],s);const a=c(t,["description"]);a!=null&&f(e,["description"],a);const u=c(t,["versionId"]);u!=null&&f(e,["version"],u);const d=c(t,["deployedModels"]);if(d!=null){let E=d;Array.isArray(E)&&(E=E.map(S=>w1(S))),f(e,["endpoints"],E)}const p=c(t,["labels"]);p!=null&&f(e,["labels"],p);const y=c(t,["_self"]);y!=null&&f(e,["tunedModelInfo"],Mw(y));const m=c(t,["defaultCheckpointId"]);m!=null&&f(e,["defaultCheckpointId"],m);const v=c(t,["checkpoints"]);if(v!=null){let E=v;Array.isArray(E)&&(E=E.map(S=>S)),f(e,["checkpoints"],E)}return e}function mw(t){const e={},i=c(t,["mediaResolution"]);i!=null&&f(e,["mediaResolution"],i);const s=c(t,["codeExecutionResult"]);s!=null&&f(e,["codeExecutionResult"],s);const a=c(t,["executableCode"]);a!=null&&f(e,["executableCode"],a);const u=c(t,["fileData"]);u!=null&&f(e,["fileData"],N1(u));const d=c(t,["functionCall"]);d!=null&&f(e,["functionCall"],I1(d));const p=c(t,["functionResponse"]);p!=null&&f(e,["functionResponse"],p);const y=c(t,["inlineData"]);y!=null&&f(e,["inlineData"],e1(y));const m=c(t,["text"]);m!=null&&f(e,["text"],m);const v=c(t,["thought"]);v!=null&&f(e,["thought"],v);const E=c(t,["thoughtSignature"]);E!=null&&f(e,["thoughtSignature"],E);const S=c(t,["videoMetadata"]);return S!=null&&f(e,["videoMetadata"],S),e}function gw(t){const e={},i=c(t,["productImage"]);return i!=null&&f(e,["image"],an(i)),e}function yw(t,e){const i={},s=c(t,["numberOfImages"]);e!==void 0&&s!=null&&f(e,["parameters","sampleCount"],s);const a=c(t,["baseSteps"]);e!==void 0&&a!=null&&f(e,["parameters","baseSteps"],a);const u=c(t,["outputGcsUri"]);e!==void 0&&u!=null&&f(e,["parameters","storageUri"],u);const d=c(t,["seed"]);e!==void 0&&d!=null&&f(e,["parameters","seed"],d);const p=c(t,["safetyFilterLevel"]);e!==void 0&&p!=null&&f(e,["parameters","safetySetting"],p);const y=c(t,["personGeneration"]);e!==void 0&&y!=null&&f(e,["parameters","personGeneration"],y);const m=c(t,["addWatermark"]);e!==void 0&&m!=null&&f(e,["parameters","addWatermark"],m);const v=c(t,["outputMimeType"]);e!==void 0&&v!=null&&f(e,["parameters","outputOptions","mimeType"],v);const E=c(t,["outputCompressionQuality"]);e!==void 0&&E!=null&&f(e,["parameters","outputOptions","compressionQuality"],E);const S=c(t,["enhancePrompt"]);e!==void 0&&S!=null&&f(e,["parameters","enhancePrompt"],S);const x=c(t,["labels"]);return e!==void 0&&x!=null&&f(e,["labels"],x),i}function vw(t,e){const i={},s=c(e,["model"]);s!=null&&f(i,["_url","model"],Me(t,s));const a=c(e,["source"]);a!=null&&Tw(a,i);const u=c(e,["config"]);return u!=null&&yw(u,i),i}function _w(t){const e={},i=c(t,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>Sl(a))),f(e,["generatedImages"],s)}return e}function Tw(t,e){const i={},s=c(t,["prompt"]);e!==void 0&&s!=null&&f(e,["instances[0]","prompt"],s);const a=c(t,["personImage"]);e!==void 0&&a!=null&&f(e,["instances[0]","personImage","image"],an(a));const u=c(t,["productImages"]);if(e!==void 0&&u!=null){let d=u;Array.isArray(d)&&(d=d.map(p=>gw(p))),f(e,["instances[0]","productImages"],d)}return i}function Ew(t){const e={},i=c(t,["referenceImage"]);i!=null&&f(e,["referenceImage"],an(i));const s=c(t,["referenceId"]);s!=null&&f(e,["referenceId"],s);const a=c(t,["referenceType"]);a!=null&&f(e,["referenceType"],a);const u=c(t,["maskImageConfig"]);u!=null&&f(e,["maskImageConfig"],pw(u));const d=c(t,["controlImageConfig"]);d!=null&&f(e,["controlImageConfig"],a1(d));const p=c(t,["styleImageConfig"]);p!=null&&f(e,["styleImageConfig"],p);const y=c(t,["subjectImageConfig"]);return y!=null&&f(e,["subjectImageConfig"],y),e}function Tv(t){const e={},i=c(t,["safetyAttributes","categories"]);i!=null&&f(e,["categories"],i);const s=c(t,["safetyAttributes","scores"]);s!=null&&f(e,["scores"],s);const a=c(t,["contentType"]);return a!=null&&f(e,["contentType"],a),e}function Ev(t){const e={},i=c(t,["safetyAttributes","categories"]);i!=null&&f(e,["categories"],i);const s=c(t,["safetyAttributes","scores"]);s!=null&&f(e,["scores"],s);const a=c(t,["contentType"]);return a!=null&&f(e,["contentType"],a),e}function Sw(t){const e={},i=c(t,["category"]);if(i!=null&&f(e,["category"],i),c(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=c(t,["threshold"]);return s!=null&&f(e,["threshold"],s),e}function Cw(t){const e={},i=c(t,["image"]);return i!=null&&f(e,["image"],an(i)),e}function xw(t,e){const i={},s=c(t,["mode"]);e!==void 0&&s!=null&&f(e,["parameters","mode"],s);const a=c(t,["maxPredictions"]);e!==void 0&&a!=null&&f(e,["parameters","maxPredictions"],a);const u=c(t,["confidenceThreshold"]);e!==void 0&&u!=null&&f(e,["parameters","confidenceThreshold"],u);const d=c(t,["maskDilation"]);e!==void 0&&d!=null&&f(e,["parameters","maskDilation"],d);const p=c(t,["binaryColorThreshold"]);e!==void 0&&p!=null&&f(e,["parameters","binaryColorThreshold"],p);const y=c(t,["labels"]);return e!==void 0&&y!=null&&f(e,["labels"],y),i}function Aw(t,e){const i={},s=c(e,["model"]);s!=null&&f(i,["_url","model"],Me(t,s));const a=c(e,["source"]);a!=null&&ww(a,i);const u=c(e,["config"]);return u!=null&&xw(u,i),i}function bw(t){const e={},i=c(t,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>W1(a))),f(e,["generatedMasks"],s)}return e}function ww(t,e){const i={},s=c(t,["prompt"]);e!==void 0&&s!=null&&f(e,["instances[0]","prompt"],s);const a=c(t,["image"]);e!==void 0&&a!=null&&f(e,["instances[0]","image"],an(a));const u=c(t,["scribbleImage"]);return e!==void 0&&u!=null&&f(e,["instances[0]","scribble"],Cw(u)),i}function Nw(t){const e={},i=c(t,["retrievalConfig"]);i!=null&&f(e,["retrievalConfig"],i);const s=c(t,["functionCallingConfig"]);return s!=null&&f(e,["functionCallingConfig"],R1(s)),e}function Iw(t){const e={};if(c(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=c(t,["computerUse"]);i!=null&&f(e,["computerUse"],i);const s=c(t,["fileSearch"]);s!=null&&f(e,["fileSearch"],s);const a=c(t,["codeExecution"]);if(a!=null&&f(e,["codeExecution"],a),c(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=c(t,["functionDeclarations"]);if(u!=null){let v=u;Array.isArray(v)&&(v=v.map(E=>E)),f(e,["functionDeclarations"],v)}const d=c(t,["googleMaps"]);d!=null&&f(e,["googleMaps"],iw(d));const p=c(t,["googleSearch"]);p!=null&&f(e,["googleSearch"],ow(p));const y=c(t,["googleSearchRetrieval"]);y!=null&&f(e,["googleSearchRetrieval"],y);const m=c(t,["urlContext"]);return m!=null&&f(e,["urlContext"],m),e}function Sv(t){const e={},i=c(t,["retrieval"]);i!=null&&f(e,["retrieval"],i);const s=c(t,["computerUse"]);if(s!=null&&f(e,["computerUse"],s),c(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=c(t,["codeExecution"]);a!=null&&f(e,["codeExecution"],a);const u=c(t,["enterpriseWebSearch"]);u!=null&&f(e,["enterpriseWebSearch"],u);const d=c(t,["functionDeclarations"]);if(d!=null){let E=d;Array.isArray(E)&&(E=E.map(S=>M1(S))),f(e,["functionDeclarations"],E)}const p=c(t,["googleMaps"]);p!=null&&f(e,["googleMaps"],p);const y=c(t,["googleSearch"]);y!=null&&f(e,["googleSearch"],y);const m=c(t,["googleSearchRetrieval"]);m!=null&&f(e,["googleSearchRetrieval"],m);const v=c(t,["urlContext"]);return v!=null&&f(e,["urlContext"],v),e}function Rw(t){const e={},i=c(t,["baseModel"]);i!=null&&f(e,["baseModel"],i);const s=c(t,["createTime"]);s!=null&&f(e,["createTime"],s);const a=c(t,["updateTime"]);return a!=null&&f(e,["updateTime"],a),e}function Mw(t){const e={},i=c(t,["labels","google-vertex-llm-tuning-base-model-id"]);i!=null&&f(e,["baseModel"],i);const s=c(t,["createTime"]);s!=null&&f(e,["createTime"],s);const a=c(t,["updateTime"]);return a!=null&&f(e,["updateTime"],a),e}function Dw(t,e){const i={},s=c(t,["displayName"]);e!==void 0&&s!=null&&f(e,["displayName"],s);const a=c(t,["description"]);e!==void 0&&a!=null&&f(e,["description"],a);const u=c(t,["defaultCheckpointId"]);return e!==void 0&&u!=null&&f(e,["defaultCheckpointId"],u),i}function Uw(t,e){const i={},s=c(t,["displayName"]);e!==void 0&&s!=null&&f(e,["displayName"],s);const a=c(t,["description"]);e!==void 0&&a!=null&&f(e,["description"],a);const u=c(t,["defaultCheckpointId"]);return e!==void 0&&u!=null&&f(e,["defaultCheckpointId"],u),i}function kw(t,e){const i={},s=c(e,["model"]);s!=null&&f(i,["_url","name"],Me(t,s));const a=c(e,["config"]);return a!=null&&Dw(a,i),i}function Lw(t,e){const i={},s=c(e,["model"]);s!=null&&f(i,["_url","model"],Me(t,s));const a=c(e,["config"]);return a!=null&&Uw(a,i),i}function Pw(t,e){const i={},s=c(t,["outputGcsUri"]);e!==void 0&&s!=null&&f(e,["parameters","storageUri"],s);const a=c(t,["safetyFilterLevel"]);e!==void 0&&a!=null&&f(e,["parameters","safetySetting"],a);const u=c(t,["personGeneration"]);e!==void 0&&u!=null&&f(e,["parameters","personGeneration"],u);const d=c(t,["includeRaiReason"]);e!==void 0&&d!=null&&f(e,["parameters","includeRaiReason"],d);const p=c(t,["outputMimeType"]);e!==void 0&&p!=null&&f(e,["parameters","outputOptions","mimeType"],p);const y=c(t,["outputCompressionQuality"]);e!==void 0&&y!=null&&f(e,["parameters","outputOptions","compressionQuality"],y);const m=c(t,["enhanceInputImage"]);e!==void 0&&m!=null&&f(e,["parameters","upscaleConfig","enhanceInputImage"],m);const v=c(t,["imagePreservationFactor"]);e!==void 0&&v!=null&&f(e,["parameters","upscaleConfig","imagePreservationFactor"],v);const E=c(t,["labels"]);e!==void 0&&E!=null&&f(e,["labels"],E);const S=c(t,["numberOfImages"]);e!==void 0&&S!=null&&f(e,["parameters","sampleCount"],S);const x=c(t,["mode"]);return e!==void 0&&x!=null&&f(e,["parameters","mode"],x),i}function Ow(t,e){const i={},s=c(e,["model"]);s!=null&&f(i,["_url","model"],Me(t,s));const a=c(e,["image"]);a!=null&&f(i,["instances[0]","image"],an(a));const u=c(e,["upscaleFactor"]);u!=null&&f(i,["parameters","upscaleConfig","upscaleFactor"],u);const d=c(e,["config"]);return d!=null&&Pw(d,i),i}function Hw(t){const e={},i=c(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const s=c(t,["predictions"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(u=>Sl(u))),f(e,["generatedImages"],a)}return e}function Gw(t){const e={},i=c(t,["uri"]);i!=null&&f(e,["uri"],i);const s=c(t,["encodedVideo"]);s!=null&&f(e,["videoBytes"],Mi(s));const a=c(t,["encoding"]);return a!=null&&f(e,["mimeType"],a),e}function zw(t){const e={},i=c(t,["gcsUri"]);i!=null&&f(e,["uri"],i);const s=c(t,["bytesBase64Encoded"]);s!=null&&f(e,["videoBytes"],Mi(s));const a=c(t,["mimeType"]);return a!=null&&f(e,["mimeType"],a),e}function Vw(t){const e={},i=c(t,["image"]);i!=null&&f(e,["_self"],an(i));const s=c(t,["maskMode"]);return s!=null&&f(e,["maskMode"],s),e}function Bw(t){const e={},i=c(t,["image"]);i!=null&&f(e,["image"],Cl(i));const s=c(t,["referenceType"]);return s!=null&&f(e,["referenceType"],s),e}function qw(t){const e={},i=c(t,["image"]);i!=null&&f(e,["image"],an(i));const s=c(t,["referenceType"]);return s!=null&&f(e,["referenceType"],s),e}function Cv(t){const e={},i=c(t,["uri"]);i!=null&&f(e,["uri"],i);const s=c(t,["videoBytes"]);s!=null&&f(e,["encodedVideo"],Mi(s));const a=c(t,["mimeType"]);return a!=null&&f(e,["encoding"],a),e}function xv(t){const e={},i=c(t,["uri"]);i!=null&&f(e,["gcsUri"],i);const s=c(t,["videoBytes"]);s!=null&&f(e,["bytesBase64Encoded"],Mi(s));const a=c(t,["mimeType"]);return a!=null&&f(e,["mimeType"],a),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Fw(t,e){const i={},s=c(t,["displayName"]);return e!==void 0&&s!=null&&f(e,["displayName"],s),i}function Yw(t){const e={},i=c(t,["config"]);return i!=null&&Fw(i,e),e}function Jw(t,e){const i={},s=c(t,["force"]);return e!==void 0&&s!=null&&f(e,["_query","force"],s),i}function $w(t){const e={},i=c(t,["name"]);i!=null&&f(e,["_url","name"],i);const s=c(t,["config"]);return s!=null&&Jw(s,e),e}function Kw(t){const e={},i=c(t,["name"]);return i!=null&&f(e,["_url","name"],i),e}function Xw(t,e){const i={},s=c(t,["customMetadata"]);if(e!==void 0&&s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>d)),f(e,["customMetadata"],u)}const a=c(t,["chunkingConfig"]);return e!==void 0&&a!=null&&f(e,["chunkingConfig"],a),i}function Qw(t){const e={},i=c(t,["name"]);i!=null&&f(e,["name"],i);const s=c(t,["metadata"]);s!=null&&f(e,["metadata"],s);const a=c(t,["done"]);a!=null&&f(e,["done"],a);const u=c(t,["error"]);u!=null&&f(e,["error"],u);const d=c(t,["response"]);return d!=null&&f(e,["response"],Zw(d)),e}function Ww(t){const e={},i=c(t,["fileSearchStoreName"]);i!=null&&f(e,["_url","file_search_store_name"],i);const s=c(t,["fileName"]);s!=null&&f(e,["fileName"],s);const a=c(t,["config"]);return a!=null&&Xw(a,e),e}function Zw(t){const e={},i=c(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const s=c(t,["parent"]);s!=null&&f(e,["parent"],s);const a=c(t,["documentName"]);return a!=null&&f(e,["documentName"],a),e}function jw(t,e){const i={},s=c(t,["pageSize"]);e!==void 0&&s!=null&&f(e,["_query","pageSize"],s);const a=c(t,["pageToken"]);return e!==void 0&&a!=null&&f(e,["_query","pageToken"],a),i}function eN(t){const e={},i=c(t,["config"]);return i!=null&&jw(i,e),e}function tN(t){const e={},i=c(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const s=c(t,["nextPageToken"]);s!=null&&f(e,["nextPageToken"],s);const a=c(t,["fileSearchStores"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>d)),f(e,["fileSearchStores"],u)}return e}function Av(t,e){const i={},s=c(t,["mimeType"]);e!==void 0&&s!=null&&f(e,["mimeType"],s);const a=c(t,["displayName"]);e!==void 0&&a!=null&&f(e,["displayName"],a);const u=c(t,["customMetadata"]);if(e!==void 0&&u!=null){let p=u;Array.isArray(p)&&(p=p.map(y=>y)),f(e,["customMetadata"],p)}const d=c(t,["chunkingConfig"]);return e!==void 0&&d!=null&&f(e,["chunkingConfig"],d),i}function nN(t){const e={},i=c(t,["fileSearchStoreName"]);i!=null&&f(e,["_url","file_search_store_name"],i);const s=c(t,["config"]);return s!=null&&Av(s,e),e}function iN(t){const e={},i=c(t,["sdkHttpResponse"]);return i!=null&&f(e,["sdkHttpResponse"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const oN="Content-Type",sN="X-Server-Timeout",rN="User-Agent",Sd="x-goog-api-client",aN="1.38.0",lN=`google-genai-sdk/${aN}`,uN="v1beta1",cN="v1beta";class dN{constructor(e){var i,s,a;this.clientOptions=Object.assign({},e),this.customBaseUrl=(i=e.httpOptions)===null||i===void 0?void 0:i.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const u={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const p=e.project&&e.location||!!e.apiKey;this.customBaseUrl&&!p?(u.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?u.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(u.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),u.apiVersion=(s=this.clientOptions.apiVersion)!==null&&s!==void 0?s:uN}else{if(!this.clientOptions.apiKey)throw new _r({message:"API key must be set when using the Gemini API.",status:403});u.apiVersion=(a=this.clientOptions.apiVersion)!==null&&a!==void 0?a:cN,u.baseUrl="https://generativelanguage.googleapis.com/"}u.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=u,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(u,e.httpOptions))}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const s=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&s.push(e.apiVersion),s.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),i=new URL(e);return i.protocol=i.protocol=="http:"?"ws":"wss",i.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,i,s){const a=[this.getRequestUrlInternal(i)];return s&&a.push(this.getBaseResourcePath()),e!==""&&a.push(e),new URL(`${a.join("/")}`)}shouldPrependVertexProjectPath(e,i){return!(i.baseUrl&&i.baseUrlResourceScope===gd.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let i=this.clientOptions.httpOptions;e.httpOptions&&(i=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const s=this.shouldPrependVertexProjectPath(e,i),a=this.constructUrl(e.path,i,s);if(e.queryParams)for(const[d,p]of Object.entries(e.queryParams))a.searchParams.append(d,String(p));let u={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else u.body=e.body;return u=await this.includeExtraHttpOptionsToRequestInit(u,i,a.toString(),e.abortSignal),this.unaryApiCall(a,u,e.httpMethod)}patchHttpOptions(e,i){const s=JSON.parse(JSON.stringify(e));for(const[a,u]of Object.entries(i))typeof u=="object"?s[a]=Object.assign(Object.assign({},s[a]),u):u!==void 0&&(s[a]=u);return s}async requestStream(e){let i=this.clientOptions.httpOptions;e.httpOptions&&(i=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const s=this.shouldPrependVertexProjectPath(e,i),a=this.constructUrl(e.path,i,s);(!a.searchParams.has("alt")||a.searchParams.get("alt")!=="sse")&&a.searchParams.set("alt","sse");let u={};return u.body=e.body,u=await this.includeExtraHttpOptionsToRequestInit(u,i,a.toString(),e.abortSignal),this.streamApiCall(a,u,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,i,s,a){if(i&&i.timeout||a){const u=new AbortController,d=u.signal;if(i.timeout&&(i==null?void 0:i.timeout)>0){const p=setTimeout(()=>u.abort(),i.timeout);p&&typeof p.unref=="function"&&p.unref()}a&&a.addEventListener("abort",()=>{u.abort()}),e.signal=d}return i&&i.extraBody!==null&&fN(e,i.extraBody),e.headers=await this.getHeadersInternal(i,s),e}async unaryApiCall(e,i,s){return this.apiCall(e.toString(),Object.assign(Object.assign({},i),{method:s})).then(async a=>(await Ky(a),new yd(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}async streamApiCall(e,i,s){return this.apiCall(e.toString(),Object.assign(Object.assign({},i),{method:s})).then(async a=>(await Ky(a),this.processStreamResponse(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}processStreamResponse(e){return on(this,arguments,function*(){var s;const a=(s=e==null?void 0:e.body)===null||s===void 0?void 0:s.getReader(),u=new TextDecoder("utf-8");if(!a)throw new Error("Response body is empty");try{let d="";const p="data:",y=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:m,value:v}=yield ce(a.read());if(m){if(d.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const E=u.decode(v,{stream:!0});try{const N=JSON.parse(E);if("error"in N){const k=JSON.parse(JSON.stringify(N.error)),U=k.status,L=k.code,q=`got status: ${U}. ${JSON.stringify(N)}`;if(L>=400&&L<600)throw new _r({message:q,status:L})}}catch(N){if(N.name==="ApiError")throw N}d+=E;let S=-1,x=0;for(;;){S=-1,x=0;for(const U of y){const L=d.indexOf(U);L!==-1&&(S===-1||L<S)&&(S=L,x=U.length)}if(S===-1)break;const N=d.substring(0,S);d=d.substring(S+x);const k=N.trim();if(k.startsWith(p)){const U=k.substring(p.length).trim();try{const L=new Response(U,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield ce(new yd(L))}catch(L){throw new Error(`exception parsing stream chunk ${U}. ${L}`)}}}}}finally{a.releaseLock()}})}async apiCall(e,i){return fetch(e,i).catch(s=>{throw new Error(`exception ${s} sending request`)})}getDefaultHeaders(){const e={},i=lN+" "+this.clientOptions.userAgentExtra;return e[rN]=i,e[Sd]=i,e[oN]="application/json",e}async getHeadersInternal(e,i){const s=new Headers;if(e&&e.headers){for(const[a,u]of Object.entries(e.headers))s.append(a,u);e.timeout&&e.timeout>0&&s.append(sN,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(s,i),s}getFileName(e){var i;let s="";return typeof e=="string"&&(s=e.replace(/[/\\]+$/,""),s=(i=s.split(/[/\\]/).pop())!==null&&i!==void 0?i:""),s}async uploadFile(e,i){var s;const a={};i!=null&&(a.mimeType=i.mimeType,a.name=i.name,a.displayName=i.displayName),a.name&&!a.name.startsWith("files/")&&(a.name=`files/${a.name}`);const u=this.clientOptions.uploader,d=await u.stat(e);a.sizeBytes=String(d.size);const p=(s=i==null?void 0:i.mimeType)!==null&&s!==void 0?s:d.type;if(p===void 0||p==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");a.mimeType=p;const y={file:a},m=this.getFileName(e),v=W("upload/v1beta/files",y._url),E=await this.fetchUploadUrl(v,a.sizeBytes,a.mimeType,m,y,i==null?void 0:i.httpOptions);return u.upload(e,E,this)}async uploadFileToFileSearchStore(e,i,s){var a;const u=this.clientOptions.uploader,d=await u.stat(i),p=String(d.size),y=(a=s==null?void 0:s.mimeType)!==null&&a!==void 0?a:d.type;if(y===void 0||y==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const m=`upload/v1beta/${e}:uploadToFileSearchStore`,v=this.getFileName(i),E={};s!=null&&Av(s,E);const S=await this.fetchUploadUrl(m,p,y,v,E,s==null?void 0:s.httpOptions);return u.uploadToFileSearchStore(i,S,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,i,s,a,u,d){var p;let y={};d?y=d:y={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i}`,"X-Goog-Upload-Header-Content-Type":`${s}`},a?{"X-Goog-Upload-File-Name":a}:{})};const m=await this.request({path:e,body:JSON.stringify(u),httpMethod:"POST",httpOptions:y});if(!m||!(m!=null&&m.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const v=(p=m==null?void 0:m.headers)===null||p===void 0?void 0:p["x-goog-upload-url"];if(v===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return v}}async function Ky(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const i=t.status;let s;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?s=await t.json():s={error:{message:await t.text(),code:t.status,status:t.statusText}};const a=JSON.stringify(s);throw i>=400&&i<600?new _r({message:a,status:i}):new Error(a)}}function fN(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let i={};if(typeof t.body=="string"&&t.body.length>0)try{const u=JSON.parse(t.body);if(typeof u=="object"&&u!==null&&!Array.isArray(u))i=u;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function s(u,d){const p=Object.assign({},u);for(const y in d)if(Object.prototype.hasOwnProperty.call(d,y)){const m=d[y],v=p[y];m&&typeof m=="object"&&!Array.isArray(m)&&v&&typeof v=="object"&&!Array.isArray(v)?p[y]=s(v,m):(v&&m&&typeof v!=typeof m&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof v}, New type: ${typeof m}. Overwriting.`),p[y]=m)}return p}const a=s(i,e);t.body=JSON.stringify(a)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const hN="mcp_used/unknown";let pN=!1;function bv(t){for(const e of t)if(mN(e)||typeof e=="object"&&"inputSchema"in e)return!0;return pN}function wv(t){var e;const i=(e=t[Sd])!==null&&e!==void 0?e:"";t[Sd]=(i+` ${hN}`).trimStart()}function mN(t){return t!==null&&typeof t=="object"&&t instanceof Qd}function gN(t){return on(this,arguments,function*(i,s=100){let a,u=0;for(;u<s;){const d=yield ce(i.listTools({cursor:a}));for(const p of d.tools)yield yield ce(p),u++;if(!d.nextCursor)break;a=d.nextCursor}})}class Qd{constructor(e=[],i){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=i}static create(e,i){return new Qd(e,i)}async initialize(){var e,i,s,a;if(this.mcpTools.length>0)return;const u={},d=[];for(const v of this.mcpClients)try{for(var p=!0,y=(i=void 0,sn(gN(v))),m;m=await y.next(),e=m.done,!e;p=!0){a=m.value,p=!1;const E=a;d.push(E);const S=E.name;if(u[S])throw new Error(`Duplicate function name ${S} found in MCP tools. Please ensure function names are unique.`);u[S]=v}}catch(E){i={error:E}}finally{try{!p&&!e&&(s=y.return)&&await s.call(y)}finally{if(i)throw i.error}}this.mcpTools=d,this.functionNameToMcpClient=u}async tool(){return await this.initialize(),$x(this.mcpTools,this.config)}async callTool(e){await this.initialize();const i=[];for(const s of e)if(s.name in this.functionNameToMcpClient){const a=this.functionNameToMcpClient[s.name];let u;this.config.timeout&&(u={timeout:this.config.timeout});const d=await a.callTool({name:s.name,arguments:s.args},void 0,u);i.push({functionResponse:{name:s.name,response:d.isError?{error:d}:d}})}return i}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function yN(t,e,i){const s=new Gx;let a;i.data instanceof Blob?a=JSON.parse(await i.data.text()):a=JSON.parse(i.data),Object.assign(s,a),e(s)}class vN{constructor(e,i,s){this.apiClient=e,this.auth=i,this.webSocketFactory=s}async connect(e){var i,s;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const a=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion(),d=EN(this.apiClient.getDefaultHeaders()),p=this.apiClient.getApiKey(),y=`${a}/ws/google.ai.generativelanguage.${u}.GenerativeService.BidiGenerateMusic?key=${p}`;let m=()=>{};const v=new Promise(F=>{m=F}),E=e.callbacks,S=function(){m({})},x=this.apiClient,N={onopen:S,onmessage:F=>{yN(x,E.onmessage,F)},onerror:(i=E==null?void 0:E.onerror)!==null&&i!==void 0?i:function(F){},onclose:(s=E==null?void 0:E.onclose)!==null&&s!==void 0?s:function(F){}},k=this.webSocketFactory.create(y,TN(d),N);k.connect(),await v;const q={setup:{model:Me(this.apiClient,e.model)}};return k.send(JSON.stringify(q)),new _N(k,this.apiClient)}}class _N{constructor(e,i){this.conn=e,this.apiClient=i}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const i=Fb(e);this.conn.send(JSON.stringify({clientContent:i}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const i=qb(e);this.conn.send(JSON.stringify(i))}sendPlaybackControl(e){const i={playbackControl:e};this.conn.send(JSON.stringify(i))}play(){this.sendPlaybackControl(es.PLAY)}pause(){this.sendPlaybackControl(es.PAUSE)}stop(){this.sendPlaybackControl(es.STOP)}resetContext(){this.sendPlaybackControl(es.RESET_CONTEXT)}close(){this.conn.close()}}function TN(t){const e={};return t.forEach((i,s)=>{e[s]=i}),e}function EN(t){const e=new Headers;for(const[i,s]of Object.entries(t))e.append(i,s);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const SN="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function CN(t,e,i){const s=new Hx;let a;i.data instanceof Blob?a=await i.data.text():i.data instanceof ArrayBuffer?a=new TextDecoder().decode(i.data):a=i.data;const u=JSON.parse(a);if(t.isVertexAI()){const d=$b(u);Object.assign(s,d)}else Object.assign(s,u);e(s)}class xN{constructor(e,i,s){this.apiClient=e,this.auth=i,this.webSocketFactory=s,this.music=new vN(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var i,s,a,u,d,p;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),m=this.apiClient.getApiVersion();let v;const E=this.apiClient.getHeaders();e.config&&e.config.tools&&bv(e.config.tools)&&wv(E);const S=NN(E);if(this.apiClient.isVertexAI()){const Z=this.apiClient.getProject(),fe=this.apiClient.getLocation(),me=this.apiClient.getApiKey(),ge=!!Z&&!!fe||!!me;this.apiClient.getCustomBaseUrl()&&!ge?v=y:(v=`${y}/ws/google.cloud.aiplatform.${m}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(S,v))}else{const Z=this.apiClient.getApiKey();let fe="BidiGenerateContent",me="key";Z!=null&&Z.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),m!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),fe="BidiGenerateContentConstrained",me="access_token"),v=`${y}/ws/google.ai.generativelanguage.${m}.GenerativeService.${fe}?${me}=${Z}`}let x=()=>{};const N=new Promise(Z=>{x=Z}),k=e.callbacks,U=function(){var Z;(Z=k==null?void 0:k.onopen)===null||Z===void 0||Z.call(k),x({})},L=this.apiClient,q={onopen:U,onmessage:Z=>{CN(L,k.onmessage,Z)},onerror:(i=k==null?void 0:k.onerror)!==null&&i!==void 0?i:function(Z){},onclose:(s=k==null?void 0:k.onclose)!==null&&s!==void 0?s:function(Z){}},F=this.webSocketFactory.create(v,wN(S),q);F.connect(),await N;let $=Me(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&$.startsWith("publishers/")){const Z=this.apiClient.getProject(),fe=this.apiClient.getLocation();Z&&fe&&($=`projects/${Z}/locations/${fe}/`+$)}let Y={};this.apiClient.isVertexAI()&&((a=e.config)===null||a===void 0?void 0:a.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[rl.AUDIO]}:e.config.responseModalities=[rl.AUDIO]),!((u=e.config)===null||u===void 0)&&u.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const te=(p=(d=e.config)===null||d===void 0?void 0:d.tools)!==null&&p!==void 0?p:[],K=[];for(const Z of te)if(this.isCallableTool(Z)){const fe=Z;K.push(await fe.tool())}else K.push(Z);K.length>0&&(e.config.tools=K);const de={model:$,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?Y=Bb(this.apiClient,de):Y=Vb(this.apiClient,de),delete Y.config,F.send(JSON.stringify(Y)),new bN(F,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const AN={turnComplete:!0};class bN{constructor(e,i){this.conn=e,this.apiClient=i}tLiveClientContent(e,i){if(i.turns!==null&&i.turns!==void 0){let s=[];try{s=Xt(i.turns),e.isVertexAI()||(s=s.map(a=>El(a)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof i.turns}'`)}return{clientContent:{turns:s,turnComplete:i.turnComplete}}}return{clientContent:{turnComplete:i.turnComplete}}}tLiveClienttToolResponse(e,i){let s=[];if(i.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(i.functionResponses)?s=i.functionResponses:s=[i.functionResponses],s.length===0)throw new Error("functionResponses is required.");for(const u of s){if(typeof u!="object"||u===null||!("name"in u)||!("response"in u))throw new Error(`Could not parse function response, type '${typeof u}'.`);if(!e.isVertexAI()&&!("id"in u))throw new Error(SN)}return{toolResponse:{functionResponses:s}}}sendClientContent(e){e=Object.assign(Object.assign({},AN),e);const i=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(i))}sendRealtimeInput(e){let i={};this.apiClient.isVertexAI()?i={realtimeInput:Jb(e)}:i={realtimeInput:Yb(e)},this.conn.send(JSON.stringify(i))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const i=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(i))}close(){this.conn.close()}}function wN(t){const e={};return t.forEach((i,s)=>{e[s]=i}),e}function NN(t){const e=new Headers;for(const[i,s]of Object.entries(t))e.append(i,s);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Xy=10;function Qy(t){var e,i,s;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let a=!1;for(const d of(i=t==null?void 0:t.tools)!==null&&i!==void 0?i:[])if(ss(d)){a=!0;break}if(!a)return!0;const u=(s=t==null?void 0:t.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls;return u&&(u<0||!Number.isInteger(u))||u==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",u),!0):!1}function ss(t){return"callTool"in t&&typeof t.callTool=="function"}function IN(t){var e,i,s;return(s=(i=(e=t.config)===null||e===void 0?void 0:e.tools)===null||i===void 0?void 0:i.some(a=>ss(a)))!==null&&s!==void 0?s:!1}function Wy(t){var e;const i=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((s,a)=>{if(ss(s))return;const u=s;u.functionDeclarations&&u.functionDeclarations.length>0&&i.push(a)}),i}function Zy(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class RN extends $n{constructor(e){super(),this.apiClient=e,this.generateContent=async i=>{var s,a,u,d,p;const y=await this.processParamsMaybeAddMcpUsage(i);if(this.maybeMoveToResponseJsonSchem(i),!IN(i)||Qy(i.config))return await this.generateContentInternal(y);const m=Wy(i);if(m.length>0){const k=m.map(U=>`tools[${U}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${k}.`)}let v,E;const S=Xt(y.contents),x=(u=(a=(s=y.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&u!==void 0?u:Xy;let N=0;for(;N<x&&(v=await this.generateContentInternal(y),!(!v.functionCalls||v.functionCalls.length===0));){const k=v.candidates[0].content,U=[];for(const L of(p=(d=i.config)===null||d===void 0?void 0:d.tools)!==null&&p!==void 0?p:[])if(ss(L)){const F=await L.callTool(v.functionCalls);U.push(...F)}N++,E={role:"user",parts:U},y.contents=Xt(y.contents),y.contents.push(k),y.contents.push(E),Zy(y.config)&&(S.push(k),S.push(E))}return Zy(y.config)&&(v.automaticFunctionCallingHistory=S),v},this.generateContentStream=async i=>{var s,a,u,d,p;if(this.maybeMoveToResponseJsonSchem(i),Qy(i.config)){const E=await this.processParamsMaybeAddMcpUsage(i);return await this.generateContentStreamInternal(E)}const y=Wy(i);if(y.length>0){const E=y.map(S=>`tools[${S}]`).join(", ");throw new Error(`Incompatible tools found at ${E}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const m=(u=(a=(s=i==null?void 0:i.config)===null||s===void 0?void 0:s.toolConfig)===null||a===void 0?void 0:a.functionCallingConfig)===null||u===void 0?void 0:u.streamFunctionCallArguments,v=(p=(d=i==null?void 0:i.config)===null||d===void 0?void 0:d.automaticFunctionCalling)===null||p===void 0?void 0:p.disable;if(m&&!v)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(i)},this.generateImages=async i=>await this.generateImagesInternal(i).then(s=>{var a;let u;const d=[];if(s!=null&&s.generatedImages)for(const y of s.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((a=y==null?void 0:y.safetyAttributes)===null||a===void 0?void 0:a.contentType)==="Positive Prompt"?u=y==null?void 0:y.safetyAttributes:d.push(y);let p;return u?p={generatedImages:d,positivePromptSafetyAttributes:u,sdkHttpResponse:s.sdkHttpResponse}:p={generatedImages:d,sdkHttpResponse:s.sdkHttpResponse},p}),this.list=async i=>{var s;const d={config:Object.assign(Object.assign({},{queryBase:!0}),i==null?void 0:i.config)};if(this.apiClient.isVertexAI()&&!d.config.queryBase){if(!((s=d.config)===null||s===void 0)&&s.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");d.config.filter="labels.tune-type:*"}return new co(qn.PAGED_ITEM_MODELS,p=>this.listInternal(p),await this.listInternal(d),d)},this.editImage=async i=>{const s={model:i.model,prompt:i.prompt,referenceImages:[],config:i.config};return i.referenceImages&&i.referenceImages&&(s.referenceImages=i.referenceImages.map(a=>a.toReferenceImageAPI())),await this.editImageInternal(s)},this.upscaleImage=async i=>{let s={numberOfImages:1,mode:"upscale"};i.config&&(s=Object.assign(Object.assign({},s),i.config));const a={model:i.model,image:i.image,upscaleFactor:i.upscaleFactor,config:s};return await this.upscaleImageInternal(a)},this.generateVideos=async i=>{var s,a,u,d,p,y;if((i.prompt||i.image||i.video)&&i.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((s=i.video)===null||s===void 0)&&s.uri&&(!((a=i.video)===null||a===void 0)&&a.videoBytes)?i.video={uri:i.video.uri,mimeType:i.video.mimeType}:!((d=(u=i.source)===null||u===void 0?void 0:u.video)===null||d===void 0)&&d.uri&&(!((y=(p=i.source)===null||p===void 0?void 0:p.video)===null||y===void 0)&&y.videoBytes)&&(i.source.video={uri:i.source.video.uri,mimeType:i.source.video.mimeType})),await this.generateVideosInternal(i)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var i,s,a;const u=(i=e.config)===null||i===void 0?void 0:i.tools;if(!u)return e;const d=await Promise.all(u.map(async y=>ss(y)?await y.tool():y)),p={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:d})};if(p.config.tools=d,e.config&&e.config.tools&&bv(e.config.tools)){const y=(a=(s=e.config.httpOptions)===null||s===void 0?void 0:s.headers)!==null&&a!==void 0?a:{};let m=Object.assign({},y);Object.keys(m).length===0&&(m=this.apiClient.getDefaultHeaders()),wv(m),p.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:m})}return p}async initAfcToolsMap(e){var i,s,a;const u=new Map;for(const d of(s=(i=e.config)===null||i===void 0?void 0:i.tools)!==null&&s!==void 0?s:[])if(ss(d)){const p=d,y=await p.tool();for(const m of(a=y.functionDeclarations)!==null&&a!==void 0?a:[]){if(!m.name)throw new Error("Function declaration name is required.");if(u.has(m.name))throw new Error(`Duplicate tool declaration name: ${m.name}`);u.set(m.name,p)}}return u}async processAfcStream(e){var i,s,a;const u=(a=(s=(i=e.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&a!==void 0?a:Xy;let d=!1,p=0;const y=await this.initAfcToolsMap(e);return(function(m,v,E){return on(this,arguments,function*(){for(var S,x,N,k,U,L;p<u;){d&&(p++,d=!1);const Y=yield ce(m.processParamsMaybeAddMcpUsage(E)),te=yield ce(m.generateContentStreamInternal(Y)),K=[],de=[];try{for(var q=!0,F=(x=void 0,sn(te)),$;$=yield ce(F.next()),S=$.done,!S;q=!0){k=$.value,q=!1;const Z=k;if(yield yield ce(Z),Z.candidates&&(!((U=Z.candidates[0])===null||U===void 0)&&U.content)){de.push(Z.candidates[0].content);for(const fe of(L=Z.candidates[0].content.parts)!==null&&L!==void 0?L:[])if(p<u&&fe.functionCall){if(!fe.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(fe.functionCall.name)){const me=yield ce(v.get(fe.functionCall.name).callTool([fe.functionCall]));K.push(...me)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${fe.functionCall.name}`)}}}}catch(Z){x={error:Z}}finally{try{!q&&!S&&(N=F.return)&&(yield ce(N.call(F)))}finally{if(x)throw x.error}}if(K.length>0){d=!0;const Z=new dr;Z.candidates=[{content:{role:"user",parts:K}}],yield yield ce(Z);const fe=[];fe.push(...de),fe.push({role:"user",parts:K});const me=Xt(E.contents).concat(fe);E.contents=me}else break}})})(this,y,e)}async generateContentInternal(e){var i,s,a,u;let d,p="",y={};if(this.apiClient.isVertexAI()){const m=Yy(this.apiClient,e);return p=W("{model}:generateContent",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const E=$y(v),S=new dr;return Object.assign(S,E),S})}else{const m=Fy(this.apiClient,e);return p=W("{model}:generateContent",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const E=Jy(v),S=new dr;return Object.assign(S,E),S})}}async generateContentStreamInternal(e){var i,s,a,u;let d,p="",y={};if(this.apiClient.isVertexAI()){const m=Yy(this.apiClient,e);return p=W("{model}:streamGenerateContent?alt=sse",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.requestStream({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),d.then(function(E){return on(this,arguments,function*(){var S,x,N,k;try{for(var U=!0,L=sn(E),q;q=yield ce(L.next()),S=q.done,!S;U=!0){k=q.value,U=!1;const F=k,$=$y(yield ce(F.json()));$.sdkHttpResponse={headers:F.headers};const Y=new dr;Object.assign(Y,$),yield yield ce(Y)}}catch(F){x={error:F}}finally{try{!U&&!S&&(N=L.return)&&(yield ce(N.call(L)))}finally{if(x)throw x.error}}})})}else{const m=Fy(this.apiClient,e);return p=W("{model}:streamGenerateContent?alt=sse",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.requestStream({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}),d.then(function(E){return on(this,arguments,function*(){var S,x,N,k;try{for(var U=!0,L=sn(E),q;q=yield ce(L.next()),S=q.done,!S;U=!0){k=q.value,U=!1;const F=k,$=Jy(yield ce(F.json()));$.sdkHttpResponse={headers:F.headers};const Y=new dr;Object.assign(Y,$),yield yield ce(Y)}}catch(F){x={error:F}}finally{try{!U&&!S&&(N=L.return)&&(yield ce(N.call(L)))}finally{if(x)throw x.error}}})})}}async embedContent(e){var i,s,a,u;let d,p="",y={};if(this.apiClient.isVertexAI()){const m=x1(this.apiClient,e);return p=W("{model}:predict",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const E=b1(v),S=new wy;return Object.assign(S,E),S})}else{const m=C1(this.apiClient,e);return p=W("{model}:batchEmbedContents",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const E=A1(v),S=new wy;return Object.assign(S,E),S})}}async generateImagesInternal(e){var i,s,a,u;let d,p="",y={};if(this.apiClient.isVertexAI()){const m=O1(this.apiClient,e);return p=W("{model}:predict",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const E=G1(v),S=new Ny;return Object.assign(S,E),S})}else{const m=P1(this.apiClient,e);return p=W("{model}:predict",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const E=H1(v),S=new Ny;return Object.assign(S,E),S})}}async editImageInternal(e){var i,s;let a,u="",d={};if(this.apiClient.isVertexAI()){const p=_1(this.apiClient,e);return u=W("{model}:predict",p._url),d=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),a.then(y=>{const m=T1(y),v=new wx;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var i,s;let a,u="",d={};if(this.apiClient.isVertexAI()){const p=Ow(this.apiClient,e);return u=W("{model}:predict",p._url),d=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),a.then(y=>{const m=Hw(y),v=new Nx;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var i,s;let a,u="",d={};if(this.apiClient.isVertexAI()){const p=vw(this.apiClient,e);return u=W("{model}:predict",p._url),d=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),a.then(y=>{const m=_w(y),v=new Ix;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var i,s;let a,u="",d={};if(this.apiClient.isVertexAI()){const p=Aw(this.apiClient,e);return u=W("{model}:predict",p._url),d=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),a.then(y=>{const m=bw(y),v=new Rx;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var i,s,a,u;let d,p="",y={};if(this.apiClient.isVertexAI()){const m=nw(this.apiClient,e);return p=W("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),d.then(v=>Ed(v))}else{const m=tw(this.apiClient,e);return p=W("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d.then(v=>Td(v))}}async listInternal(e){var i,s,a,u;let d,p="",y={};if(this.apiClient.isVertexAI()){const m=dw(this.apiClient,e);return p=W("{models_url}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const E=hw(v),S=new Iy;return Object.assign(S,E),S})}else{const m=cw(this.apiClient,e);return p=W("{models_url}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const E=fw(v),S=new Iy;return Object.assign(S,E),S})}}async update(e){var i,s,a,u;let d,p="",y={};if(this.apiClient.isVertexAI()){const m=Lw(this.apiClient,e);return p=W("{model}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),d.then(v=>Ed(v))}else{const m=kw(this.apiClient,e);return p=W("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d.then(v=>Td(v))}}async delete(e){var i,s,a,u;let d,p="",y={};if(this.apiClient.isVertexAI()){const m=m1(this.apiClient,e);return p=W("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const E=y1(v),S=new Ry;return Object.assign(S,E),S})}else{const m=p1(this.apiClient,e);return p=W("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const E=g1(v),S=new Ry;return Object.assign(S,E),S})}}async countTokens(e){var i,s,a,u;let d,p="",y={};if(this.apiClient.isVertexAI()){const m=d1(this.apiClient,e);return p=W("{model}:countTokens",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const E=h1(v),S=new My;return Object.assign(S,E),S})}else{const m=c1(this.apiClient,e);return p=W("{model}:countTokens",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const E=f1(v),S=new My;return Object.assign(S,E),S})}}async computeTokens(e){var i,s;let a,u="",d={};if(this.apiClient.isVertexAI()){const p=i1(this.apiClient,e);return u=W("{model}:computeTokens",p._url),d=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),a.then(y=>{const m=o1(y),v=new Mx;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var i,s,a,u;let d,p="",y={};if(this.apiClient.isVertexAI()){const m=Y1(this.apiClient,e);return p=W("{model}:predictLongRunning",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),d.then(v=>{const E=q1(v),S=new al;return Object.assign(S,E),S})}else{const m=F1(this.apiClient,e);return p=W("{model}:predictLongRunning",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d.then(v=>{const E=B1(v),S=new al;return Object.assign(S,E),S})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class MN extends $n{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const i=e.operation,s=e.config;if(i.name===void 0||i.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=i.name.split("/operations/")[0];let u;s&&"httpOptions"in s&&(u=s.httpOptions);const d=await this.fetchPredictVideosOperationInternal({operationName:i.name,resourceName:a,config:{httpOptions:u}});return i._fromAPIResponse({apiResponse:d,_isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:i.name,config:s});return i._fromAPIResponse({apiResponse:a,_isVertexAI:!1})}}async get(e){const i=e.operation,s=e.config;if(i.name===void 0||i.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=i.name.split("/operations/")[0];let u;s&&"httpOptions"in s&&(u=s.httpOptions);const d=await this.fetchPredictVideosOperationInternal({operationName:i.name,resourceName:a,config:{httpOptions:u}});return i._fromAPIResponse({apiResponse:d,_isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:i.name,config:s});return i._fromAPIResponse({apiResponse:a,_isVertexAI:!1})}}async getVideosOperationInternal(e){var i,s,a,u;let d,p="",y={};if(this.apiClient.isVertexAI()){const m=Ex(e);return p=W("{operationName}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),d}else{const m=Tx(e);return p=W("{operationName}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d}}async fetchPredictVideosOperationInternal(e){var i,s;let a,u="",d={};if(this.apiClient.isVertexAI()){const p=hx(e);return u=W("{resourceName}:fetchPredictOperation",p._url),d=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),a}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function DN(t){const e={},i=c(t,["data"]);if(i!=null&&f(e,["data"],i),c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=c(t,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function UN(t){const e={},i=c(t,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>BN(u))),f(e,["parts"],a)}const s=c(t,["role"]);return s!=null&&f(e,["role"],s),e}function kN(t,e,i){const s={},a=c(e,["expireTime"]);i!==void 0&&a!=null&&f(i,["expireTime"],a);const u=c(e,["newSessionExpireTime"]);i!==void 0&&u!=null&&f(i,["newSessionExpireTime"],u);const d=c(e,["uses"]);i!==void 0&&d!=null&&f(i,["uses"],d);const p=c(e,["liveConnectConstraints"]);i!==void 0&&p!=null&&f(i,["bidiGenerateContentSetup"],VN(t,p));const y=c(e,["lockAdditionalFields"]);return i!==void 0&&y!=null&&f(i,["fieldMask"],y),s}function LN(t,e){const i={},s=c(e,["config"]);return s!=null&&f(i,["config"],kN(t,s,i)),i}function PN(t){const e={};if(c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=c(t,["fileUri"]);i!=null&&f(e,["fileUri"],i);const s=c(t,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function ON(t){const e={},i=c(t,["id"]);i!=null&&f(e,["id"],i);const s=c(t,["args"]);s!=null&&f(e,["args"],s);const a=c(t,["name"]);if(a!=null&&f(e,["name"],a),c(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function HN(t){const e={};if(c(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=c(t,["enableWidget"]);return i!=null&&f(e,["enableWidget"],i),e}function GN(t){const e={};if(c(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=c(t,["timeRangeFilter"]);return i!=null&&f(e,["timeRangeFilter"],i),e}function zN(t,e){const i={},s=c(t,["generationConfig"]);e!==void 0&&s!=null&&f(e,["setup","generationConfig"],s);const a=c(t,["responseModalities"]);e!==void 0&&a!=null&&f(e,["setup","generationConfig","responseModalities"],a);const u=c(t,["temperature"]);e!==void 0&&u!=null&&f(e,["setup","generationConfig","temperature"],u);const d=c(t,["topP"]);e!==void 0&&d!=null&&f(e,["setup","generationConfig","topP"],d);const p=c(t,["topK"]);e!==void 0&&p!=null&&f(e,["setup","generationConfig","topK"],p);const y=c(t,["maxOutputTokens"]);e!==void 0&&y!=null&&f(e,["setup","generationConfig","maxOutputTokens"],y);const m=c(t,["mediaResolution"]);e!==void 0&&m!=null&&f(e,["setup","generationConfig","mediaResolution"],m);const v=c(t,["seed"]);e!==void 0&&v!=null&&f(e,["setup","generationConfig","seed"],v);const E=c(t,["speechConfig"]);e!==void 0&&E!=null&&f(e,["setup","generationConfig","speechConfig"],Xd(E));const S=c(t,["thinkingConfig"]);e!==void 0&&S!=null&&f(e,["setup","generationConfig","thinkingConfig"],S);const x=c(t,["enableAffectiveDialog"]);e!==void 0&&x!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],x);const N=c(t,["systemInstruction"]);e!==void 0&&N!=null&&f(e,["setup","systemInstruction"],UN(ft(N)));const k=c(t,["tools"]);if(e!==void 0&&k!=null){let te=fs(k);Array.isArray(te)&&(te=te.map(K=>FN(ds(K)))),f(e,["setup","tools"],te)}const U=c(t,["sessionResumption"]);e!==void 0&&U!=null&&f(e,["setup","sessionResumption"],qN(U));const L=c(t,["inputAudioTranscription"]);e!==void 0&&L!=null&&f(e,["setup","inputAudioTranscription"],L);const q=c(t,["outputAudioTranscription"]);e!==void 0&&q!=null&&f(e,["setup","outputAudioTranscription"],q);const F=c(t,["realtimeInputConfig"]);e!==void 0&&F!=null&&f(e,["setup","realtimeInputConfig"],F);const $=c(t,["contextWindowCompression"]);e!==void 0&&$!=null&&f(e,["setup","contextWindowCompression"],$);const Y=c(t,["proactivity"]);if(e!==void 0&&Y!=null&&f(e,["setup","proactivity"],Y),c(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return i}function VN(t,e){const i={},s=c(e,["model"]);s!=null&&f(i,["setup","model"],Me(t,s));const a=c(e,["config"]);return a!=null&&f(i,["config"],zN(a,i)),i}function BN(t){const e={},i=c(t,["mediaResolution"]);i!=null&&f(e,["mediaResolution"],i);const s=c(t,["codeExecutionResult"]);s!=null&&f(e,["codeExecutionResult"],s);const a=c(t,["executableCode"]);a!=null&&f(e,["executableCode"],a);const u=c(t,["fileData"]);u!=null&&f(e,["fileData"],PN(u));const d=c(t,["functionCall"]);d!=null&&f(e,["functionCall"],ON(d));const p=c(t,["functionResponse"]);p!=null&&f(e,["functionResponse"],p);const y=c(t,["inlineData"]);y!=null&&f(e,["inlineData"],DN(y));const m=c(t,["text"]);m!=null&&f(e,["text"],m);const v=c(t,["thought"]);v!=null&&f(e,["thought"],v);const E=c(t,["thoughtSignature"]);E!=null&&f(e,["thoughtSignature"],E);const S=c(t,["videoMetadata"]);return S!=null&&f(e,["videoMetadata"],S),e}function qN(t){const e={},i=c(t,["handle"]);if(i!=null&&f(e,["handle"],i),c(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function FN(t){const e={};if(c(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=c(t,["computerUse"]);i!=null&&f(e,["computerUse"],i);const s=c(t,["fileSearch"]);s!=null&&f(e,["fileSearch"],s);const a=c(t,["codeExecution"]);if(a!=null&&f(e,["codeExecution"],a),c(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=c(t,["functionDeclarations"]);if(u!=null){let v=u;Array.isArray(v)&&(v=v.map(E=>E)),f(e,["functionDeclarations"],v)}const d=c(t,["googleMaps"]);d!=null&&f(e,["googleMaps"],HN(d));const p=c(t,["googleSearch"]);p!=null&&f(e,["googleSearch"],GN(p));const y=c(t,["googleSearchRetrieval"]);y!=null&&f(e,["googleSearchRetrieval"],y);const m=c(t,["urlContext"]);return m!=null&&f(e,["urlContext"],m),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function YN(t){const e=[];for(const i in t)if(Object.prototype.hasOwnProperty.call(t,i)){const s=t[i];if(typeof s=="object"&&s!=null&&Object.keys(s).length>0){const a=Object.keys(s).map(u=>`${i}.${u}`);e.push(...a)}else e.push(i)}return e.join(",")}function JN(t,e){let i=null;const s=t.bidiGenerateContentSetup;if(typeof s=="object"&&s!==null&&"setup"in s){const u=s.setup;typeof u=="object"&&u!==null?(t.bidiGenerateContentSetup=u,i=u):delete t.bidiGenerateContentSetup}else s!==void 0&&delete t.bidiGenerateContentSetup;const a=t.fieldMask;if(i){const u=YN(i);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)u?t.fieldMask=u:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&a!==null&&Array.isArray(a)&&a.length>0){const d=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let p=[];a.length>0&&(p=a.map(m=>d.includes(m)?`generationConfig.${m}`:m));const y=[];u&&y.push(u),p.length>0&&y.push(...p),y.length>0?t.fieldMask=y.join(","):delete t.fieldMask}else delete t.fieldMask}else a!==null&&Array.isArray(a)&&a.length>0?t.fieldMask=a.join(","):delete t.fieldMask;return t}class $N extends $n{constructor(e){super(),this.apiClient=e}async create(e){var i,s;let a,u="",d={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const p=LN(this.apiClient,e);u=W("auth_tokens",p._url),d=p._query,delete p.config,delete p._url,delete p._query;const y=JN(p,e.config);return a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json()),a.then(m=>m)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function KN(t,e){const i={},s=c(t,["force"]);return e!==void 0&&s!=null&&f(e,["_query","force"],s),i}function XN(t){const e={},i=c(t,["name"]);i!=null&&f(e,["_url","name"],i);const s=c(t,["config"]);return s!=null&&KN(s,e),e}function QN(t){const e={},i=c(t,["name"]);return i!=null&&f(e,["_url","name"],i),e}function WN(t,e){const i={},s=c(t,["pageSize"]);e!==void 0&&s!=null&&f(e,["_query","pageSize"],s);const a=c(t,["pageToken"]);return e!==void 0&&a!=null&&f(e,["_query","pageToken"],a),i}function ZN(t){const e={},i=c(t,["parent"]);i!=null&&f(e,["_url","parent"],i);const s=c(t,["config"]);return s!=null&&WN(s,e),e}function jN(t){const e={},i=c(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const s=c(t,["nextPageToken"]);s!=null&&f(e,["nextPageToken"],s);const a=c(t,["documents"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>d)),f(e,["documents"],u)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class eI extends $n{constructor(e){super(),this.apiClient=e,this.list=async i=>new co(qn.PAGED_ITEM_DOCUMENTS,s=>this.listInternal({parent:i.parent,config:s.config}),await this.listInternal(i),i)}async get(e){var i,s;let a,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=QN(e);return u=W("{name}",p._url),d=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),a.then(y=>y)}}async delete(e){var i,s;let a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=XN(e);a=W("{name}",d._url),u=d._query,delete d._url,delete d._query,await this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var i,s;let a,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=ZN(e);return u=W("{parent}/documents",p._url),d=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),a.then(y=>{const m=jN(y),v=new Dx;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class tI extends $n{constructor(e,i=new eI(e)){super(),this.apiClient=e,this.documents=i,this.list=async(s={})=>new co(qn.PAGED_ITEM_FILE_SEARCH_STORES,a=>this.listInternal(a),await this.listInternal(s),s)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var i,s;let a,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=Yw(e);return u=W("fileSearchStores",p._url),d=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),a.then(y=>y)}}async get(e){var i,s;let a,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=Kw(e);return u=W("{name}",p._url),d=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),a.then(y=>y)}}async delete(e){var i,s;let a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=$w(e);a=W("{name}",d._url),u=d._query,delete d._url,delete d._query,await this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var i,s;let a,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=eN(e);return u=W("fileSearchStores",p._url),d=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),a.then(y=>{const m=tN(y),v=new Ux;return Object.assign(v,m),v})}}async uploadToFileSearchStoreInternal(e){var i,s;let a,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=nN(e);return u=W("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",p._url),d=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),a.then(y=>{const m=iN(y),v=new kx;return Object.assign(v,m),v})}}async importFile(e){var i,s;let a,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=Ww(e);return u=W("{file_search_store_name}:importFile",p._url),d=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),a.then(y=>{const m=Qw(y),v=new Fd;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Nv=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return Nv=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),i=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,s=>(+s^i()&15>>+s/4).toString(16))};const nI=()=>Nv();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Cd(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const xd=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Qt extends Error{}class yt extends Qt{constructor(e,i,s,a){super(`${yt.makeMessage(e,i,s)}`),this.status=e,this.headers=a,this.error=i}static makeMessage(e,i,s){const a=i!=null&&i.message?typeof i.message=="string"?i.message:JSON.stringify(i.message):i?JSON.stringify(i):s;return e&&a?`${e} ${a}`:e?`${e} status code (no body)`:a||"(no status code or body)"}static generate(e,i,s,a){if(!e||!a)return new xl({message:s,cause:xd(i)});const u=i;return e===400?new Rv(e,u,s,a):e===401?new Mv(e,u,s,a):e===403?new Dv(e,u,s,a):e===404?new Uv(e,u,s,a):e===409?new kv(e,u,s,a):e===422?new Lv(e,u,s,a):e===429?new Pv(e,u,s,a):e>=500?new Ov(e,u,s,a):new yt(e,u,s,a)}}class Ad extends yt{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class xl extends yt{constructor({message:e,cause:i}){super(void 0,void 0,e||"Connection error.",void 0),i&&(this.cause=i)}}class Iv extends xl{constructor({message:e}={}){super({message:e??"Request timed out."})}}class Rv extends yt{}class Mv extends yt{}class Dv extends yt{}class Uv extends yt{}class kv extends yt{}class Lv extends yt{}class Pv extends yt{}class Ov extends yt{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const iI=/^[a-z][a-z0-9+.-]*:/i,oI=t=>iI.test(t);let bd=t=>(bd=Array.isArray,bd(t));const sI=bd;let rI=sI;const jy=rI;function aI(t){if(!t)return!0;for(const e in t)return!1;return!0}function lI(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const uI=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Qt(`${t} must be an integer`);if(e<0)throw new Qt(`${t} must be a positive integer`);return e},cI=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const dI=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const jo="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fI(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const hI=()=>{var t,e,i,s,a;const u=fI();if(u==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":jo,"X-Stainless-OS":t0(Deno.build.os),"X-Stainless-Arch":e0(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":jo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(u==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":jo,"X-Stainless-OS":t0((i=globalThis.process.platform)!==null&&i!==void 0?i:"unknown"),"X-Stainless-Arch":e0((s=globalThis.process.arch)!==null&&s!==void 0?s:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(a=globalThis.process.version)!==null&&a!==void 0?a:"unknown"};const d=pI();return d?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":jo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${d.browser}`,"X-Stainless-Runtime-Version":d.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":jo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function pI(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:i}of t){const s=i.exec(navigator.userAgent);if(s){const a=s[1]||0,u=s[2]||0,d=s[3]||0;return{browser:e,version:`${a}.${u}.${d}`}}}return null}const e0=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",t0=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let $a;const mI=()=>$a??($a=hI());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gI(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Hv(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function yI(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return Hv({start(){},async pull(i){const{done:s,value:a}=await e.next();s?i.close():i.enqueue(a)},async cancel(){var i;await((i=e.return)===null||i===void 0?void 0:i.call(e))}})}function Gv(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const i=await e.read();return i!=null&&i.done&&e.releaseLock(),i}catch(i){throw e.releaseLock(),i}},async return(){const i=e.cancel();return e.releaseLock(),await i,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function vI(t){var e,i;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((i=(e=t[Symbol.asyncIterator]()).return)===null||i===void 0?void 0:i.call(e));return}const s=t.getReader(),a=s.cancel();s.releaseLock(),await a}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _I=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zv=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,i=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(i?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Zc(t,e,i){return zv(),new File(t,e??"unknown_file",i)}function TI(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const EI=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Vv=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",SI=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&Vv(t),CI=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function xI(t,e,i){if(zv(),t=await t,SI(t))return t instanceof File?t:Zc([await t.arrayBuffer()],t.name);if(CI(t)){const a=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),Zc(await wd(a),e,i)}const s=await wd(t);if(e||(e=TI(t)),!(i!=null&&i.type)){const a=s.find(u=>typeof u=="object"&&"type"in u&&u.type);typeof a=="string"&&(i=Object.assign(Object.assign({},i),{type:a}))}return Zc(s,e,i)}async function wd(t){var e,i,s,a,u;let d=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)d.push(t);else if(Vv(t))d.push(t instanceof Blob?t:await t.arrayBuffer());else if(EI(t))try{for(var p=!0,y=sn(t),m;m=await y.next(),e=m.done,!e;p=!0){a=m.value,p=!1;const v=a;d.push(...await wd(v))}}catch(v){i={error:v}}finally{try{!p&&!e&&(s=y.return)&&await s.call(y)}finally{if(i)throw i.error}}else{const v=(u=t==null?void 0:t.constructor)===null||u===void 0?void 0:u.name;throw new Error(`Unexpected data type: ${typeof t}${v?`; constructor: ${v}`:""}${AI(t)}`)}return d}function AI(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(i=>`"${i}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Bv{constructor(e){this._client=e}}Bv._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qv(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const n0=Object.freeze(Object.create(null)),bI=(t=qv)=>(function(i,...s){if(i.length===1)return i[0];let a=!1;const u=[],d=i.reduce((v,E,S)=>{var x,N,k;/[?#]/.test(E)&&(a=!0);const U=s[S];let L=(a?encodeURIComponent:t)(""+U);return S!==s.length&&(U==null||typeof U=="object"&&U.toString===((k=Object.getPrototypeOf((N=Object.getPrototypeOf((x=U.hasOwnProperty)!==null&&x!==void 0?x:n0))!==null&&N!==void 0?N:n0))===null||k===void 0?void 0:k.toString))&&(L=U+"",u.push({start:v.length+E.length,length:L.length,error:`Value of type ${Object.prototype.toString.call(U).slice(8,-1)} is not a valid path parameter`})),v+E+(S===s.length?"":L)},""),p=d.split(/[?#]/,1)[0],y=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let m;for(;(m=y.exec(p))!==null;)u.push({start:m.index,length:m[0].length,error:`Value "${m[0]}" can't be safely passed as a path parameter`});if(u.sort((v,E)=>v.start-E.start),u.length>0){let v=0;const E=u.reduce((S,x)=>{const N=" ".repeat(x.start-v),k="^".repeat(x.length);return v=x.start+x.length,S+N+k},"");throw new Qt(`Path parameters result in path with invalid segments:
${u.map(S=>S.error).join(`
`)}
${d}
${E}`)}return d}),Ka=bI(qv);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Fv extends Bv{create(e,i){var s;const{api_version:a=this._client.apiVersion}=e,u=ul(e,["api_version"]);if("model"in u&&"agent_config"in u)throw new Qt("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in u&&"generation_config"in u)throw new Qt("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Ka`/${a}/interactions`,Object.assign(Object.assign({body:u},i),{stream:(s=e.stream)!==null&&s!==void 0?s:!1}))}delete(e,i={},s){const{api_version:a=this._client.apiVersion}=i??{};return this._client.delete(Ka`/${a}/interactions/${e}`,s)}cancel(e,i={},s){const{api_version:a=this._client.apiVersion}=i??{};return this._client.post(Ka`/${a}/interactions/${e}/cancel`,s)}get(e,i={},s){var a;const u=i??{},{api_version:d=this._client.apiVersion}=u,p=ul(u,["api_version"]);return this._client.get(Ka`/${d}/interactions/${e}`,Object.assign(Object.assign({query:p},s),{stream:(a=i==null?void 0:i.stream)!==null&&a!==void 0?a:!1}))}}Fv._key=Object.freeze(["interactions"]);class Yv extends Fv{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wI(t){let e=0;for(const a of t)e+=a.length;const i=new Uint8Array(e);let s=0;for(const a of t)i.set(a,s),s+=a.length;return i}let Xa;function Wd(t){let e;return(Xa??(e=new globalThis.TextEncoder,Xa=e.encode.bind(e)))(t)}let Qa;function i0(t){let e;return(Qa??(e=new globalThis.TextDecoder,Qa=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Al{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const i=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?Wd(e):e;this.buffer=wI([this.buffer,i]);const s=[];let a;for(;(a=NI(this.buffer,this.carriageReturnIndex))!=null;){if(a.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=a.index;continue}if(this.carriageReturnIndex!=null&&(a.index!==this.carriageReturnIndex+1||a.carriage)){s.push(i0(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const u=this.carriageReturnIndex!==null?a.preceding-1:a.preceding,d=i0(this.buffer.subarray(0,u));s.push(d),this.buffer=this.buffer.subarray(a.index),this.carriageReturnIndex=null}return s}flush(){return this.buffer.length?this.decode(`
`):[]}}Al.NEWLINE_CHARS=new Set([`
`,"\r"]);Al.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function NI(t,e){for(let a=e??0;a<t.length;a++){if(t[a]===10)return{preceding:a,index:a+1,carriage:!1};if(t[a]===13)return{preceding:a,index:a+1,carriage:!0}}return null}function II(t){for(let s=0;s<t.length-1;s++){if(t[s]===10&&t[s+1]===10||t[s]===13&&t[s+1]===13)return s+2;if(t[s]===13&&t[s+1]===10&&s+3<t.length&&t[s+2]===13&&t[s+3]===10)return s+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const cl={off:0,error:200,warn:300,info:400,debug:500},o0=(t,e,i)=>{if(t){if(lI(cl,t))return t;mt(i).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(cl))}`)}};function hr(){}function Wa(t,e,i){return!e||cl[t]>cl[i]?hr:e[t].bind(e)}const RI={error:hr,warn:hr,info:hr,debug:hr};let s0=new WeakMap;function mt(t){var e;const i=t.logger,s=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!i)return RI;const a=s0.get(i);if(a&&a[0]===s)return a[1];const u={error:Wa("error",i,s),warn:Wa("warn",i,s),info:Wa("info",i,s),debug:Wa("debug",i,s)};return s0.set(i,[s,u]),u}const to=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,i])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":i]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ts{constructor(e,i,s){this.iterator=e,this.controller=i,this.client=s}static fromSSEResponse(e,i,s){let a=!1;const u=s?mt(s):console;function d(){return on(this,arguments,function*(){var y,m,v,E;if(a)throw new Qt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");a=!0;let S=!1;try{try{for(var x=!0,N=sn(MI(e,i)),k;k=yield ce(N.next()),y=k.done,!y;x=!0){E=k.value,x=!1;const U=E;if(!S)if(U.data.startsWith("[DONE]")){S=!0;continue}else try{yield yield ce(JSON.parse(U.data))}catch(L){throw u.error("Could not parse message into JSON:",U.data),u.error("From chunk:",U.raw),L}}}catch(U){m={error:U}}finally{try{!x&&!y&&(v=N.return)&&(yield ce(v.call(N)))}finally{if(m)throw m.error}}S=!0}catch(U){if(Cd(U))return yield ce(void 0);throw U}finally{S||i.abort()}})}return new ts(d,i,s)}static fromReadableStream(e,i,s){let a=!1;function u(){return on(this,arguments,function*(){var y,m,v,E;const S=new Al,x=Gv(e);try{for(var N=!0,k=sn(x),U;U=yield ce(k.next()),y=U.done,!y;N=!0){E=U.value,N=!1;const L=E;for(const q of S.decode(L))yield yield ce(q)}}catch(L){m={error:L}}finally{try{!N&&!y&&(v=k.return)&&(yield ce(v.call(k)))}finally{if(m)throw m.error}}for(const L of S.flush())yield yield ce(L)})}function d(){return on(this,arguments,function*(){var y,m,v,E;if(a)throw new Qt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");a=!0;let S=!1;try{try{for(var x=!0,N=sn(u()),k;k=yield ce(N.next()),y=k.done,!y;x=!0){E=k.value,x=!1;const U=E;S||U&&(yield yield ce(JSON.parse(U)))}}catch(U){m={error:U}}finally{try{!x&&!y&&(v=N.return)&&(yield ce(v.call(N)))}finally{if(m)throw m.error}}S=!0}catch(U){if(Cd(U))return yield ce(void 0);throw U}finally{S||i.abort()}})}return new ts(d,i,s)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],i=[],s=this.iterator(),a=u=>({next:()=>{if(u.length===0){const d=s.next();e.push(d),i.push(d)}return u.shift()}});return[new ts(()=>a(e),this.controller,this.client),new ts(()=>a(i),this.controller,this.client)]}toReadableStream(){const e=this;let i;return Hv({async start(){i=e[Symbol.asyncIterator]()},async pull(s){try{const{value:a,done:u}=await i.next();if(u)return s.close();const d=Wd(JSON.stringify(a)+`
`);s.enqueue(d)}catch(a){s.error(a)}},async cancel(){var s;await((s=i.return)===null||s===void 0?void 0:s.call(i))}})}}function MI(t,e){return on(this,arguments,function*(){var s,a,u,d;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Qt("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Qt("Attempted to iterate over a response with no body");const p=new UI,y=new Al,m=Gv(t.body);try{for(var v=!0,E=sn(DI(m)),S;S=yield ce(E.next()),s=S.done,!s;v=!0){d=S.value,v=!1;const x=d;for(const N of y.decode(x)){const k=p.decode(N);k&&(yield yield ce(k))}}}catch(x){a={error:x}}finally{try{!v&&!s&&(u=E.return)&&(yield ce(u.call(E)))}finally{if(a)throw a.error}}for(const x of y.flush()){const N=p.decode(x);N&&(yield yield ce(N))}})}function DI(t){return on(this,arguments,function*(){var i,s,a,u;let d=new Uint8Array;try{for(var p=!0,y=sn(t),m;m=yield ce(y.next()),i=m.done,!i;p=!0){u=m.value,p=!1;const v=u;if(v==null)continue;const E=v instanceof ArrayBuffer?new Uint8Array(v):typeof v=="string"?Wd(v):v;let S=new Uint8Array(d.length+E.length);S.set(d),S.set(E,d.length),d=S;let x;for(;(x=II(d))!==-1;)yield yield ce(d.slice(0,x)),d=d.slice(x)}}catch(v){s={error:v}}finally{try{!p&&!i&&(a=y.return)&&(yield ce(a.call(y)))}finally{if(s)throw s.error}}d.length>0&&(yield yield ce(d))})}class UI{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const u={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],u}if(this.chunks.push(e),e.startsWith(":"))return null;let[i,s,a]=kI(e,":");return a.startsWith(" ")&&(a=a.substring(1)),i==="event"?this.event=a:i==="data"&&this.data.push(a),null}}function kI(t,e){const i=t.indexOf(e);return i!==-1?[t.substring(0,i),e,t.substring(i+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function LI(t,e){const{response:i,requestLogID:s,retryOfRequestLogID:a,startTime:u}=e,d=await(async()=>{var p;if(e.options.stream)return mt(t).debug("response",i.status,i.url,i.headers,i.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(i,e.controller,t):ts.fromSSEResponse(i,e.controller,t);if(i.status===204)return null;if(e.options.__binaryResponse)return i;const y=i.headers.get("content-type"),m=(p=y==null?void 0:y.split(";")[0])===null||p===void 0?void 0:p.trim();return(m==null?void 0:m.includes("application/json"))||(m==null?void 0:m.endsWith("+json"))?await i.json():await i.text()})();return mt(t).debug(`[${s}] response parsed`,to({retryOfRequestLogID:a,url:i.url,status:i.status,body:d,durationMs:Date.now()-u})),d}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Zd extends Promise{constructor(e,i,s=LI){super(a=>{a(null)}),this.responsePromise=i,this.parseResponse=s,this.client=e}_thenUnwrap(e){return new Zd(this.client,this.responsePromise,async(i,s)=>e(await this.parseResponse(i,s),s))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,i]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:i}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,i){return this.parse().then(e,i)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Jv=Symbol("brand.privateNullableHeaders");function*PI(t){if(!t)return;if(Jv in t){const{values:s,nulls:a}=t;yield*s.entries();for(const u of a)yield[u,null];return}let e=!1,i;t instanceof Headers?i=t.entries():jy(t)?i=t:(e=!0,i=Object.entries(t??{}));for(let s of i){const a=s[0];if(typeof a!="string")throw new TypeError("expected header name to be a string");const u=jy(s[1])?s[1]:[s[1]];let d=!1;for(const p of u)p!==void 0&&(e&&!d&&(d=!0,yield[a,null]),yield[a,p])}}const fr=t=>{const e=new Headers,i=new Set;for(const s of t){const a=new Set;for(const[u,d]of PI(s)){const p=u.toLowerCase();a.has(p)||(e.delete(u),a.add(p)),d===null?(e.delete(u),i.add(p)):(e.append(u,d),i.delete(p))}}return{[Jv]:!0,values:e,nulls:i}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const jc=t=>{var e,i,s,a,u,d;if(typeof globalThis.process<"u")return(s=(i=(e=ax)===null||e===void 0?void 0:e[t])===null||i===void 0?void 0:i.trim())!==null&&s!==void 0?s:void 0;if(typeof globalThis.Deno<"u")return(d=(u=(a=globalThis.Deno.env)===null||a===void 0?void 0:a.get)===null||u===void 0?void 0:u.call(a,t))===null||d===void 0?void 0:d.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var $v;class bl{constructor(e){var i,s,a,u,d,p,y,{baseURL:m=jc("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:v=(i=jc("GEMINI_API_KEY"))!==null&&i!==void 0?i:null,apiVersion:E="v1beta"}=e,S=ul(e,["baseURL","apiKey","apiVersion"]);const x=Object.assign(Object.assign({apiKey:v,apiVersion:E},S),{baseURL:m||"https://generativelanguage.googleapis.com"});this.baseURL=x.baseURL,this.timeout=(s=x.timeout)!==null&&s!==void 0?s:bl.DEFAULT_TIMEOUT,this.logger=(a=x.logger)!==null&&a!==void 0?a:console;const N="warn";this.logLevel=N,this.logLevel=(d=(u=o0(x.logLevel,"ClientOptions.logLevel",this))!==null&&u!==void 0?u:o0(jc("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&d!==void 0?d:N,this.fetchOptions=x.fetchOptions,this.maxRetries=(p=x.maxRetries)!==null&&p!==void 0?p:2,this.fetch=(y=x.fetch)!==null&&y!==void 0?y:gI(),this.encoder=_I,this._options=x,this.apiKey=v,this.apiVersion=E,this.clientAdapter=x.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:i}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!i.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const i=fr([e.headers]);if(!(i.values.has("authorization")||i.values.has("x-goog-api-key"))){if(this.apiKey)return fr([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return fr([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([i,s])=>typeof s<"u").map(([i,s])=>{if(typeof s=="string"||typeof s=="number"||typeof s=="boolean")return`${encodeURIComponent(i)}=${encodeURIComponent(s)}`;if(s===null)return`${encodeURIComponent(i)}=`;throw new Qt(`Cannot stringify type ${typeof s}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${jo}`}defaultIdempotencyKey(){return`stainless-node-retry-${nI()}`}makeStatusError(e,i,s,a){return yt.generate(e,i,s,a)}buildURL(e,i,s){const a=!this.baseURLOverridden()&&s||this.baseURL,u=oI(e)?new URL(e):new URL(a+(a.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),d=this.defaultQuery();return aI(d)||(i=Object.assign(Object.assign({},d),i)),typeof i=="object"&&i&&!Array.isArray(i)&&(u.search=this.stringifyQuery(i)),u.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const i=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${i}`}}async prepareRequest(e,{url:i,options:s}){}get(e,i){return this.methodRequest("get",e,i)}post(e,i){return this.methodRequest("post",e,i)}patch(e,i){return this.methodRequest("patch",e,i)}put(e,i){return this.methodRequest("put",e,i)}delete(e,i){return this.methodRequest("delete",e,i)}methodRequest(e,i,s){return this.request(Promise.resolve(s).then(a=>Object.assign({method:e,path:i},a)))}request(e,i=null){return new Zd(this,this.makeRequest(e,i,void 0))}async makeRequest(e,i,s){var a,u,d;const p=await e,y=(a=p.maxRetries)!==null&&a!==void 0?a:this.maxRetries;i==null&&(i=y),await this.prepareOptions(p);const{req:m,url:v,timeout:E}=await this.buildRequest(p,{retryCount:y-i});await this.prepareRequest(m,{url:v,options:p});const S="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),x=s===void 0?"":`, retryOf: ${s}`,N=Date.now();if(mt(this).debug(`[${S}] sending request`,to({retryOfRequestLogID:s,method:p.method,url:v,options:p,headers:m.headers})),!((u=p.signal)===null||u===void 0)&&u.aborted)throw new Ad;const k=new AbortController,U=await this.fetchWithTimeout(v,m,E,k).catch(xd),L=Date.now();if(U instanceof globalThis.Error){const F=`retrying, ${i} attempts remaining`;if(!((d=p.signal)===null||d===void 0)&&d.aborted)throw new Ad;const $=Cd(U)||/timed? ?out/i.test(String(U)+("cause"in U?String(U.cause):""));if(i)return mt(this).info(`[${S}] connection ${$?"timed out":"failed"} - ${F}`),mt(this).debug(`[${S}] connection ${$?"timed out":"failed"} (${F})`,to({retryOfRequestLogID:s,url:v,durationMs:L-N,message:U.message})),this.retryRequest(p,i,s??S);throw mt(this).info(`[${S}] connection ${$?"timed out":"failed"} - error; no more retries left`),mt(this).debug(`[${S}] connection ${$?"timed out":"failed"} (error; no more retries left)`,to({retryOfRequestLogID:s,url:v,durationMs:L-N,message:U.message})),$?new Iv:new xl({cause:U})}const q=`[${S}${x}] ${m.method} ${v} ${U.ok?"succeeded":"failed"} with status ${U.status} in ${L-N}ms`;if(!U.ok){const F=await this.shouldRetry(U);if(i&&F){const Z=`retrying, ${i} attempts remaining`;return await vI(U.body),mt(this).info(`${q} - ${Z}`),mt(this).debug(`[${S}] response error (${Z})`,to({retryOfRequestLogID:s,url:U.url,status:U.status,headers:U.headers,durationMs:L-N})),this.retryRequest(p,i,s??S,U.headers)}const $=F?"error; no more retries left":"error; not retryable";mt(this).info(`${q} - ${$}`);const Y=await U.text().catch(Z=>xd(Z).message),te=cI(Y),K=te?void 0:Y;throw mt(this).debug(`[${S}] response error (${$})`,to({retryOfRequestLogID:s,url:U.url,status:U.status,headers:U.headers,message:K,durationMs:Date.now()-N})),this.makeStatusError(U.status,te,K,U.headers)}return mt(this).info(q),mt(this).debug(`[${S}] response start`,to({retryOfRequestLogID:s,url:U.url,status:U.status,headers:U.headers,durationMs:L-N})),{response:U,options:p,controller:k,requestLogID:S,retryOfRequestLogID:s,startTime:N}}async fetchWithTimeout(e,i,s,a){const u=i||{},{signal:d,method:p}=u,y=ul(u,["signal","method"]);d&&d.addEventListener("abort",()=>a.abort());const m=setTimeout(()=>a.abort(),s),v=globalThis.ReadableStream&&y.body instanceof globalThis.ReadableStream||typeof y.body=="object"&&y.body!==null&&Symbol.asyncIterator in y.body,E=Object.assign(Object.assign(Object.assign({signal:a.signal},v?{duplex:"half"}:{}),{method:"GET"}),y);p&&(E.method=p.toUpperCase());try{return await this.fetch.call(void 0,e,E)}finally{clearTimeout(m)}}async shouldRetry(e){const i=e.headers.get("x-should-retry");return i==="true"?!0:i==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,i,s,a){var u;let d;const p=a==null?void 0:a.get("retry-after-ms");if(p){const m=parseFloat(p);Number.isNaN(m)||(d=m)}const y=a==null?void 0:a.get("retry-after");if(y&&!d){const m=parseFloat(y);Number.isNaN(m)?d=Date.parse(y)-Date.now():d=m*1e3}if(!(d&&0<=d&&d<60*1e3)){const m=(u=e.maxRetries)!==null&&u!==void 0?u:this.maxRetries;d=this.calculateDefaultRetryTimeoutMillis(i,m)}return await dI(d),this.makeRequest(e,i-1,s)}calculateDefaultRetryTimeoutMillis(e,i){const u=i-e,d=Math.min(.5*Math.pow(2,u),8),p=1-Math.random()*.25;return d*p*1e3}async buildRequest(e,{retryCount:i=0}={}){var s,a,u;const d=Object.assign({},e),{method:p,path:y,query:m,defaultBaseURL:v}=d,E=this.buildURL(y,m,v);"timeout"in d&&uI("timeout",d.timeout),d.timeout=(s=d.timeout)!==null&&s!==void 0?s:this.timeout;const{bodyHeaders:S,body:x}=this.buildBody({options:d}),N=await this.buildHeaders({options:e,method:p,bodyHeaders:S,retryCount:i});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:p,headers:N},d.signal&&{signal:d.signal}),globalThis.ReadableStream&&x instanceof globalThis.ReadableStream&&{duplex:"half"}),x&&{body:x}),(a=this.fetchOptions)!==null&&a!==void 0?a:{}),(u=d.fetchOptions)!==null&&u!==void 0?u:{}),url:E,timeout:d.timeout}}async buildHeaders({options:e,method:i,bodyHeaders:s,retryCount:a}){let u={};this.idempotencyHeader&&i!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),u[this.idempotencyHeader]=e.idempotencyKey);const d=await this.authHeaders(e);let p=fr([u,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(a)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),mI()),this._options.defaultHeaders,s,e.headers,d]);return this.validateHeaders(p),p.values}buildBody({options:{body:e,headers:i}}){if(!e)return{bodyHeaders:void 0,body:void 0};const s=fr([i]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&s.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:yI(e)}:this.encoder({body:e,headers:s})}}bl.DEFAULT_TIMEOUT=6e4;class st extends bl{constructor(){super(...arguments),this.interactions=new Yv(this)}}$v=st;st.GeminiNextGenAPIClient=$v;st.GeminiNextGenAPIClientError=Qt;st.APIError=yt;st.APIConnectionError=xl;st.APIConnectionTimeoutError=Iv;st.APIUserAbortError=Ad;st.NotFoundError=Uv;st.ConflictError=kv;st.RateLimitError=Pv;st.BadRequestError=Rv;st.AuthenticationError=Mv;st.InternalServerError=Ov;st.PermissionDeniedError=Dv;st.UnprocessableEntityError=Lv;st.toFile=xI;st.Interactions=Yv;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function OI(t,e){const i={},s=c(t,["name"]);return s!=null&&f(i,["_url","name"],s),i}function HI(t,e){const i={},s=c(t,["name"]);return s!=null&&f(i,["_url","name"],s),i}function GI(t,e){const i={},s=c(t,["sdkHttpResponse"]);return s!=null&&f(i,["sdkHttpResponse"],s),i}function zI(t,e){const i={},s=c(t,["sdkHttpResponse"]);return s!=null&&f(i,["sdkHttpResponse"],s),i}function VI(t,e,i){const s={};if(c(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const a=c(t,["tunedModelDisplayName"]);if(e!==void 0&&a!=null&&f(e,["displayName"],a),c(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const u=c(t,["epochCount"]);e!==void 0&&u!=null&&f(e,["tuningTask","hyperparameters","epochCount"],u);const d=c(t,["learningRateMultiplier"]);if(d!=null&&f(s,["tuningTask","hyperparameters","learningRateMultiplier"],d),c(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(c(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(c(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const p=c(t,["batchSize"]);e!==void 0&&p!=null&&f(e,["tuningTask","hyperparameters","batchSize"],p);const y=c(t,["learningRate"]);if(e!==void 0&&y!=null&&f(e,["tuningTask","hyperparameters","learningRate"],y),c(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(c(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return s}function BI(t,e,i){const s={};let a=c(i,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const x=c(t,["validationDataset"]);e!==void 0&&x!=null&&f(e,["supervisedTuningSpec"],r0(x))}else if(a==="PREFERENCE_TUNING"){const x=c(t,["validationDataset"]);e!==void 0&&x!=null&&f(e,["preferenceOptimizationSpec"],r0(x))}const u=c(t,["tunedModelDisplayName"]);e!==void 0&&u!=null&&f(e,["tunedModelDisplayName"],u);const d=c(t,["description"]);e!==void 0&&d!=null&&f(e,["description"],d);let p=c(i,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const x=c(t,["epochCount"]);e!==void 0&&x!=null&&f(e,["supervisedTuningSpec","hyperParameters","epochCount"],x)}else if(p==="PREFERENCE_TUNING"){const x=c(t,["epochCount"]);e!==void 0&&x!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],x)}let y=c(i,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const x=c(t,["learningRateMultiplier"]);e!==void 0&&x!=null&&f(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],x)}else if(y==="PREFERENCE_TUNING"){const x=c(t,["learningRateMultiplier"]);e!==void 0&&x!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],x)}let m=c(i,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const x=c(t,["exportLastCheckpointOnly"]);e!==void 0&&x!=null&&f(e,["supervisedTuningSpec","exportLastCheckpointOnly"],x)}else if(m==="PREFERENCE_TUNING"){const x=c(t,["exportLastCheckpointOnly"]);e!==void 0&&x!=null&&f(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],x)}let v=c(i,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const x=c(t,["adapterSize"]);e!==void 0&&x!=null&&f(e,["supervisedTuningSpec","hyperParameters","adapterSize"],x)}else if(v==="PREFERENCE_TUNING"){const x=c(t,["adapterSize"]);e!==void 0&&x!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],x)}if(c(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(c(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const E=c(t,["labels"]);e!==void 0&&E!=null&&f(e,["labels"],E);const S=c(t,["beta"]);return e!==void 0&&S!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","beta"],S),s}function qI(t,e){const i={},s=c(t,["baseModel"]);s!=null&&f(i,["baseModel"],s);const a=c(t,["preTunedModel"]);a!=null&&f(i,["preTunedModel"],a);const u=c(t,["trainingDataset"]);u!=null&&eR(u);const d=c(t,["config"]);return d!=null&&VI(d,i),i}function FI(t,e){const i={},s=c(t,["baseModel"]);s!=null&&f(i,["baseModel"],s);const a=c(t,["preTunedModel"]);a!=null&&f(i,["preTunedModel"],a);const u=c(t,["trainingDataset"]);u!=null&&tR(u,i,e);const d=c(t,["config"]);return d!=null&&BI(d,i,e),i}function YI(t,e){const i={},s=c(t,["name"]);return s!=null&&f(i,["_url","name"],s),i}function JI(t,e){const i={},s=c(t,["name"]);return s!=null&&f(i,["_url","name"],s),i}function $I(t,e,i){const s={},a=c(t,["pageSize"]);e!==void 0&&a!=null&&f(e,["_query","pageSize"],a);const u=c(t,["pageToken"]);e!==void 0&&u!=null&&f(e,["_query","pageToken"],u);const d=c(t,["filter"]);return e!==void 0&&d!=null&&f(e,["_query","filter"],d),s}function KI(t,e,i){const s={},a=c(t,["pageSize"]);e!==void 0&&a!=null&&f(e,["_query","pageSize"],a);const u=c(t,["pageToken"]);e!==void 0&&u!=null&&f(e,["_query","pageToken"],u);const d=c(t,["filter"]);return e!==void 0&&d!=null&&f(e,["_query","filter"],d),s}function XI(t,e){const i={},s=c(t,["config"]);return s!=null&&$I(s,i),i}function QI(t,e){const i={},s=c(t,["config"]);return s!=null&&KI(s,i),i}function WI(t,e){const i={},s=c(t,["sdkHttpResponse"]);s!=null&&f(i,["sdkHttpResponse"],s);const a=c(t,["nextPageToken"]);a!=null&&f(i,["nextPageToken"],a);const u=c(t,["tunedModels"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(p=>Kv(p))),f(i,["tuningJobs"],d)}return i}function ZI(t,e){const i={},s=c(t,["sdkHttpResponse"]);s!=null&&f(i,["sdkHttpResponse"],s);const a=c(t,["nextPageToken"]);a!=null&&f(i,["nextPageToken"],a);const u=c(t,["tuningJobs"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(p=>Nd(p))),f(i,["tuningJobs"],d)}return i}function jI(t,e){const i={},s=c(t,["name"]);s!=null&&f(i,["model"],s);const a=c(t,["name"]);return a!=null&&f(i,["endpoint"],a),i}function eR(t,e){const i={};if(c(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(c(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const s=c(t,["examples"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(u=>u)),f(i,["examples","examples"],a)}return i}function tR(t,e,i){const s={};let a=c(i,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const d=c(t,["gcsUri"]);e!==void 0&&d!=null&&f(e,["supervisedTuningSpec","trainingDatasetUri"],d)}else if(a==="PREFERENCE_TUNING"){const d=c(t,["gcsUri"]);e!==void 0&&d!=null&&f(e,["preferenceOptimizationSpec","trainingDatasetUri"],d)}let u=c(i,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const d=c(t,["vertexDatasetResource"]);e!==void 0&&d!=null&&f(e,["supervisedTuningSpec","trainingDatasetUri"],d)}else if(u==="PREFERENCE_TUNING"){const d=c(t,["vertexDatasetResource"]);e!==void 0&&d!=null&&f(e,["preferenceOptimizationSpec","trainingDatasetUri"],d)}if(c(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return s}function Kv(t,e){const i={},s=c(t,["sdkHttpResponse"]);s!=null&&f(i,["sdkHttpResponse"],s);const a=c(t,["name"]);a!=null&&f(i,["name"],a);const u=c(t,["state"]);u!=null&&f(i,["state"],cv(u));const d=c(t,["createTime"]);d!=null&&f(i,["createTime"],d);const p=c(t,["tuningTask","startTime"]);p!=null&&f(i,["startTime"],p);const y=c(t,["tuningTask","completeTime"]);y!=null&&f(i,["endTime"],y);const m=c(t,["updateTime"]);m!=null&&f(i,["updateTime"],m);const v=c(t,["description"]);v!=null&&f(i,["description"],v);const E=c(t,["baseModel"]);E!=null&&f(i,["baseModel"],E);const S=c(t,["_self"]);return S!=null&&f(i,["tunedModel"],jI(S)),i}function Nd(t,e){const i={},s=c(t,["sdkHttpResponse"]);s!=null&&f(i,["sdkHttpResponse"],s);const a=c(t,["name"]);a!=null&&f(i,["name"],a);const u=c(t,["state"]);u!=null&&f(i,["state"],cv(u));const d=c(t,["createTime"]);d!=null&&f(i,["createTime"],d);const p=c(t,["startTime"]);p!=null&&f(i,["startTime"],p);const y=c(t,["endTime"]);y!=null&&f(i,["endTime"],y);const m=c(t,["updateTime"]);m!=null&&f(i,["updateTime"],m);const v=c(t,["error"]);v!=null&&f(i,["error"],v);const E=c(t,["description"]);E!=null&&f(i,["description"],E);const S=c(t,["baseModel"]);S!=null&&f(i,["baseModel"],S);const x=c(t,["tunedModel"]);x!=null&&f(i,["tunedModel"],x);const N=c(t,["preTunedModel"]);N!=null&&f(i,["preTunedModel"],N);const k=c(t,["supervisedTuningSpec"]);k!=null&&f(i,["supervisedTuningSpec"],k);const U=c(t,["preferenceOptimizationSpec"]);U!=null&&f(i,["preferenceOptimizationSpec"],U);const L=c(t,["tuningDataStats"]);L!=null&&f(i,["tuningDataStats"],L);const q=c(t,["encryptionSpec"]);q!=null&&f(i,["encryptionSpec"],q);const F=c(t,["partnerModelTuningSpec"]);F!=null&&f(i,["partnerModelTuningSpec"],F);const $=c(t,["customBaseModel"]);$!=null&&f(i,["customBaseModel"],$);const Y=c(t,["experiment"]);Y!=null&&f(i,["experiment"],Y);const te=c(t,["labels"]);te!=null&&f(i,["labels"],te);const K=c(t,["outputUri"]);K!=null&&f(i,["outputUri"],K);const de=c(t,["pipelineJob"]);de!=null&&f(i,["pipelineJob"],de);const Z=c(t,["serviceAccount"]);Z!=null&&f(i,["serviceAccount"],Z);const fe=c(t,["tunedModelDisplayName"]);fe!=null&&f(i,["tunedModelDisplayName"],fe);const me=c(t,["veoTuningSpec"]);return me!=null&&f(i,["veoTuningSpec"],me),i}function nR(t,e){const i={},s=c(t,["sdkHttpResponse"]);s!=null&&f(i,["sdkHttpResponse"],s);const a=c(t,["name"]);a!=null&&f(i,["name"],a);const u=c(t,["metadata"]);u!=null&&f(i,["metadata"],u);const d=c(t,["done"]);d!=null&&f(i,["done"],d);const p=c(t,["error"]);return p!=null&&f(i,["error"],p),i}function r0(t,e){const i={},s=c(t,["gcsUri"]);s!=null&&f(i,["validationDatasetUri"],s);const a=c(t,["vertexDatasetResource"]);return a!=null&&f(i,["validationDatasetUri"],a),i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class iR extends $n{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new co(qn.PAGED_ITEM_TUNING_JOBS,s=>this.listInternal(s),await this.listInternal(i),i),this.get=async i=>await this.getInternal(i),this.tune=async i=>{var s;if(this.apiClient.isVertexAI())if(i.baseModel.startsWith("projects/")){const a={tunedModelName:i.baseModel};!((s=i.config)===null||s===void 0)&&s.preTunedModelCheckpointId&&(a.checkpointId=i.config.preTunedModelCheckpointId);const u=Object.assign(Object.assign({},i),{preTunedModel:a});return u.baseModel=void 0,await this.tuneInternal(u)}else{const a=Object.assign({},i);return await this.tuneInternal(a)}else{const a=Object.assign({},i),u=await this.tuneMldevInternal(a);let d="";return u.metadata!==void 0&&u.metadata.tunedModel!==void 0?d=u.metadata.tunedModel:u.name!==void 0&&u.name.includes("/operations/")&&(d=u.name.split("/operations/")[0]),{name:d,state:md.JOB_STATE_QUEUED}}}}async getInternal(e){var i,s,a,u;let d,p="",y={};if(this.apiClient.isVertexAI()){const m=JI(e);return p=W("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>Nd(v))}else{const m=YI(e);return p=W("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>Kv(v))}}async listInternal(e){var i,s,a,u;let d,p="",y={};if(this.apiClient.isVertexAI()){const m=QI(e);return p=W("tuningJobs",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const E=ZI(v),S=new Dy;return Object.assign(S,E),S})}else{const m=XI(e);return p=W("tunedModels",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const E=WI(v),S=new Dy;return Object.assign(S,E),S})}}async cancel(e){var i,s,a,u;let d,p="",y={};if(this.apiClient.isVertexAI()){const m=HI(e);return p=W("{name}:cancel",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const E=zI(v),S=new Uy;return Object.assign(S,E),S})}else{const m=OI(e);return p=W("{name}:cancel",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),d.then(v=>{const E=GI(v),S=new Uy;return Object.assign(S,E),S})}}async tuneInternal(e){var i,s;let a,u="",d={};if(this.apiClient.isVertexAI()){const p=FI(e,e);return u=W("tuningJobs",p._url),d=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),a.then(y=>Nd(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var i,s;let a,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=qI(e);return u=W("tunedModels",p._url),d=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),a.then(y=>nR(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class oR{async download(e,i){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const sR=1024*1024*8,rR=3,aR=1e3,lR=2,dl="x-goog-upload-status";async function uR(t,e,i){var s;const a=await Xv(t,e,i),u=await(a==null?void 0:a.json());if(((s=a==null?void 0:a.headers)===null||s===void 0?void 0:s[dl])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return u.file}async function cR(t,e,i){var s;const a=await Xv(t,e,i),u=await(a==null?void 0:a.json());if(((s=a==null?void 0:a.headers)===null||s===void 0?void 0:s[dl])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const d=ov(u),p=new Yd;return Object.assign(p,d),p}async function Xv(t,e,i){var s,a;let u=0,d=0,p=new yd(new Response),y="upload";for(u=t.size;d<u;){const m=Math.min(sR,u-d),v=t.slice(d,d+m);d+m>=u&&(y+=", finalize");let E=0,S=aR;for(;E<rR&&(p=await i.request({path:"",body:v,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":String(d),"Content-Length":String(m)}}}),!(!((s=p==null?void 0:p.headers)===null||s===void 0)&&s[dl]));)E++,await fR(S),S=S*lR;if(d+=m,((a=p==null?void 0:p.headers)===null||a===void 0?void 0:a[dl])!=="active")break;if(u<=d)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return p}async function dR(t){return{size:t.size,type:t.type}}function fR(t){return new Promise(e=>setTimeout(e,t))}class hR{async upload(e,i,s){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await uR(e,i,s)}async uploadToFileSearchStore(e,i,s){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await cR(e,i,s)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await dR(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pR{create(e,i,s){return new mR(e,i,s)}}class mR{constructor(e,i,s){this.url=e,this.headers=i,this.callbacks=s}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const a0="x-goog-api-key";class gR{constructor(e){this.apiKey=e}async addAuthHeaders(e,i){if(e.get(a0)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(a0,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const yR="gl-node/";class vR{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const i=new st({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=i.interactions,this._interactions}constructor(e){var i;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(i=e.vertexai)!==null&&i!==void 0?i:!1,this.apiKey=e.apiKey;const s=dx(e.httpOptions,e.vertexai,void 0,void 0);s&&(e.httpOptions?e.httpOptions.baseUrl=s:e.httpOptions={baseUrl:s}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const a=new gR(this.apiKey);this.apiClient=new dN({auth:a,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:yR+"web",uploader:new hR,downloader:new oR}),this.models=new RN(this.apiClient),this.live=new xN(this.apiClient,a,new pR),this.batches=new zA(this.apiClient),this.chats=new Eb(this.models,this.apiClient),this.caches=new vb(this.apiClient),this.files=new Mb(this.apiClient),this.operations=new MN(this.apiClient),this.authTokens=new $N(this.apiClient),this.tunings=new iR(this.apiClient),this.fileSearchStores=new tI(this.apiClient)}}var _R={};const TR="https://api-inference.huggingface.co/models/mistralai/Mistral-7B-Instruct-v0.3",l0=_R.HF_TOKEN,Di=async(t,e)=>{var a;if(!l0)throw new Error("No Fallback Key");const i=await fetch(TR,{method:"POST",headers:{Authorization:`Bearer ${l0}`,"Content-Type":"application/json"},body:JSON.stringify({inputs:`<s>[INST] ${t} 

 ${e} [/INST]`,parameters:{max_new_tokens:1024,temperature:.7,return_full_text:!1}})});if(!i.ok)throw new Error("Fallback API Failed");return((a=(await i.json())[0])==null?void 0:a.generated_text)||""},Qv=t=>{try{const e=t.match(/\[.*\]/s)||t.match(/\{.*\}/s);return e?JSON.parse(e[0]):null}catch{return null}},ER=async t=>{try{const i=await Di("You are a book search engine. Return a JSON array of 5 books matching the query. properties: title, author, description, publishedYear, coverColor (hex), isbn (13 digit).",`Search for: ${t}`),s=Qv(i);if(s&&Array.isArray(s))return s.map((a,u)=>({...a,id:`fallback-${Date.now()}-${u}`,categories:a.categories||["General"],isLocal:!1}));throw new Error("Parse failed")}catch{return[{id:"offline-1",title:"The Offline Library",author:"System Backup",description:"We could not reach our AI services, but here is a classic placeholder.",publishedYear:"2024",categories:["System"],coverColor:"#e2e8f0",isbn:"9780141439518",isLocal:!1}]}},SR=async(t,e)=>{try{const s=await Di("You are a helpful book concierge named Suitcase (Backup Mode). Reply kindly. If asked for books, provide a JSON object with 'reply' (string) and 'suggestions' (array of books with title, author, isbn).",t),a=Qv(s);return a&&a.reply?{reply:a.reply,suggestions:Array.isArray(a.suggestions)?a.suggestions.map((u,d)=>({...u,id:`fb-con-${d}`,coverColor:"#cbd5e1",isLocal:!1,categories:[]})):[]}:{reply:s,suggestions:[]}}catch{return{reply:"I'm having trouble connecting to the cloud, but I'm here listening.",suggestions:[]}}},CR=async t=>[{id:"off-1",title:"The Great Gatsby",author:"F. Scott Fitzgerald",description:"A classic of the Jazz Age.",publishedYear:"1925",categories:["Classic"],coverColor:"#fef3c7",isbn:"9780743273565",matchReason:"Timeless classic",isLocal:!1},{id:"off-2",title:"1984",author:"George Orwell",description:"Dystopian social science fiction.",publishedYear:"1949",categories:["Sci-Fi"],coverColor:"#f3f4f6",isbn:"9780451524935",matchReason:"Essential reading",isLocal:!1},{id:"off-3",title:"Dune",author:"Frank Herbert",description:"Epic science fiction.",publishedYear:"1965",categories:["Sci-Fi"],coverColor:"#fed7aa",isbn:"9780441013593",matchReason:"Masterpiece",isLocal:!1},{id:"off-4",title:"Sapiens",author:"Yuval Noah Harari",description:"A brief history of humankind.",publishedYear:"2011",categories:["History"],coverColor:"#e0f2fe",isbn:"9780062316097",matchReason:"Thought provoking",isLocal:!1}],xR=async(t,e)=>[{id:"rev-1",reviewerName:"Offline Reader",rating:5,text:"This book is a masterpiece!",date:"Today",avatarColor:"#3b82f6"},{id:"rev-2",reviewerName:"Bookworm",rating:4,text:"Really enjoyed the plot twists.",date:"Yesterday",avatarColor:"#ef4444"}],AR=async(t,e,i)=>{try{const s=`You are a literary assistant discussing "${t}". Keep answers short.`;return await Di(s,e)}catch{return"I can't analyze this book right now due to connection issues."}},bR=async t=>{try{return await Di("Translate the following text to English.",t)}catch{return"Translation service unavailable."}},wR=async(t,e)=>{try{const i=`Explain the context of this text from "${e}".`;return await Di(i,t)}catch{return"Context service unavailable."}},NR=async(t,e,i=1)=>{try{const s=`Write Chapter ${i} of "${t}" by ${e}. HTML format <p>.`;return await Di(s,"Generate chapter content.")||"<p>Content generation failed.</p>"}catch{return`
            <h3>Chapter ${i}</h3>
            <p>We are currently unable to generate the full text for <strong>${t}</strong> due to high demand on our AI services.</p>
            <p>Please try again later or upload a local PDF copy of this book to continue reading.</p>
        `}},IR=async t=>{try{return await Di(`Summarize "${t}".`,"Summary:")}catch{return"Summary unavailable offline."}},RR=async t=>{try{return await Di(`Recap the plot of "${t}".`,"Recap:")}catch{return"Recap unavailable offline."}};new vR({apiKey:void 0});const MR=async t=>(console.warn("Gemini API Key missing, using fallback."),ER(t)),DR=async(t,e)=>SR(t),ed=async t=>CR(),UR=async(t,e)=>xR(),Wv=async(t,e,i)=>AR(t,e),kR=async(t,e="English")=>bR(t),LR=async(t,e)=>wR(t,e),PR=async(t,e,i=1)=>NR(t,e,i),OR=async t=>IR(t),HR=async t=>RR(t),GR=({book:t,onClose:e,onRead:i})=>{const[s,a]=Q.useState([]),[u,d]=Q.useState(!1),[p,y]=Q.useState("reviews"),[m,v]=Q.useState(""),[E,S]=Q.useState([]),[x,N]=Q.useState(!1),k=Q.useRef(null);Q.useEffect(()=>{const L=async()=>{d(!0);const q=await UR(t.title,t.author);a(q),d(!1)};p==="reviews"&&s.length===0&&L()},[t,p]),Q.useEffect(()=>{var L;(L=k.current)==null||L.scrollIntoView({behavior:"smooth"})},[E]);const U=async L=>{if(L.preventDefault(),!m.trim())return;const q=m;v("");const F=[...E,{role:"user",text:q}];S(F),N(!0);try{const $=await Wv(t.title,q,F);S(Y=>[...Y,{role:"model",text:$}])}catch($){console.error($)}finally{N(!1)}};return _.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 sm:p-6 animate-spring",children:[_.jsx("div",{className:"absolute inset-0 bg-gray-900/40 backdrop-blur-sm transition-opacity",onClick:e}),_.jsxs("div",{className:"relative w-full max-w-4xl bg-[#FBFBFD] h-[85vh] rounded-[2rem] shadow-2xl overflow-hidden flex flex-col md:flex-row animate-[scale-up_0.4s_cubic-bezier(0.16,1,0.3,1)]",children:[_.jsxs("div",{className:"w-full md:w-1/3 bg-white border-r border-gray-100 flex flex-col",children:[_.jsxs("div",{className:"relative h-64 md:h-1/2 w-full flex items-center justify-center overflow-hidden",style:{backgroundColor:t.coverColor},children:[_.jsx("button",{onClick:e,className:"absolute top-4 left-4 p-2 bg-black/10 hover:bg-black/20 text-white rounded-full backdrop-blur-lg transition-colors z-10 md:hidden",children:_.jsx(is,{size:20})}),_.jsx(zn,{className:"text-white/80 w-24 h-24 drop-shadow-lg transform hover:scale-105 transition-transform duration-700"}),t.matchReason&&_.jsx("div",{className:"absolute bottom-6 left-6 right-6",children:_.jsxs("div",{className:"bg-white/90 backdrop-blur p-4 rounded-2xl shadow-lg border border-white/50",children:[_.jsxs("p",{className:"text-[10px] uppercase font-bold text-blue-600 mb-1 flex items-center gap-1",children:[_.jsx(Lt,{size:10})," Why this book?"]}),_.jsxs("p",{className:"text-xs text-gray-700 font-medium leading-relaxed",children:['"',t.matchReason,'"']})]})})]}),_.jsxs("div",{className:"p-8 flex flex-col flex-1 bg-white",children:[_.jsx("h2",{className:"text-2xl font-serif font-bold text-gray-900 mb-2 leading-tight",children:t.title}),_.jsx("p",{className:"text-lg text-gray-500 font-medium mb-6",children:t.author}),_.jsx("div",{className:"mt-auto space-y-3",children:_.jsxs("button",{onClick:i,className:"w-full bg-[#1D1D1F] text-white py-4 rounded-2xl font-semibold hover:bg-black transition-transform active:scale-95 flex items-center justify-center gap-2 shadow-lg",children:[_.jsx(zn,{size:18}),"Read"]})})]})]}),_.jsxs("div",{className:"flex-1 flex flex-col bg-[#F5F5F7]",children:[_.jsx("div",{className:"p-6 md:p-8 pb-0 shrink-0",children:_.jsxs("div",{className:"flex justify-between items-start mb-6",children:[_.jsx("div",{className:"flex bg-gray-200/50 p-1 rounded-full relative",children:["reviews","details","chat"].map(L=>_.jsx("button",{onClick:()=>y(L),className:`px-6 py-2 rounded-full text-sm font-semibold transition-all duration-300 relative z-10 ${p===L?"bg-white text-gray-900 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:L.charAt(0).toUpperCase()+L.slice(1)},L))}),_.jsx("button",{onClick:e,className:"hidden md:block p-2 text-gray-400 hover:text-gray-900 bg-white rounded-full shadow-sm hover:shadow transition-all",children:_.jsx(is,{size:20})})]})}),_.jsxs("div",{className:"flex-1 overflow-y-auto px-6 md:px-8 pb-8",children:[p==="reviews"&&_.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:[_.jsxs("div",{className:"flex items-center justify-between mb-6",children:[_.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Critics & Readers"}),_.jsxs("div",{className:"flex items-center gap-2 text-xs font-medium text-gray-500 bg-white px-3 py-1.5 rounded-full shadow-sm",children:[_.jsx(Lt,{size:12,className:"text-blue-500"})," Smart Summary"]})]}),t.reviewSnippet&&_.jsxs("div",{className:"mb-8 p-6 bg-blue-50/50 rounded-3xl border border-blue-100/50",children:[_.jsx(JC,{className:"text-blue-200 mb-2 w-8 h-8"}),_.jsx("p",{className:"text-lg font-serif text-gray-800 italic leading-relaxed",children:t.reviewSnippet})]}),u?_.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[_.jsx(oo,{className:"animate-spin text-gray-400 w-8 h-8 mb-4"}),_.jsx("p",{className:"text-gray-400 text-sm",children:"Aggregating reviews..."})]}):_.jsx("div",{className:"grid gap-4",children:s.map(L=>_.jsxs("div",{className:"bg-white p-6 rounded-3xl shadow-sm border border-white hover:border-blue-100 transition-colors",children:[_.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[_.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-white text-sm font-bold shadow-sm",style:{backgroundColor:L.avatarColor},children:L.reviewerName.charAt(0)}),_.jsxs("div",{children:[_.jsx("p",{className:"text-sm font-bold text-gray-900",children:L.reviewerName}),_.jsx("div",{className:"flex gap-0.5",children:[1,2,3,4,5].map(q=>_.jsx(nv,{size:10,className:`${q<=L.rating?"text-yellow-400 fill-yellow-400":"text-gray-200"}`},q))})]}),_.jsx("span",{className:"ml-auto text-xs font-medium text-gray-400 bg-gray-50 px-2 py-1 rounded-md",children:L.date})]}),_.jsxs("p",{className:"text-sm text-gray-600 leading-relaxed",children:['"',L.text,'"']})]},L.id))})]}),p==="details"&&_.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[_.jsxs("div",{className:"bg-white p-8 rounded-[2rem] shadow-sm",children:[_.jsx("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-4",children:"Synopsis"}),_.jsx("p",{className:"text-gray-700 leading-loose font-serif text-lg",children:t.description||"No description provided."})]}),_.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[_.jsxs("div",{className:"bg-white p-6 rounded-3xl shadow-sm",children:[_.jsxs("div",{className:"flex items-center gap-2 text-gray-400 mb-2",children:[_.jsx(j0,{size:18}),_.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"Published"})]}),_.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.publishedYear||"Unknown"})]}),_.jsxs("div",{className:"bg-white p-6 rounded-3xl shadow-sm",children:[_.jsxs("div",{className:"flex items-center gap-2 text-gray-400 mb-2",children:[_.jsx(iv,{size:18}),_.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"Rights"})]}),_.jsx("p",{className:"text-lg font-bold text-gray-900",children:"Public Domain"})]})]}),_.jsxs("div",{children:[_.jsx("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-4",children:"Categories"}),_.jsx("div",{className:"flex flex-wrap gap-2",children:t.categories.map(L=>_.jsx("span",{className:"px-4 py-2 bg-white border border-gray-200 text-gray-600 rounded-full text-sm font-medium shadow-sm",children:L},L))})]})]}),p==="chat"&&_.jsxs("div",{className:"flex flex-col h-full animate-in fade-in slide-in-from-bottom-4 duration-500",children:[_.jsxs("div",{className:"flex-1 overflow-y-auto space-y-4 mb-4 pr-2 min-h-[300px]",children:[E.length===0&&_.jsxs("div",{className:"text-center py-12",children:[_.jsx("div",{className:"bg-blue-50 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:_.jsx(Lt,{className:"w-8 h-8 text-blue-500"})}),_.jsx("h4",{className:"text-gray-900 font-bold text-lg mb-1",children:"Book Companion"}),_.jsx("p",{className:"text-gray-500 text-sm",children:"Ask about themes, characters, or plot points."})]}),E.map((L,q)=>_.jsx("div",{className:`flex ${L.role==="user"?"justify-end":"justify-start"}`,children:_.jsx("div",{className:`max-w-[85%] p-4 rounded-2xl text-sm leading-relaxed shadow-sm ${L.role==="user"?"bg-blue-600 text-white rounded-br-sm":"bg-white text-gray-800 rounded-bl-sm border border-gray-100"}`,children:L.text})},q)),x&&_.jsx("div",{className:"flex justify-start",children:_.jsx("div",{className:"bg-white border border-gray-100 p-4 rounded-2xl rounded-bl-sm shadow-sm",children:_.jsx(oo,{size:16,className:"animate-spin text-gray-400"})})}),_.jsx("div",{ref:k})]}),_.jsxs("form",{onSubmit:U,className:"relative mt-auto",children:[_.jsx("input",{type:"text",placeholder:"Ask a question...",className:"w-full pl-6 pr-14 py-4 bg-white border-0 shadow-lg shadow-gray-200/50 rounded-full focus:ring-2 focus:ring-blue-500 outline-none text-base font-medium placeholder:text-gray-400 transition-all",value:m,onChange:L=>v(L.target.value)}),_.jsx("button",{type:"submit",disabled:!m.trim()||x,className:"absolute right-2 top-2 p-2.5 bg-black text-white rounded-full hover:bg-gray-800 disabled:opacity-50 disabled:cursor-not-allowed transition-all active:scale-90",children:_.jsx(Bd,{size:18})})]})]})]})]})]})]})},zR=({book:t,onClose:e,onReward:i,onUpdateBookData:s})=>{const[a,u]=Q.useState(!1),[d,p]=Q.useState(""),[y,m]=Q.useState(!0),[v,E]=Q.useState(t.isLocal?"complete":"selecting"),[S,x]=Q.useState(t.currentChapter||1),[N,k]=Q.useState(null),[U,L]=Q.useState(t.userHighlights||[]),[q,F]=Q.useState(t.userNotes||[]),[$,Y]=Q.useState(null),[te,K]=Q.useState(!1),[de,Z]=Q.useState(""),[fe,me]=Q.useState([]),[ge,Te]=Q.useState(""),[Fe,Je]=Q.useState(!1),[H,J]=Q.useState(null),[se,Ae]=Q.useState(!1),[Ne,w]=Q.useState(""),[V,X]=Q.useState(!1);Q.useEffect(()=>{s(t.id,{userNotes:q,userHighlights:U,lastReadDate:Date.now(),currentChapter:S})},[q,U,S]);const j=async P=>{if(m(!0),t.isLocal&&t.fileUrl)m(!1);else{const oe=await PR(t.title,t.author,P),ee=We(oe,U);p(ee),m(!1)}};Q.useEffect(()=>{t.isLocal?(E("complete"),m(!1)):t.content&&t.currentChapter&&(E("complete"),p(We(t.content,U)),m(!1))},[]);const ue=P=>{E(P),j(P==="preview"?1:S)},ye=()=>{const P=S+1;x(P),j(P),window.scrollTo(0,0)},we=()=>{if(S>1){const P=S-1;x(P),j(P),window.scrollTo(0,0)}},We=(P,oe)=>{let ee=P;return oe.forEach(Ue=>{ee.includes(Ue.text)&&(ee=ee.replace(Ue.text,`<mark style="background-color: ${Ue.color}; color: black; border-radius: 2px; padding: 2px 0;">${Ue.text}</mark>`))}),ee},Ve=()=>{document.fullscreenElement?document.exitFullscreen&&(document.exitFullscreen(),u(!1)):(document.documentElement.requestFullscreen(),u(!0))},vn=()=>{const P=window.getSelection();if(P&&P.toString().length>0){const ee=P.getRangeAt(0).getBoundingClientRect();if($)return;k({text:P.toString(),top:ee.top+window.scrollY,left:ee.left+ee.width/2+window.scrollX}),K(!1),J(null)}else te||k(null)},Qn=P=>{P.preventDefault()},ki=P=>{var oe;if(N){const ee={id:Date.now().toString(),text:N.text,color:P};L(Ue=>[...Ue,ee]),p(Ue=>Ue.replace(N.text,`<mark style="background-color: ${P}; color: black; border-radius: 2px; padding: 2px 0;">${N.text}</mark>`)),k(null),window.getSelection&&((oe=window.getSelection())==null||oe.removeAllRanges())}},po=async()=>{if(!N)return;J({text:"Translating...",type:"translation"});const P=N.text;k(null);const oe=await kR(P);J({text:oe,type:"translation"})},Wt=async()=>{if(!N)return;J({text:"Analyzing context...",type:"explanation"});const P=N.text;k(null);const oe=await LR(P,t.title);J({text:oe,type:"explanation"})},Li=()=>{N&&(window.open(`https://www.google.com/search?q=${encodeURIComponent(N.text)}`,"_blank"),k(null))},Pi=()=>{K(!0)},gs=()=>{if(N&&de){const P={id:Date.now().toString(),text:de,selectedText:N.text,createdAt:Date.now()};F(oe=>[...oe,P]),Z(""),K(!1),k(null),Y("notes")}},_n=async P=>{if(P.preventDefault(),!ge.trim())return;const oe=ge;Te(""),me(Ue=>[...Ue,{role:"user",text:oe}]),Je(!0);const ee=await Wv(t.title,oe);me(Ue=>[...Ue,{role:"model",text:ee}]),Je(!1)},Ht=async P=>{Y("chat"),Je(!0);let oe="";P==="summarize"?(me(ee=>[...ee,{role:"user",text:"Summarize this book."}]),oe=await OR(t.title)):(me(ee=>[...ee,{role:"user",text:"Where was I? Recap the context."}]),oe=await HR(t.title)),me(ee=>[...ee,{role:"model",text:oe}]),Je(!1)},Wn=()=>{Ae(!0)},ln=()=>{Ae(!1),s(t.id,{isFinished:!0}),X(!0),i&&i()};return v==="selecting"&&!t.isLocal?_.jsx("div",{className:"fixed inset-0 z-50 bg-[#F5F5F7] flex items-center justify-center p-4",children:_.jsxs("div",{className:"max-w-2xl w-full bg-white rounded-[2rem] p-8 shadow-2xl animate-spring",children:[_.jsxs("div",{className:"text-center mb-8",children:[_.jsx(sC,{size:48,className:"mx-auto text-blue-500 mb-4"}),_.jsx("h2",{className:"text-3xl font-serif font-bold mb-2",children:"How would you like to read?"}),_.jsxs("p",{className:"text-gray-500",children:['Choose your reading experience for "',t.title,'".']})]}),_.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[_.jsxs("button",{onClick:()=>ue("preview"),className:"p-6 rounded-3xl border-2 border-gray-100 hover:border-blue-500 hover:bg-blue-50 transition-all text-left group",children:[_.jsx(yC,{size:24,className:"text-gray-400 group-hover:text-blue-500 mb-4"}),_.jsx("h3",{className:"font-bold text-lg mb-1",children:"Quick Preview"}),_.jsx("p",{className:"text-sm text-gray-500",children:"Read a generated summary and excerpt to see if it's your vibe."})]}),_.jsxs("button",{onClick:()=>ue("complete"),className:"p-6 rounded-3xl border-2 border-black bg-black text-white hover:scale-[1.02] transition-all text-left",children:[_.jsx(zn,{size:24,className:"text-white mb-4"}),_.jsx("h3",{className:"font-bold text-lg mb-1",children:"Read Complete Book"}),_.jsx("p",{className:"text-sm text-gray-400",children:"Read the full book chapter by chapter with AI generation."})]})]}),_.jsx("button",{onClick:e,className:"mt-8 mx-auto block text-sm font-bold text-gray-400 hover:text-gray-900",children:"Cancel"})]})}):_.jsxs("div",{className:"flex h-screen bg-[#F5F5F7] text-gray-900 animate-in fade-in duration-300 overflow-hidden font-serif",children:[_.jsxs("div",{className:`flex-1 flex flex-col relative transition-all duration-500 ${$?"mr-96":""}`,children:[_.jsxs("div",{className:"h-16 flex items-center justify-between px-6 bg-white/80 backdrop-blur-md border-b border-gray-200 z-20",children:[_.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:_.jsx(eC,{size:20})}),_.jsxs("div",{className:"text-center",children:[_.jsx("h1",{className:"text-sm font-bold",children:t.title}),_.jsxs("p",{className:"text-xs text-gray-500",children:[t.author,v==="complete"&&!t.isLocal&&_.jsxs("span",{className:"ml-2 bg-gray-100 px-2 py-0.5 rounded-full text-[10px] font-bold tracking-wide",children:["CH ",S]})]})]}),_.jsx("div",{className:"flex gap-2",children:_.jsx("button",{onClick:Ve,className:"p-2 hover:bg-gray-100 rounded-full",children:a?_.jsx(OC,{size:20}):_.jsx(kC,{size:20})})})]}),_.jsxs("div",{className:"flex-1 overflow-y-auto p-8 md:p-16 relative scroll-smooth",onMouseUp:vn,children:[y?_.jsxs("div",{className:"flex flex-col items-center justify-center h-full gap-4",children:[_.jsx(oo,{className:"animate-spin text-gray-400"}),_.jsxs("p",{className:"text-sm text-gray-400",children:["Loading ",v==="complete"?`Chapter ${S}`:"Preview","..."]})]}):t.isLocal&&!t.fileUrl?_.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center",children:[_.jsx("div",{className:"bg-gray-100 p-6 rounded-full mb-4",children:_.jsx(bg,{size:32,className:"text-gray-400"})}),_.jsx("h3",{className:"text-lg font-bold mb-2",children:"File Content Missing"}),_.jsx("p",{className:"text-gray-500 max-w-sm",children:"This is a local file. For security reasons, the browser does not persist the PDF content after a reload. Please re-upload to read again."})]}):t.isLocal&&t.fileUrl?_.jsx("iframe",{src:t.fileUrl,className:"w-full h-full rounded-2xl shadow-sm",title:"PDF"}):_.jsxs("div",{className:"max-w-2xl mx-auto bg-white p-12 shadow-sm rounded-[2px] min-h-full leading-loose text-lg text-gray-800 selection:bg-blue-100 selection:text-blue-900 pb-32",children:[_.jsx("div",{dangerouslySetInnerHTML:{__html:d}}),v==="complete"&&_.jsxs("div",{className:"mt-16 pt-8 border-t border-gray-100 flex items-center justify-between",children:[_.jsxs("button",{onClick:we,disabled:S<=1,className:"flex items-center gap-2 px-6 py-3 rounded-full text-sm font-bold text-gray-500 hover:bg-gray-100 disabled:opacity-30 disabled:hover:bg-transparent",children:[_.jsx(cC,{size:16})," Previous"]}),_.jsxs("button",{onClick:ye,className:"flex items-center gap-2 px-8 py-3 bg-black text-white rounded-full text-sm font-bold hover:scale-105 transition-transform",children:["Next Chapter ",_.jsx(ev,{size:16})]})]}),v==="preview"&&_.jsx("div",{className:"mt-8 pt-8 border-t border-gray-100 text-center text-xs text-gray-400 italic",children:'This is an AI-generated preview. Switch to "Complete Book" mode to read more.'})]}),N&&!te&&_.jsxs("div",{className:"fixed z-50 bg-gray-900/90 backdrop-blur-xl text-white rounded-xl shadow-2xl flex items-center gap-1 p-1 animate-in zoom-in-95 duration-200",style:{top:N.top-60,left:N.left-180},onMouseDown:Qn,children:[_.jsx("button",{onClick:()=>ki("#fef08a"),className:"p-3 hover:bg-white/20 rounded-lg group tooltip-container relative",children:_.jsx(NC,{size:16,className:"text-yellow-300"})}),_.jsx("div",{className:"w-px h-4 bg-white/20"}),_.jsx("button",{onClick:Pi,className:"p-3 hover:bg-white/20 rounded-lg",children:_.jsx(Wc,{size:16,className:"text-pink-300"})}),_.jsx("div",{className:"w-px h-4 bg-white/20"}),_.jsxs("button",{onClick:po,className:"p-3 hover:bg-white/20 rounded-lg text-xs font-bold flex items-center gap-1",children:[_.jsx(xC,{size:14})," Translate"]}),_.jsx("div",{className:"w-px h-4 bg-white/20"}),_.jsxs("button",{onClick:Wt,className:"p-3 hover:bg-white/20 rounded-lg text-xs font-bold flex items-center gap-1",children:[_.jsx(zn,{size:14})," Explain"]}),_.jsx("div",{className:"w-px h-4 bg-white/20"}),_.jsx("button",{onClick:Li,className:"p-3 hover:bg-white/20 rounded-lg",children:_.jsx(hd,{size:16})})]}),te&&N&&_.jsxs("div",{className:"fixed z-50 bg-white rounded-2xl shadow-2xl p-4 w-72 animate-in zoom-in-95 duration-200 border border-gray-100",style:{top:N.top-120,left:N.left-144},onMouseDown:P=>P.stopPropagation(),children:[_.jsx("textarea",{className:"w-full bg-yellow-50 p-3 rounded-xl text-sm mb-2 focus:outline-none focus:ring-2 focus:ring-yellow-200",placeholder:"Add your note here...",rows:3,value:de,onChange:P=>Z(P.target.value),autoFocus:!0}),_.jsxs("div",{className:"flex justify-end gap-2",children:[_.jsx("button",{onClick:()=>K(!1),className:"text-xs font-bold text-gray-400 px-3 py-1.5 hover:bg-gray-100 rounded-lg",children:"Cancel"}),_.jsx("button",{onClick:gs,className:"text-xs font-bold bg-black text-white px-3 py-1.5 rounded-lg",children:"Save Note"})]})]}),H&&_.jsxs("div",{className:"fixed bottom-24 left-1/2 -translate-x-1/2 bg-white rounded-2xl shadow-2xl p-6 max-w-md w-full animate-in slide-in-from-bottom-4 z-40 border border-gray-100",children:[_.jsxs("div",{className:"flex justify-between items-center mb-3",children:[_.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-blue-600",children:H.type==="translation"?"Translation":"Context & Analysis"}),_.jsx("button",{onClick:()=>J(null),children:_.jsx(is,{size:16,className:"text-gray-400 hover:text-gray-900"})})]}),_.jsx("p",{className:"text-gray-800 leading-relaxed font-serif text-lg",children:H.text})]})]}),_.jsxs("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2 bg-white/90 backdrop-blur-xl border border-white shadow-2xl rounded-full px-6 py-3 flex items-center gap-6 z-30 hover:scale-105 transition-transform",children:[_.jsxs("button",{onClick:()=>Y($==="chat"?null:"chat"),className:`flex items-center gap-2 text-sm font-bold ${$==="chat"?"text-blue-600":"text-gray-600"}`,children:[_.jsx(wg,{size:18}),"Ask Companion"]}),_.jsx("div",{className:"w-px h-6 bg-gray-300"}),_.jsxs("button",{onClick:()=>Y($==="notes"?null:"notes"),className:`flex items-center gap-2 text-sm font-bold ${$==="notes"?"text-blue-600":"text-gray-600"}`,children:[_.jsx(fd,{size:18}),"Notes (",q.length,")"]}),_.jsx("div",{className:"w-px h-6 bg-gray-300"}),_.jsxs("button",{onClick:Wn,className:"flex items-center gap-2 text-sm font-bold text-gray-600 hover:text-gray-900",children:[_.jsx(mC,{size:18}),"Finish"]})]})]}),_.jsxs("div",{className:`fixed top-0 right-0 bottom-0 w-96 bg-white border-l border-gray-200 shadow-2xl transform transition-transform duration-500 z-40 ${$?"translate-x-0":"translate-x-full"}`,children:[$==="chat"&&_.jsxs("div",{className:"flex flex-col h-full",children:[_.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50/50",children:[_.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2",children:[_.jsx(Lt,{size:18,className:"text-blue-500"})," Reading Companion"]}),_.jsx("button",{onClick:()=>Y(null),children:_.jsx(is,{size:20,className:"text-gray-400 hover:text-gray-900"})})]}),_.jsxs("div",{className:"p-4 flex gap-2 overflow-x-auto border-b border-gray-50",children:[_.jsxs("button",{onClick:()=>Ht("summarize"),className:"flex items-center gap-1.5 px-3 py-1.5 bg-blue-50 text-blue-600 rounded-full text-xs font-bold hover:bg-blue-100 whitespace-nowrap",children:[_.jsx(bg,{size:12})," Summarize"]}),_.jsxs("button",{onClick:()=>Ht("recap"),className:"flex items-center gap-1.5 px-3 py-1.5 bg-purple-50 text-purple-600 rounded-full text-xs font-bold hover:bg-purple-100 whitespace-nowrap",children:[_.jsx(KC,{size:12})," Where was I?"]})]}),_.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-white",children:[fe.length===0&&_.jsxs("div",{className:"text-center mt-10 text-gray-400",children:[_.jsx(wg,{size:32,className:"mx-auto mb-2 opacity-20"}),_.jsx("p",{className:"text-sm",children:"Ask anything about the book."})]}),fe.map((P,oe)=>_.jsx("div",{className:`p-3 rounded-xl text-sm leading-relaxed shadow-sm ${P.role==="user"?"bg-black text-white ml-8 rounded-br-none":"bg-gray-100 text-gray-800 mr-8 rounded-bl-none"}`,children:P.text},oe)),Fe&&_.jsx("div",{className:"p-3 bg-gray-50 rounded-xl w-12",children:_.jsx(oo,{size:16,className:"animate-spin text-gray-400"})})]}),_.jsx("form",{onSubmit:_n,className:"p-4 bg-white border-t border-gray-100",children:_.jsxs("div",{className:"relative",children:[_.jsx("input",{value:ge,onChange:P=>Te(P.target.value),placeholder:"Ask about the plot...",className:"w-full bg-gray-100 rounded-full px-4 py-3 pr-10 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 transition-shadow"}),_.jsx("button",{type:"submit",className:"absolute right-2 top-2 p-1.5 bg-blue-500 text-white rounded-full hover:scale-105 transition-transform",children:_.jsx(Bd,{size:14})})]})})]}),$==="notes"&&_.jsxs("div",{className:"flex flex-col h-full",children:[_.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50/50",children:[_.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2",children:[_.jsx(Wc,{size:18,className:"text-pink-500"})," My Notes"]}),_.jsx("button",{onClick:()=>Y(null),children:_.jsx(is,{size:20,className:"text-gray-400 hover:text-gray-900"})})]}),_.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:q.length===0?_.jsxs("div",{className:"text-center mt-20 opacity-50",children:[_.jsx(fd,{size:48,className:"mx-auto mb-4 text-gray-300"}),_.jsx("p",{className:"text-gray-500 font-medium",children:"No notes yet."}),_.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Select text to add a note."})]}):q.map(P=>_.jsxs("div",{className:"bg-yellow-50 p-4 rounded-2xl border border-yellow-100/50 shadow-sm",children:[_.jsxs("div",{className:"text-xs font-bold text-yellow-600/70 uppercase tracking-wider mb-2 flex items-center gap-1",children:[_.jsx(Wc,{size:10})," Note"]}),_.jsxs("p",{className:"text-gray-900 font-medium text-sm mb-3 font-serif",children:['"',P.text,'"']}),P.selectedText&&_.jsx("div",{className:"pl-3 border-l-2 border-yellow-200",children:_.jsxs("p",{className:"text-xs text-gray-500 italic line-clamp-2",children:['Re: "',P.selectedText,'"']})}),_.jsx("p",{className:"text-[10px] text-right text-gray-400 mt-2",children:new Date(P.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]},P.id))})]})]}),se&&_.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-gray-900/60 backdrop-blur-sm p-4 animate-in fade-in",children:_.jsxs("div",{className:"bg-white rounded-[2rem] w-full max-w-lg p-8 shadow-2xl animate-spring",children:[_.jsx("h2",{className:"text-3xl font-serif font-bold text-center mb-2",children:"Congratulations!"}),_.jsxs("p",{className:"text-center text-gray-500 mb-8",children:["You've finished ",t.title,"."]}),_.jsxs("div",{className:"mb-6",children:[_.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-400 mb-2",children:"Leave a note for the author"}),_.jsx("textarea",{className:"w-full bg-gray-50 rounded-2xl p-4 text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-100 h-32 resize-none",placeholder:"Your thoughts meant the world...",value:Ne,onChange:P=>w(P.target.value)})]}),_.jsxs("button",{onClick:ln,className:"w-full bg-black text-white py-4 rounded-xl font-bold text-lg hover:scale-[1.02] transition-transform flex items-center justify-center gap-2",children:["Send & Claim Reward ",_.jsx(SC,{size:18})]})]})}),V&&_.jsxs("div",{className:"fixed inset-0 z-[70] flex flex-col items-center justify-center bg-black/90 text-white animate-in fade-in duration-500",children:[_.jsxs("div",{className:"relative mb-8 animate-[spin_10s_linear_infinite]",children:[_.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-yellow-400 to-purple-500 blur-3xl opacity-50 rounded-full"}),_.jsx("div",{className:"relative w-64 h-80 bg-gray-800 rounded-xl overflow-hidden border-2 border-yellow-500/50 shadow-[0_0_50px_rgba(234,179,8,0.3)]",children:_.jsx("div",{className:"w-full h-full flex items-center justify-center",style:{backgroundColor:t.coverColor},children:_.jsx(zn,{size:64,className:"text-white/50"})})})]}),_.jsx("h1",{className:"text-4xl font-bold mb-2 text-transparent bg-clip-text bg-gradient-to-r from-yellow-200 to-yellow-500",children:"NFT Minted!"}),_.jsx("p",{className:"text-gray-400 mb-8",children:"You earned 50 Suitcase Tokens (SCT)"}),_.jsx("button",{onClick:()=>{X(!1),e()},className:"px-8 py-3 bg-white text-black rounded-full font-bold hover:bg-gray-200 transition-colors",children:"Add to Wallet"})]})]})},VR=["Sci-Fi","Mystery","Romance","History","Fantasy","Business","Philosophy","Thriller"],BR=[{id:"relax",label:"Relax & Escape",icon:""},{id:"learn",label:"Learn & Grow",icon:""},{id:"adventure",label:"Adventure",icon:""}],qR=({onComplete:t})=>{const[e,i]=Q.useState(1),[s,a]=Q.useState([]),[u,d]=Q.useState(""),[p,y]=Q.useState(""),m=E=>{s.includes(E)?a(S=>S.filter(x=>x!==E)):s.length<3&&a(S=>[...S,E])},v=()=>{e===1&&p.trim()?i(2):e===2&&s.length>0?i(3):e===3&&u&&t({name:p,genres:s,readingGoal:u,onboardingComplete:!0,joinDate:Date.now()})};return _.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-[#F5F5F7]",children:_.jsxs("div",{className:"max-w-xl w-full p-8 animate-spring",children:[_.jsxs("div",{className:"flex justify-center gap-2 mb-12",children:[_.jsx("div",{className:`h-1 w-12 rounded-full transition-colors ${e>=1?"bg-black":"bg-gray-200"}`}),_.jsx("div",{className:`h-1 w-12 rounded-full transition-colors ${e>=2?"bg-black":"bg-gray-200"}`}),_.jsx("div",{className:`h-1 w-12 rounded-full transition-colors ${e>=3?"bg-black":"bg-gray-200"}`})]}),_.jsxs("div",{className:"text-center mb-10",children:[_.jsx("div",{className:"inline-block p-4 bg-white rounded-[2rem] shadow-lg mb-6 rotate-3",children:_.jsx(Lt,{size:32,className:"text-blue-500"})}),_.jsx("h1",{className:"text-4xl font-serif font-bold text-gray-900 mb-4",children:e===1?"Welcome Traveler":e===2?"What do you like to read?":"Why are you reading?"}),_.jsx("p",{className:"text-gray-500 text-lg",children:e===1?"What should we call you?":e===2?"Pick up to 3 genres.":"Help us curate your perfect suitcase."})]}),_.jsxs("div",{className:"min-h-[200px]",children:[e===1&&_.jsx("div",{className:"animate-in fade-in slide-in-from-bottom-4",children:_.jsx("input",{value:p,onChange:E=>y(E.target.value),className:"w-full text-center text-3xl font-bold border-b-2 border-gray-200 focus:border-black bg-transparent outline-none py-2",placeholder:"Enter your name",autoFocus:!0})}),e===2&&_.jsx("div",{className:"flex flex-wrap justify-center gap-3 animate-in fade-in slide-in-from-bottom-4",children:VR.map(E=>_.jsx("button",{onClick:()=>m(E),className:`px-6 py-3 rounded-full text-lg font-medium transition-all duration-300 ${s.includes(E)?"bg-black text-white shadow-lg scale-105":"bg-white text-gray-500 hover:bg-gray-100"}`,children:E},E))}),e===3&&_.jsx("div",{className:"grid gap-4 animate-in fade-in slide-in-from-bottom-4",children:BR.map(E=>_.jsxs("button",{onClick:()=>d(E.label),className:`flex items-center gap-4 p-5 rounded-[2rem] text-left transition-all duration-300 border-2 ${u===E.label?"border-blue-500 bg-blue-50 shadow-lg":"border-transparent bg-white hover:bg-gray-50"}`,children:[_.jsx("span",{className:"text-3xl",children:E.icon}),_.jsx("span",{className:`text-xl font-bold ${u===E.label?"text-blue-900":"text-gray-700"}`,children:E.label}),u===E.label&&_.jsx(dd,{className:"ml-auto text-blue-500"})]},E.id))})]}),_.jsx("div",{className:"flex justify-center mt-8",children:_.jsxs("button",{onClick:v,disabled:e===1?!p.trim():e===2?s.length===0:!u,className:"group flex items-center gap-2 bg-black text-white px-8 py-4 rounded-full font-bold text-lg disabled:opacity-50 disabled:cursor-not-allowed transition-all hover:scale-105 active:scale-95",children:[e===3?"Finish Setup":"Next",_.jsx(Vd,{className:"group-hover:translate-x-1 transition-transform"})]})})]})})},FR=["Sci-Fi","Mystery","Romance","History","Fantasy","Business","Philosophy","Thriller"],u0=[{id:"relax",label:"Relax & Escape",icon:""},{id:"learn",label:"Learn & Grow",icon:""},{id:"adventure",label:"Adventure",icon:""}],YR=({userPrefs:t,wallet:e,library:i,onClose:s,onUpdateProfile:a,onReset:u})=>{var $;const[d,p]=Q.useState(!1),[y,m]=Q.useState(t.name||"Traveler"),[v,E]=Q.useState(t.readingGoal),[S,x]=Q.useState(t.genres),N=i.filter(Y=>Y.isFinished).length,k=i.reduce((Y,te)=>{var K;return Y+(((K=te.userNotes)==null?void 0:K.length)||0)},0),U=i.filter(Y=>e.nfts.includes(Y.id)),L=()=>{a({...t,name:y,readingGoal:v,genres:S}),p(!1)},q=()=>{m(t.name||"Traveler"),E(t.readingGoal),x(t.genres),p(!1)},F=Y=>{S.includes(Y)?x(te=>te.filter(K=>K!==Y)):S.length<5&&x(te=>[...te,Y])};return _.jsxs("div",{className:"animate-in fade-in zoom-in-95 duration-300 max-w-4xl mx-auto mt-8 mb-24",children:[_.jsx("div",{className:"flex justify-end mb-4",children:d?_.jsxs("div",{className:"flex gap-2",children:[_.jsx("button",{onClick:q,className:"px-4 py-2 bg-white text-gray-500 rounded-full font-bold shadow-sm hover:bg-gray-50 text-sm",children:"Cancel"}),_.jsxs("button",{onClick:L,className:"px-4 py-2 bg-black text-white rounded-full font-bold shadow-lg hover:bg-gray-800 text-sm flex items-center gap-2",children:[_.jsx(dd,{size:14})," Save Changes"]})]}):_.jsxs("button",{onClick:()=>p(!0),className:"px-4 py-2 bg-white text-gray-900 rounded-full font-bold shadow-sm hover:bg-gray-50 text-sm flex items-center gap-2",children:[_.jsx(zC,{size:14})," Edit Profile"]})}),_.jsxs("div",{className:"bg-white rounded-[2.5rem] p-8 shadow-sm mb-8 relative overflow-hidden",children:[_.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-gradient-to-bl from-blue-100 to-purple-100 rounded-bl-[10rem] -z-0 opacity-50 pointer-events-none"}),_.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8 relative z-10",children:[_.jsx("div",{className:"w-32 h-32 rounded-full bg-gradient-to-tr from-gray-900 to-gray-700 shadow-2xl flex items-center justify-center text-4xl font-serif font-bold text-white border-4 border-white",children:y.charAt(0).toUpperCase()}),_.jsxs("div",{className:"text-center md:text-left flex-1 w-full",children:[d?_.jsxs("div",{className:"flex flex-col gap-2 mb-2 w-full max-w-md",children:[_.jsx("label",{className:"text-xs font-bold uppercase text-gray-400 tracking-wider",children:"Display Name"}),_.jsx("input",{value:y,onChange:Y=>m(Y.target.value),className:"text-2xl font-serif font-bold text-gray-900 bg-gray-50 rounded-xl px-4 py-3 outline-none focus:ring-2 focus:ring-blue-500 w-full"})]}):_.jsx("h1",{className:"text-4xl font-serif font-bold text-gray-900 mb-2",children:y}),_.jsx("div",{className:"flex flex-wrap items-center justify-center md:justify-start gap-4 text-sm text-gray-500 font-medium",children:_.jsxs("span",{className:"flex items-center gap-1.5",children:[_.jsx(j0,{size:14})," Joined ",new Date(t.joinDate).toLocaleDateString()]})})]}),_.jsxs("div",{className:"bg-gray-900 text-white p-6 rounded-3xl shadow-xl min-w-[200px] text-center md:text-right relative overflow-hidden group",children:[_.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-yellow-500/20 to-purple-500/20 group-hover:opacity-100 transition-opacity opacity-0"}),_.jsxs("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-1 flex items-center justify-end gap-2",children:["Balance ",_.jsx(sx,{size:12})]}),_.jsxs("div",{className:"text-3xl font-mono font-bold tracking-tight text-transparent bg-clip-text bg-gradient-to-r from-yellow-200 to-yellow-500",children:[e.balance," SCT"]})]})]})]}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[_.jsxs("div",{className:`bg-white p-6 rounded-3xl shadow-sm border border-gray-100 ${d?"ring-2 ring-blue-500/20":""}`,children:[_.jsxs("h3",{className:"text-xs font-bold uppercase text-gray-400 tracking-wider mb-4 flex items-center gap-2",children:[_.jsx(Lt,{size:14})," Current Focus"]}),d?_.jsx("div",{className:"grid gap-2",children:u0.map(Y=>_.jsxs("button",{onClick:()=>E(Y.label),className:`flex items-center gap-3 p-3 rounded-xl border text-left transition-colors ${v===Y.label?"border-blue-500 bg-blue-50 text-blue-900":"border-gray-100 hover:bg-gray-50"}`,children:[_.jsx("span",{className:"text-xl",children:Y.icon}),_.jsx("span",{className:"font-bold text-sm",children:Y.label}),v===Y.label&&_.jsx(dd,{size:16,className:"ml-auto text-blue-600"})]},Y.id))}):_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("span",{className:"text-3xl",children:(($=u0.find(Y=>Y.label===v))==null?void 0:$.icon)||""}),_.jsx("span",{className:"text-xl font-bold text-gray-900",children:v})]})]}),_.jsxs("div",{className:`bg-white p-6 rounded-3xl shadow-sm border border-gray-100 ${d?"ring-2 ring-blue-500/20":""}`,children:[_.jsxs("h3",{className:"text-xs font-bold uppercase text-gray-400 tracking-wider mb-4 flex items-center gap-2",children:[_.jsx(zn,{size:14})," Favorite Genres"]}),_.jsx("div",{className:"flex flex-wrap gap-2",children:d?FR.map(Y=>_.jsx("button",{onClick:()=>F(Y),className:`px-3 py-1.5 rounded-full text-sm font-bold transition-colors ${S.includes(Y)?"bg-black text-white":"bg-gray-100 text-gray-500 hover:bg-gray-200"}`,children:Y},Y)):S.map(Y=>_.jsx("span",{className:"px-3 py-1.5 bg-gray-100 text-gray-700 rounded-full text-sm font-bold",children:Y},Y))})]})]}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-12",children:[_.jsxs("div",{className:"bg-white p-6 rounded-3xl shadow-sm border border-gray-100 flex items-center gap-4",children:[_.jsx("div",{className:"w-12 h-12 rounded-2xl bg-blue-50 flex items-center justify-center text-blue-600",children:_.jsx(zn,{size:24})}),_.jsxs("div",{children:[_.jsx("p",{className:"text-2xl font-bold text-gray-900",children:N}),_.jsx("p",{className:"text-xs text-gray-500 font-bold uppercase tracking-wide",children:"Books Finished"})]})]}),_.jsxs("div",{className:"bg-white p-6 rounded-3xl shadow-sm border border-gray-100 flex items-center gap-4",children:[_.jsx("div",{className:"w-12 h-12 rounded-2xl bg-purple-50 flex items-center justify-center text-purple-600",children:_.jsx(fd,{size:24})}),_.jsxs("div",{children:[_.jsx("p",{className:"text-2xl font-bold text-gray-900",children:k}),_.jsx("p",{className:"text-xs text-gray-500 font-bold uppercase tracking-wide",children:"Notes Taken"})]})]}),_.jsxs("div",{className:"bg-white p-6 rounded-3xl shadow-sm border border-gray-100 flex items-center gap-4",children:[_.jsx("div",{className:"w-12 h-12 rounded-2xl bg-yellow-50 flex items-center justify-center text-yellow-600",children:_.jsx(Ag,{size:24})}),_.jsxs("div",{children:[_.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.nfts.length}),_.jsx("p",{className:"text-xs text-gray-500 font-bold uppercase tracking-wide",children:"NFTs Collected"})]})]})]}),_.jsxs("div",{className:"mb-12",children:[_.jsxs("div",{className:"flex items-center gap-2 mb-6 px-2",children:[_.jsx(Lt,{className:"text-yellow-500",size:20}),_.jsx("h2",{className:"text-2xl font-serif font-bold text-gray-900",children:"Your Collection (NFTs)"})]}),U.length===0?_.jsxs("div",{className:"bg-white rounded-[2rem] p-12 text-center border-2 border-dashed border-gray-200",children:[_.jsx("div",{className:"w-16 h-16 bg-gray-50 rounded-full flex items-center justify-center mx-auto mb-4 text-gray-300",children:_.jsx(Ag,{size:32})}),_.jsx("h3",{className:"text-gray-900 font-bold mb-1",children:"No Digital Collectibles Yet"}),_.jsx("p",{className:"text-gray-500 text-sm",children:"Finish books to mint their covers as NFTs."})]}):_.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:U.map(Y=>_.jsxs("div",{className:"group relative aspect-[2/3] rounded-2xl overflow-hidden shadow-lg transition-transform hover:scale-105",children:[_.jsx("div",{className:"absolute inset-0",style:{backgroundColor:Y.coverColor}}),Y.isbn&&_.jsx("img",{src:`https://covers.openlibrary.org/b/isbn/${Y.isbn}-L.jpg`,className:"absolute inset-0 w-full h-full object-cover",alt:Y.title}),_.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent opacity-0 group-hover:opacity-100 transition-opacity flex flex-col justify-end p-4",children:[_.jsx("p",{className:"text-white font-bold text-sm line-clamp-2",children:Y.title}),_.jsx("div",{className:"flex items-center gap-1 mt-1",children:_.jsx("span",{className:"text-[10px] font-bold bg-yellow-400 text-black px-1.5 rounded",children:"NFT"})})]})]},Y.id))})]}),_.jsx("div",{className:"flex justify-center",children:_.jsxs("button",{onClick:u,className:"text-red-500 text-sm font-bold flex items-center gap-2 hover:bg-red-50 px-6 py-3 rounded-full transition-colors",children:[_.jsx(tv,{size:16})," Reset Profile & Data"]})})]})},JR=()=>{};var c0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zv=function(t){const e=[];let i=0;for(let s=0;s<t.length;s++){let a=t.charCodeAt(s);a<128?e[i++]=a:a<2048?(e[i++]=a>>6|192,e[i++]=a&63|128):(a&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++s)&1023),e[i++]=a>>18|240,e[i++]=a>>12&63|128,e[i++]=a>>6&63|128,e[i++]=a&63|128):(e[i++]=a>>12|224,e[i++]=a>>6&63|128,e[i++]=a&63|128)}return e},$R=function(t){const e=[];let i=0,s=0;for(;i<t.length;){const a=t[i++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const u=t[i++];e[s++]=String.fromCharCode((a&31)<<6|u&63)}else if(a>239&&a<365){const u=t[i++],d=t[i++],p=t[i++],y=((a&7)<<18|(u&63)<<12|(d&63)<<6|p&63)-65536;e[s++]=String.fromCharCode(55296+(y>>10)),e[s++]=String.fromCharCode(56320+(y&1023))}else{const u=t[i++],d=t[i++];e[s++]=String.fromCharCode((a&15)<<12|(u&63)<<6|d&63)}}return e.join("")},jv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<t.length;a+=3){const u=t[a],d=a+1<t.length,p=d?t[a+1]:0,y=a+2<t.length,m=y?t[a+2]:0,v=u>>2,E=(u&3)<<4|p>>4;let S=(p&15)<<2|m>>6,x=m&63;y||(x=64,d||(S=64)),s.push(i[v],i[E],i[S],i[x])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Zv(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):$R(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<t.length;){const u=i[t.charAt(a++)],p=a<t.length?i[t.charAt(a)]:0;++a;const m=a<t.length?i[t.charAt(a)]:64;++a;const E=a<t.length?i[t.charAt(a)]:64;if(++a,u==null||p==null||m==null||E==null)throw new KR;const S=u<<2|p>>4;if(s.push(S),m!==64){const x=p<<4&240|m>>2;if(s.push(x),E!==64){const N=m<<6&192|E;s.push(N)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class KR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const XR=function(t){const e=Zv(t);return jv.encodeByteArray(e,!0)},e_=function(t){return XR(t).replace(/\./g,"")},t_=function(t){try{return jv.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR=()=>QR().__FIREBASE_DEFAULTS__,ZR=()=>{if(typeof process>"u"||typeof c0>"u")return;const t=c0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},jR=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&t_(t[1]);return e&&JSON.parse(e)},jd=()=>{try{return JR()||WR()||ZR()||jR()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},eM=t=>{var e,i;return(i=(e=jd())==null?void 0:e.emulatorHosts)==null?void 0:i[t]},n_=()=>{var t;return(t=jd())==null?void 0:t.config},i_=t=>{var e;return(e=jd())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function nM(t){return(await fetch(t,{credentials:"include"})).ok}const yr={};function iM(){const t={prod:[],emulator:[]};for(const e of Object.keys(yr))yr[e]?t.emulator.push(e):t.prod.push(e);return t}function oM(t){let e=document.getElementById(t),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),i=!0),{created:i,element:e}}let d0=!1;function sM(t,e){if(typeof window>"u"||typeof document>"u"||!wl(window.location.host)||yr[t]===e||yr[t]||d0)return;yr[t]=e;function i(S){return`__firebase__banner__${S}`}const s="__firebase__banner",u=iM().prod.length>0;function d(){const S=document.getElementById(s);S&&S.remove()}function p(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function y(S,x){S.setAttribute("width","24"),S.setAttribute("id",x),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function m(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{d0=!0,d()},S}function v(S,x){S.setAttribute("id",x),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function E(){const S=oM(s),x=i("text"),N=document.getElementById(x)||document.createElement("span"),k=i("learnmore"),U=document.getElementById(k)||document.createElement("a"),L=i("preprendIcon"),q=document.getElementById(L)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const F=S.element;p(F),v(U,k);const $=m();y(q,L),F.append(q,N,U,$),document.body.appendChild(F)}u?(N.innerText="Preview backend disconnected.",q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function rM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vt())}function aM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function o_(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function lM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function uM(){const t=vt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function s_(){try{return typeof indexedDB=="object"}catch{return!1}}function r_(){return new Promise((t,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),i||self.indexedDB.deleteDatabase(s),t(!0)},a.onupgradeneeded=()=>{i=!1},a.onerror=()=>{var u;e(((u=a.error)==null?void 0:u.message)||"")}}catch(i){e(i)}})}function cM(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dM="FirebaseError";class yn extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=dM,Object.setPrototypeOf(this,yn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fo.prototype.create)}}class fo{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},a=`${this.service}/${e}`,u=this.errors[e],d=u?fM(u,s):"Error",p=`${this.serviceName}: ${d} (${a}).`;return new yn(a,p,s)}}function fM(t,e){return t.replace(hM,(i,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const hM=/\{\$([^}]+)}/g;function pM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function so(t,e){if(t===e)return!0;const i=Object.keys(t),s=Object.keys(e);for(const a of i){if(!s.includes(a))return!1;const u=t[a],d=e[a];if(f0(u)&&f0(d)){if(!so(u,d))return!1}else if(u!==d)return!1}for(const a of s)if(!i.includes(a))return!1;return!0}function f0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sr(t){const e=[];for(const[i,s]of Object.entries(t))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function pr(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,u]=s.split("=");e[decodeURIComponent(a)]=decodeURIComponent(u)}}),e}function mr(t){const e=t.indexOf("?");if(!e)return"";const i=t.indexOf("#",e);return t.substring(e,i>0?i:void 0)}function mM(t,e){const i=new gM(t,e);return i.subscribe.bind(i)}class gM{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,s){let a;if(e===void 0&&i===void 0&&s===void 0)throw new Error("Missing Observer.");yM(e,["next","error","complete"])?a=e:a={next:e,error:i,complete:s},a.next===void 0&&(a.next=td),a.error===void 0&&(a.error=td),a.complete===void 0&&(a.complete=td);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function yM(t,e){if(typeof t!="object"||t===null)return!1;for(const i of e)if(i in t&&typeof t[i]=="function")return!0;return!1}function td(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vM=1e3,_M=2,TM=14400*1e3,EM=.5;function h0(t,e=vM,i=_M){const s=e*Math.pow(i,t),a=Math.round(EM*s*(Math.random()-.5)*2);return Math.min(TM,s+a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ot(t){return t&&t._delegate?t._delegate:t}class gn{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const no="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new tM;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:i});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(xM(e))try{this.getOrInitializeService({instanceIdentifier:no})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:a});s.resolve(u)}catch{}}}}clearInstance(e=no){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=no){return this.instances.has(e)}getOptions(e=no){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[u,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);s===p&&d.resolve(a)}return a}onInit(e,i){const s=this.normalizeInstanceIdentifier(i),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const u=this.instances.get(s);return u&&e(u,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const a of s)try{a(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:CM(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=no){return this.component?this.component.multipleInstances?e:no:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function CM(t){return t===no?void 0:t}function xM(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new SM(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ze;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ze||(ze={}));const bM={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},wM=ze.INFO,NM={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},IM=(t,e,...i)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),a=NM[e];if(a)console[a](`[${s}]  ${t.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ef{constructor(e){this.name=e,this._logLevel=wM,this._logHandler=IM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?bM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}}const RM=(t,e)=>e.some(i=>t instanceof i);let p0,m0;function MM(){return p0||(p0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function DM(){return m0||(m0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const a_=new WeakMap,Id=new WeakMap,l_=new WeakMap,nd=new WeakMap,tf=new WeakMap;function UM(t){const e=new Promise((i,s)=>{const a=()=>{t.removeEventListener("success",u),t.removeEventListener("error",d)},u=()=>{i(Ii(t.result)),a()},d=()=>{s(t.error),a()};t.addEventListener("success",u),t.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&a_.set(i,t)}).catch(()=>{}),tf.set(e,t),e}function kM(t){if(Id.has(t))return;const e=new Promise((i,s)=>{const a=()=>{t.removeEventListener("complete",u),t.removeEventListener("error",d),t.removeEventListener("abort",d)},u=()=>{i(),a()},d=()=>{s(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",u),t.addEventListener("error",d),t.addEventListener("abort",d)});Id.set(t,e)}let Rd={get(t,e,i){if(t instanceof IDBTransaction){if(e==="done")return Id.get(t);if(e==="objectStoreNames")return t.objectStoreNames||l_.get(t);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ii(t[e])},set(t,e,i){return t[e]=i,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function LM(t){Rd=t(Rd)}function PM(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=t.call(id(this),e,...i);return l_.set(s,e.sort?e.sort():[e]),Ii(s)}:DM().includes(t)?function(...e){return t.apply(id(this),e),Ii(a_.get(this))}:function(...e){return Ii(t.apply(id(this),e))}}function OM(t){return typeof t=="function"?PM(t):(t instanceof IDBTransaction&&kM(t),RM(t,MM())?new Proxy(t,Rd):t)}function Ii(t){if(t instanceof IDBRequest)return UM(t);if(nd.has(t))return nd.get(t);const e=OM(t);return e!==t&&(nd.set(t,e),tf.set(e,t)),e}const id=t=>tf.get(t);function u_(t,e,{blocked:i,upgrade:s,blocking:a,terminated:u}={}){const d=indexedDB.open(t,e),p=Ii(d);return s&&d.addEventListener("upgradeneeded",y=>{s(Ii(d.result),y.oldVersion,y.newVersion,Ii(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),p.then(y=>{u&&y.addEventListener("close",()=>u()),a&&y.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),p}const HM=["get","getKey","getAll","getAllKeys","count"],GM=["put","add","delete","clear"],od=new Map;function g0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(od.get(e))return od.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,a=GM.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(a||HM.includes(i)))return;const u=async function(d,...p){const y=this.transaction(d,a?"readwrite":"readonly");let m=y.store;return s&&(m=m.index(p.shift())),(await Promise.all([m[i](...p),a&&y.done]))[0]};return od.set(e,u),u}LM(t=>({...t,get:(e,i,s)=>g0(e,i)||t.get(e,i,s),has:(e,i)=>!!g0(e,i)||t.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(VM(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function VM(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Md="@firebase/app",y0="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fn=new ef("@firebase/app"),BM="@firebase/app-compat",qM="@firebase/analytics-compat",FM="@firebase/analytics",YM="@firebase/app-check-compat",JM="@firebase/app-check",$M="@firebase/auth",KM="@firebase/auth-compat",XM="@firebase/database",QM="@firebase/data-connect",WM="@firebase/database-compat",ZM="@firebase/functions",jM="@firebase/functions-compat",e2="@firebase/installations",t2="@firebase/installations-compat",n2="@firebase/messaging",i2="@firebase/messaging-compat",o2="@firebase/performance",s2="@firebase/performance-compat",r2="@firebase/remote-config",a2="@firebase/remote-config-compat",l2="@firebase/storage",u2="@firebase/storage-compat",c2="@firebase/firestore",d2="@firebase/ai",f2="@firebase/firestore-compat",h2="firebase",p2="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dd="[DEFAULT]",m2={[Md]:"fire-core",[BM]:"fire-core-compat",[FM]:"fire-analytics",[qM]:"fire-analytics-compat",[JM]:"fire-app-check",[YM]:"fire-app-check-compat",[$M]:"fire-auth",[KM]:"fire-auth-compat",[XM]:"fire-rtdb",[QM]:"fire-data-connect",[WM]:"fire-rtdb-compat",[ZM]:"fire-fn",[jM]:"fire-fn-compat",[e2]:"fire-iid",[t2]:"fire-iid-compat",[n2]:"fire-fcm",[i2]:"fire-fcm-compat",[o2]:"fire-perf",[s2]:"fire-perf-compat",[r2]:"fire-rc",[a2]:"fire-rc-compat",[l2]:"fire-gcs",[u2]:"fire-gcs-compat",[c2]:"fire-fst",[f2]:"fire-fst-compat",[d2]:"fire-vertex","fire-js":"fire-js",[h2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fl=new Map,g2=new Map,Ud=new Map;function v0(t,e){try{t.container.addComponent(e)}catch(i){Fn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,i)}}function Yn(t){const e=t.name;if(Ud.has(e))return Fn.debug(`There were multiple attempts to register component ${e}.`),!1;Ud.set(e,t);for(const i of fl.values())v0(i,t);for(const i of g2.values())v0(i,t);return!0}function ps(t,e){const i=t.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),t.container.getProvider(e)}function tn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ri=new fo("app","Firebase",y2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(e,i,s){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new gn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ri.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cr=p2;function c_(t,e={}){let i=t;typeof e!="object"&&(e={name:e});const s={name:Dd,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw Ri.create("bad-app-name",{appName:String(a)});if(i||(i=n_()),!i)throw Ri.create("no-options");const u=fl.get(a);if(u){if(so(i,u.options)&&so(s,u.config))return u;throw Ri.create("duplicate-app",{appName:a})}const d=new AM(a);for(const y of Ud.values())d.addComponent(y);const p=new v2(i,s,d);return fl.set(a,p),p}function d_(t=Dd){const e=fl.get(t);if(!e&&t===Dd&&n_())return c_();if(!e)throw Ri.create("no-app",{appName:t});return e}function hn(t,e,i){let s=m2[t]??t;i&&(s+=`-${i}`);const a=s.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const d=[`Unable to register library "${s}" with version "${e}":`];a&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Fn.warn(d.join(" "));return}Yn(new gn(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2="firebase-heartbeat-database",T2=1,Tr="firebase-heartbeat-store";let sd=null;function f_(){return sd||(sd=u_(_2,T2,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Tr)}catch(i){console.warn(i)}}}}).catch(t=>{throw Ri.create("idb-open",{originalErrorMessage:t.message})})),sd}async function E2(t){try{const i=(await f_()).transaction(Tr),s=await i.objectStore(Tr).get(h_(t));return await i.done,s}catch(e){if(e instanceof yn)Fn.warn(e.message);else{const i=Ri.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Fn.warn(i.message)}}}async function _0(t,e){try{const s=(await f_()).transaction(Tr,"readwrite");await s.objectStore(Tr).put(e,h_(t)),await s.done}catch(i){if(i instanceof yn)Fn.warn(i.message);else{const s=Ri.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Fn.warn(s.message)}}}function h_(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2=1024,C2=30;class x2{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new b2(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,i;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=T0();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)==null?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(d=>d.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:a}),this._heartbeatsCache.heartbeats.length>C2){const d=w2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Fn.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=T0(),{heartbeatsToSend:s,unsentEntries:a}=A2(this._heartbeatsCache.heartbeats),u=e_(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(i){return Fn.warn(i),""}}}function T0(){return new Date().toISOString().substring(0,10)}function A2(t,e=S2){const i=[];let s=t.slice();for(const a of t){const u=i.find(d=>d.agent===a.agent);if(u){if(u.dates.push(a.date),E0(i)>e){u.dates.pop();break}}else if(i.push({agent:a.agent,dates:[a.date]}),E0(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class b2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return s_()?r_().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await E2(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return _0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return _0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function E0(t){return e_(JSON.stringify({version:2,heartbeats:t})).length}function w2(t){if(t.length===0)return-1;let e=0,i=t[0].date;for(let s=1;s<t.length;s++)t[s].date<i&&(i=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N2(t){Yn(new gn("platform-logger",e=>new zM(e),"PRIVATE")),Yn(new gn("heartbeat",e=>new x2(e),"PRIVATE")),hn(Md,y0,t),hn(Md,y0,"esm2020"),hn("fire-js","")}N2("");function p_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const I2=p_,m_=new fo("auth","Firebase",p_());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hl=new ef("@firebase/auth");function R2(t,...e){hl.logLevel<=ze.WARN&&hl.warn(`Auth (${Cr}): ${t}`,...e)}function tl(t,...e){hl.logLevel<=ze.ERROR&&hl.error(`Auth (${Cr}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(t,...e){throw nf(t,...e)}function pn(t,...e){return nf(t,...e)}function g_(t,e,i){const s={...I2(),[e]:i};return new fo("auth","Firebase",s).create(e,{appName:t.name})}function Vn(t){return g_(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function nf(t,...e){if(typeof t!="string"){const i=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(i,...s)}return m_.create(t,...e)}function le(t,e,...i){if(!t)throw nf(e,...i)}function Hn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw tl(e),new Error(e)}function Jn(t,e){t||Hn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kd(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function M2(){return S0()==="http:"||S0()==="https:"}function S0(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(M2()||o_()||"connection"in navigator)?navigator.onLine:!0}function U2(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e,i){this.shortDelay=e,this.longDelay=i,Jn(i>e,"Short delay should be less than long delay!"),this.isMobile=rM()||lM()}get(){return D2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function of(t,e){Jn(t.emulator,"Emulator should always be set here");const{url:i}=t.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_{static initialize(e,i,s){this.fetchImpl=e,i&&(this.headersImpl=i),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Hn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Hn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Hn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],P2=new xr(3e4,6e4);function Ui(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Xn(t,e,i,s,a={}){return v_(t,a,async()=>{let u={},d={};s&&(e==="GET"?d=s:u={body:JSON.stringify(s)});const p=Sr({key:t.config.apiKey,...d}).slice(1),y=await t._getAdditionalHeaders();y["Content-Type"]="application/json",t.languageCode&&(y["X-Firebase-Locale"]=t.languageCode);const m={method:e,headers:y,...u};return aM()||(m.referrerPolicy="no-referrer"),t.emulatorConfig&&wl(t.emulatorConfig.host)&&(m.credentials="include"),y_.fetch()(await __(t,t.config.apiHost,i,p),m)})}async function v_(t,e,i){t._canInitEmulator=!1;const s={...k2,...e};try{const a=new H2(t),u=await Promise.race([i(),a.promise]);a.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw Za(t,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const p=u.ok?d.errorMessage:d.error.message,[y,m]=p.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Za(t,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw Za(t,"email-already-in-use",d);if(y==="USER_DISABLED")throw Za(t,"user-disabled",d);const v=s[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw g_(t,v,m);rn(t,v)}}catch(a){if(a instanceof yn)throw a;rn(t,"network-request-failed",{message:String(a)})}}async function Ar(t,e,i,s,a={}){const u=await Xn(t,e,i,s,a);return"mfaPendingCredential"in u&&rn(t,"multi-factor-auth-required",{_serverResponse:u}),u}async function __(t,e,i,s){const a=`${e}${i}?${s}`,u=t,d=u.config.emulator?of(t.config,a):`${t.config.apiScheme}://${a}`;return L2.includes(i)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(d).toString():d}function O2(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class H2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,s)=>{this.timer=setTimeout(()=>s(pn(this.auth,"network-request-failed")),P2.get())})}}function Za(t,e,i){const s={appName:t.name};i.email&&(s.email=i.email),i.phoneNumber&&(s.phoneNumber=i.phoneNumber);const a=pn(t,e,s);return a.customData._tokenResponse=i,a}function C0(t){return t!==void 0&&t.enterprise!==void 0}class G2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===e)return O2(i.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function z2(t,e){return Xn(t,"GET","/v2/recaptchaConfig",Ui(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V2(t,e){return Xn(t,"POST","/v1/accounts:delete",e)}async function pl(t,e){return Xn(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vr(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function B2(t,e=!1){const i=Ot(t),s=await i.getIdToken(e),a=sf(s);le(a&&a.exp&&a.auth_time&&a.iat,i.auth,"internal-error");const u=typeof a.firebase=="object"?a.firebase:void 0,d=u==null?void 0:u.sign_in_provider;return{claims:a,token:s,authTime:vr(rd(a.auth_time)),issuedAtTime:vr(rd(a.iat)),expirationTime:vr(rd(a.exp)),signInProvider:d||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function rd(t){return Number(t)*1e3}function sf(t){const[e,i,s]=t.split(".");if(e===void 0||i===void 0||s===void 0)return tl("JWT malformed, contained fewer than 3 sections"),null;try{const a=t_(i);return a?JSON.parse(a):(tl("Failed to decode base64 JWT payload"),null)}catch(a){return tl("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function x0(t){const e=sf(t);return le(e,"internal-error"),le(typeof e.exp<"u","internal-error"),le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cs(t,e,i=!1){if(i)return e;try{return await e}catch(s){throw s instanceof yn&&q2(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function q2({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=vr(this.lastLoginAt),this.creationTime=vr(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ml(t){var E;const e=t.auth,i=await t.getIdToken(),s=await cs(t,pl(e,{idToken:i}));le(s==null?void 0:s.users.length,e,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const u=(E=a.providerUserInfo)!=null&&E.length?T_(a.providerUserInfo):[],d=J2(t.providerData,u),p=t.isAnonymous,y=!(t.email&&a.passwordHash)&&!(d!=null&&d.length),m=p?y:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:d,metadata:new Ld(a.createdAt,a.lastLoginAt),isAnonymous:m};Object.assign(t,v)}async function Y2(t){const e=Ot(t);await ml(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function J2(t,e){return[...t.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function T_(t){return t.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $2(t,e){const i=await v_(t,{},async()=>{const s=Sr({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:u}=t.config,d=await __(t,a,"/v1/token",`key=${u}`),p=await t._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:p,body:s};return t.emulatorConfig&&wl(t.emulatorConfig.host)&&(y.credentials="include"),y_.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function K2(t,e){return Xn(t,"POST","/v2/accounts:revokeToken",Ui(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){le(e.idToken,"internal-error"),le(typeof e.idToken<"u","internal-error"),le(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):x0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){le(e.length!==0,"internal-error");const i=x0(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(le(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:s,refreshToken:a,expiresIn:u}=await $2(e,i);this.updateTokensAndExpiration(s,a,Number(u))}updateTokensAndExpiration(e,i,s){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,i){const{refreshToken:s,accessToken:a,expirationTime:u}=i,d=new rs;return s&&(le(typeof s=="string","internal-error",{appName:e}),d.refreshToken=s),a&&(le(typeof a=="string","internal-error",{appName:e}),d.accessToken=a),u&&(le(typeof u=="number","internal-error",{appName:e}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new rs,this.toJSON())}_performRefresh(){return Hn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ci(t,e){le(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class nn{constructor({uid:e,auth:i,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new F2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Ld(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const i=await cs(this,this.stsTokenManager.getToken(this.auth,e));return le(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return B2(this,e)}reload(){return Y2(this)}_assign(e){this!==e&&(le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new nn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),i&&await ml(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(tn(this.auth.app))return Promise.reject(Vn(this.auth));const e=await this.getIdToken();return await cs(this,V2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const s=i.displayName??void 0,a=i.email??void 0,u=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,y=i._redirectEventId??void 0,m=i.createdAt??void 0,v=i.lastLoginAt??void 0,{uid:E,emailVerified:S,isAnonymous:x,providerData:N,stsTokenManager:k}=i;le(E&&k,e,"internal-error");const U=rs.fromJSON(this.name,k);le(typeof E=="string",e,"internal-error"),Ci(s,e.name),Ci(a,e.name),le(typeof S=="boolean",e,"internal-error"),le(typeof x=="boolean",e,"internal-error"),Ci(u,e.name),Ci(d,e.name),Ci(p,e.name),Ci(y,e.name),Ci(m,e.name),Ci(v,e.name);const L=new nn({uid:E,auth:e,email:a,emailVerified:S,displayName:s,isAnonymous:x,photoURL:d,phoneNumber:u,tenantId:p,stsTokenManager:U,createdAt:m,lastLoginAt:v});return N&&Array.isArray(N)&&(L.providerData=N.map(q=>({...q}))),y&&(L._redirectEventId=y),L}static async _fromIdTokenResponse(e,i,s=!1){const a=new rs;a.updateFromServerResponse(i);const u=new nn({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await ml(u),u}static async _fromGetAccountInfoResponse(e,i,s){const a=i.users[0];le(a.localId!==void 0,"internal-error");const u=a.providerUserInfo!==void 0?T_(a.providerUserInfo):[],d=!(a.email&&a.passwordHash)&&!(u!=null&&u.length),p=new rs;p.updateFromIdToken(s);const y=new nn({uid:a.localId,auth:e,stsTokenManager:p,isAnonymous:d}),m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new Ld(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(u!=null&&u.length)};return Object.assign(y,m),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0=new Map;function Gn(t){Jn(t instanceof Function,"Expected a class definition");let e=A0.get(t);return e?(Jn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,A0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}E_.type="NONE";const b0=E_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nl(t,e,i){return`firebase:${t}:${e}:${i}`}class as{constructor(e,i,s){this.persistence=e,this.auth=i,this.userKey=s;const{config:a,name:u}=this.auth;this.fullUserKey=nl(this.userKey,a.apiKey,u),this.fullPersistenceKey=nl("persistence",a.apiKey,u),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await pl(this.auth,{idToken:e}).catch(()=>{});return i?nn._fromGetAccountInfoResponse(this.auth,i,e):null}return nn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,s="authUser"){if(!i.length)return new as(Gn(b0),e,s);const a=(await Promise.all(i.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let u=a[0]||Gn(b0);const d=nl(s,e.config.apiKey,e.name);let p=null;for(const m of i)try{const v=await m._get(d);if(v){let E;if(typeof v=="string"){const S=await pl(e,{idToken:v}).catch(()=>{});if(!S)break;E=await nn._fromGetAccountInfoResponse(e,S,v)}else E=nn._fromJSON(e,v);m!==u&&(p=E),u=m;break}}catch{}const y=a.filter(m=>m._shouldAllowMigration);return!u._shouldAllowMigration||!y.length?new as(u,e,s):(u=y[0],p&&await u._set(d,p.toJSON()),await Promise.all(i.map(async m=>{if(m!==u)try{await m._remove(d)}catch{}})),new as(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(A_(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(S_(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(w_(e))return"Blackberry";if(N_(e))return"Webos";if(C_(e))return"Safari";if((e.includes("chrome/")||x_(e))&&!e.includes("edge/"))return"Chrome";if(b_(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(i);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function S_(t=vt()){return/firefox\//i.test(t)}function C_(t=vt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function x_(t=vt()){return/crios\//i.test(t)}function A_(t=vt()){return/iemobile/i.test(t)}function b_(t=vt()){return/android/i.test(t)}function w_(t=vt()){return/blackberry/i.test(t)}function N_(t=vt()){return/webos/i.test(t)}function rf(t=vt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function X2(t=vt()){var e;return rf(t)&&!!((e=window.navigator)!=null&&e.standalone)}function Q2(){return uM()&&document.documentMode===10}function I_(t=vt()){return rf(t)||b_(t)||N_(t)||w_(t)||/windows phone/i.test(t)||A_(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R_(t,e=[]){let i;switch(t){case"Browser":i=w0(vt());break;case"Worker":i=`${w0(vt())}-${t}`;break;default:i=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${Cr}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const s=u=>new Promise((d,p)=>{try{const y=e(u);d(y)}catch(y){p(y)}});s.onAbort=i,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const s of this.queue)await s(e),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const a of i)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z2(t,e={}){return Xn(t,"GET","/v2/passwordPolicy",Ui(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2=6;class eD{constructor(e){var s;const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??j2,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=e.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(i.meetsMinPasswordLength=e.length>=s),a&&(i.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(i,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,i,s,a,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(e,i,s,a){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new N0(this),this.idTokenSubscription=new N0(this),this.beforeStateQueue=new W2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=m_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=Gn(i)),this._initializationPromise=this.queue(async()=>{var s,a,u;if(!this._deleted&&(this.persistenceManager=await as.create(this,e),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((a=this._popupRedirectResolver)!=null&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=((u=this.currentUser)==null?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await pl(this,{idToken:e}),s=await nn._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(s)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var u;if(tn(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(p,p))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(u=this.redirectUser)==null?void 0:u._redirectEventId,p=s==null?void 0:s._redirectEventId,y=await this.tryRedirectSignIn(e);(!d||d===p)&&(y!=null&&y.user)&&(s=y.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(d){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return le(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await ml(e)}catch(i){if((i==null?void 0:i.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=U2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(tn(this.app))return Promise.reject(Vn(this));const i=e?Ot(e):null;return i&&le(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return tn(this.app)?Promise.reject(Vn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return tn(this.app)?Promise.reject(Vn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Gn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Z2(this),i=new eD(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new fo("auth","Firebase",e())}onAuthStateChanged(e,i,s){return this.registerStateListener(this.authStateSubscription,e,i,s)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,s){return this.registerStateListener(this.idTokenSubscription,e,i,s)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(s.tenantId=this.tenantId),await K2(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,i){const s=await this.getOrInitRedirectPersistenceManager(i);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&Gn(e)||this._popupRedirectResolver;le(i,this,"argument-error"),this.redirectPersistenceManager=await as.create(this,[Gn(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var i,s;return this._isInitialized&&await this.queue(async()=>{}),((i=this._currentUser)==null?void 0:i._redirectEventId)===e?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((i=this.currentUser)==null?void 0:i.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,s,a){if(this._deleted)return()=>{};const u=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(le(p,this,"internal-error"),p.then(()=>{d||u(this.currentUser)}),typeof i=="function"){const y=e.addObserver(i,s,a);return()=>{d=!0,y()}}else{const y=e.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=R_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var a;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await((a=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:a.getHeartbeatsHeader());i&&(e["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var i;if(tn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((i=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getToken());return e!=null&&e.error&&R2(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function ho(t){return Ot(t)}class N0{constructor(e){this.auth=e,this.observer=null,this.addObserver=mM(i=>this.observer=i)}get next(){return le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nl={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function nD(t){Nl=t}function M_(t){return Nl.loadJS(t)}function iD(){return Nl.recaptchaEnterpriseScript}function oD(){return Nl.gapiScript}function sD(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class rD{constructor(){this.enterprise=new aD}ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}class aD{ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}const lD="recaptcha-enterprise",D_="NO_RECAPTCHA";class uD{constructor(e){this.type=lD,this.auth=ho(e)}async verify(e="verify",i=!1){async function s(u){if(!i){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(d,p)=>{z2(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const m=new G2(y);return u.tenantId==null?u._agentRecaptchaConfig=m:u._tenantRecaptchaConfigs[u.tenantId]=m,d(m.siteKey)}}).catch(y=>{p(y)})})}function a(u,d,p){const y=window.grecaptcha;C0(y)?y.enterprise.ready(()=>{y.enterprise.execute(u,{action:e}).then(m=>{d(m)}).catch(()=>{d(D_)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new rD().execute("siteKey",{action:"verify"}):new Promise((u,d)=>{s(this.auth).then(p=>{if(!i&&C0(window.grecaptcha))a(p,u,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let y=iD();y.length!==0&&(y+=p),M_(y).then(()=>{a(p,u,d)}).catch(m=>{d(m)})}}).catch(p=>{d(p)})})}}async function I0(t,e,i,s=!1,a=!1){const u=new uD(t);let d;if(a)d=D_;else try{d=await u.verify(i)}catch{d=await u.verify(i,!0)}const p={...e};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const y=p.phoneEnrollmentInfo.phoneNumber,m=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:m,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const y=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return s?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function Pd(t,e,i,s,a){var u;if((u=t._getRecaptchaConfig())!=null&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const d=await I0(t,e,i,i==="getOobCode");return s(t,d)}else return s(t,e).catch(async d=>{if(d.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const p=await I0(t,e,i,i==="getOobCode");return s(t,p)}else return Promise.reject(d)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cD(t,e){const i=ps(t,"auth");if(i.isInitialized()){const a=i.getImmediate(),u=i.getOptions();if(so(u,e??{}))return a;rn(a,"already-initialized")}return i.initialize({options:e})}function dD(t,e){const i=(e==null?void 0:e.persistence)||[],s=(Array.isArray(i)?i:[i]).map(Gn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function fD(t,e,i){const s=ho(t);le(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,u=U_(e),{host:d,port:p}=hD(e),y=p===null?"":`:${p}`,m={url:`${u}//${d}${y}/`},v=Object.freeze({host:d,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){le(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),le(so(m,s.config.emulator)&&so(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=m,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,wl(d)?(nM(`${u}//${d}${y}`),sM("Auth",!0)):pD()}function U_(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function hD(t){const e=U_(t),i=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!i)return{host:"",port:null};const s=i[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const u=a[1];return{host:u,port:R0(s.substr(u.length+1))}}else{const[u,d]=s.split(":");return{host:u,port:R0(d)}}}function R0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function pD(){function t(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return Hn("not implemented")}_getIdTokenResponse(e){return Hn("not implemented")}_linkToIdToken(e,i){return Hn("not implemented")}_getReauthenticationResolver(e){return Hn("not implemented")}}async function mD(t,e){return Xn(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gD(t,e){return Ar(t,"POST","/v1/accounts:signInWithPassword",Ui(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yD(t,e){return Ar(t,"POST","/v1/accounts:signInWithEmailLink",Ui(t,e))}async function vD(t,e){return Ar(t,"POST","/v1/accounts:signInWithEmailLink",Ui(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er extends af{constructor(e,i,s,a=null){super("password",s),this._email=e,this._password=i,this._tenantId=a}static _fromEmailAndPassword(e,i){return new Er(e,i,"password")}static _fromEmailAndCode(e,i,s=null){return new Er(e,i,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e;if(i!=null&&i.email&&(i!=null&&i.password)){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Pd(e,i,"signInWithPassword",gD);case"emailLink":return yD(e,{email:this._email,oobCode:this._password});default:rn(e,"internal-error")}}async _linkToIdToken(e,i){switch(this.signInMethod){case"password":const s={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Pd(e,s,"signUpPassword",mD);case"emailLink":return vD(e,{idToken:i,email:this._email,oobCode:this._password});default:rn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ls(t,e){return Ar(t,"POST","/v1/accounts:signInWithIdp",Ui(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _D="http://localhost";class ro extends af{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new ro(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):rn("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a,...u}=i;if(!s||!a)return null;const d=new ro(s,a);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return ls(e,i)}_linkToIdToken(e,i){const s=this.buildRequest();return s.idToken=i,ls(e,s)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,ls(e,i)}buildRequest(){const e={requestUri:_D,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=Sr(i)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TD(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ED(t){const e=pr(mr(t)).link,i=e?pr(mr(e)).deep_link_id:null,s=pr(mr(t)).deep_link_id;return(s?pr(mr(s)).link:null)||s||i||e||t}class lf{constructor(e){const i=pr(mr(e)),s=i.apiKey??null,a=i.oobCode??null,u=TD(i.mode??null);le(s&&a&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=a,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(e){const i=ED(e);try{return new lf(i)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(){this.providerId=ms.PROVIDER_ID}static credential(e,i){return Er._fromEmailAndPassword(e,i)}static credentialWithLink(e,i){const s=lf.parseLink(i);return le(s,"argument-error"),Er._fromEmailAndCode(e,s.code,s.tenantId)}}ms.PROVIDER_ID="password";ms.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ms.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br extends k_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi extends br{constructor(){super("facebook.com")}static credential(e){return ro._fromParams({providerId:xi.PROVIDER_ID,signInMethod:xi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xi.credentialFromTaggedObject(e)}static credentialFromError(e){return xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xi.credential(e.oauthAccessToken)}catch{return null}}}xi.FACEBOOK_SIGN_IN_METHOD="facebook.com";xi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai extends br{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return ro._fromParams({providerId:Ai.PROVIDER_ID,signInMethod:Ai.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return Ai.credentialFromTaggedObject(e)}static credentialFromError(e){return Ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:s}=e;if(!i&&!s)return null;try{return Ai.credential(i,s)}catch{return null}}}Ai.GOOGLE_SIGN_IN_METHOD="google.com";Ai.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi extends br{constructor(){super("github.com")}static credential(e){return ro._fromParams({providerId:bi.PROVIDER_ID,signInMethod:bi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return bi.credentialFromTaggedObject(e)}static credentialFromError(e){return bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return bi.credential(e.oauthAccessToken)}catch{return null}}}bi.GITHUB_SIGN_IN_METHOD="github.com";bi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi extends br{constructor(){super("twitter.com")}static credential(e,i){return ro._fromParams({providerId:wi.PROVIDER_ID,signInMethod:wi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return wi.credentialFromTaggedObject(e)}static credentialFromError(e){return wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:s}=e;if(!i||!s)return null;try{return wi.credential(i,s)}catch{return null}}}wi.TWITTER_SIGN_IN_METHOD="twitter.com";wi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SD(t,e){return Ar(t,"POST","/v1/accounts:signUp",Ui(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,s,a=!1){const u=await nn._fromIdTokenResponse(e,s,a),d=M0(s);return new ao({user:u,providerId:d,_tokenResponse:s,operationType:i})}static async _forOperation(e,i,s){await e._updateTokensIfNecessary(s,!0);const a=M0(s);return new ao({user:e,providerId:a,_tokenResponse:s,operationType:i})}}function M0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl extends yn{constructor(e,i,s,a){super(i.code,i.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,gl.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,i,s,a){return new gl(e,i,s,a)}}function L_(t,e,i,s){return(e==="reauthenticate"?i._getReauthenticationResolver(t):i._getIdTokenResponse(t)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?gl._fromErrorAndOperation(t,u,e,s):u})}async function CD(t,e,i=!1){const s=await cs(t,e._linkToIdToken(t.auth,await t.getIdToken()),i);return ao._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xD(t,e,i=!1){const{auth:s}=t;if(tn(s.app))return Promise.reject(Vn(s));const a="reauthenticate";try{const u=await cs(t,L_(s,a,e,t),i);le(u.idToken,s,"internal-error");const d=sf(u.idToken);le(d,s,"internal-error");const{sub:p}=d;return le(t.uid===p,s,"user-mismatch"),ao._forOperation(t,a,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&rn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P_(t,e,i=!1){if(tn(t.app))return Promise.reject(Vn(t));const s="signIn",a=await L_(t,s,e),u=await ao._fromIdTokenResponse(t,s,a);return i||await t._updateCurrentUser(u.user),u}async function AD(t,e){return P_(ho(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O_(t){const e=ho(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function bD(t,e,i){if(tn(t.app))return Promise.reject(Vn(t));const s=ho(t),d=await Pd(s,{returnSecureToken:!0,email:e,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",SD).catch(y=>{throw y.code==="auth/password-does-not-meet-requirements"&&O_(t),y}),p=await ao._fromIdTokenResponse(s,"signIn",d);return await s._updateCurrentUser(p.user),p}function wD(t,e,i){return tn(t.app)?Promise.reject(Vn(t)):AD(Ot(t),ms.credential(e,i)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&O_(t),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ND(t,e){return Xn(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ID(t,{displayName:e,photoURL:i}){if(e===void 0&&i===void 0)return;const s=Ot(t),u={idToken:await s.getIdToken(),displayName:e,photoUrl:i,returnSecureToken:!0},d=await cs(s,ND(s.auth,u));s.displayName=d.displayName||null,s.photoURL=d.photoUrl||null;const p=s.providerData.find(({providerId:y})=>y==="password");p&&(p.displayName=s.displayName,p.photoURL=s.photoURL),await s._updateTokensIfNecessary(d)}function RD(t,e,i,s){return Ot(t).onIdTokenChanged(e,i,s)}function MD(t,e,i){return Ot(t).beforeAuthStateChanged(e,i)}function DD(t,e,i,s){return Ot(t).onAuthStateChanged(e,i,s)}function UD(t){return Ot(t).signOut()}const yl="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(yl,"1"),this.storage.removeItem(yl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kD=1e3,LD=10;class G_ extends H_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=I_(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const s=this.storage.getItem(i),a=this.localCache[i];s!==a&&e(i,a,s)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,p,y)=>{this.notifyListeners(d,y)});return}const s=e.key;i?this.detachListener():this.stopPolling();const a=()=>{const d=this.storage.getItem(s);!i&&this.localCache[s]===d||this.notifyListeners(s,d)},u=this.storage.getItem(s);Q2()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,LD):a()}notifyListeners(e,i){this.localCache[e]=i;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:s}),!0)})},kD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}G_.type="LOCAL";const PD=G_;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_ extends H_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}z_.type="SESSION";const V_=z_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OD(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(a=>a.isListeningto(e));if(i)return i;const s=new Il(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:s,eventType:a,data:u}=i.data,d=this.handlersMap[a];if(!(d!=null&&d.size))return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const p=Array.from(d).map(async m=>m(i.origin,u)),y=await OD(p);i.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:y})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Il.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uf(t="",e=10){let i="";for(let s=0;s<e;s++)i+=Math.floor(Math.random()*10);return t+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let u,d;return new Promise((p,y)=>{const m=uf("",20);a.port1.start();const v=setTimeout(()=>{y(new Error("unsupported_event"))},s);d={messageChannel:a,onMessage(E){const S=E;if(S.data.eventId===m)switch(S.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(S.data.response);break;default:clearTimeout(v),clearTimeout(u),y(new Error("invalid_response"));break}}},this.handlers.add(d),a.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:m,data:i},[a.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(){return window}function GD(t){mn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B_(){return typeof mn().WorkerGlobalScope<"u"&&typeof mn().importScripts=="function"}async function zD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function VD(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function BD(){return B_()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_="firebaseLocalStorageDb",qD=1,vl="firebaseLocalStorage",F_="fbase_key";class wr{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Rl(t,e){return t.transaction([vl],e?"readwrite":"readonly").objectStore(vl)}function FD(){const t=indexedDB.deleteDatabase(q_);return new wr(t).toPromise()}function Od(){const t=indexedDB.open(q_,qD);return new Promise((e,i)=>{t.addEventListener("error",()=>{i(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(vl,{keyPath:F_})}catch(a){i(a)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(vl)?e(s):(s.close(),await FD(),e(await Od()))})})}async function D0(t,e,i){const s=Rl(t,!0).put({[F_]:e,value:i});return new wr(s).toPromise()}async function YD(t,e){const i=Rl(t,!1).get(e),s=await new wr(i).toPromise();return s===void 0?null:s.value}function U0(t,e){const i=Rl(t,!0).delete(e);return new wr(i).toPromise()}const JD=800,$D=3;class Y_{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Od(),this.db)}async _withRetries(e){let i=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(i++>$D)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return B_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Il._getInstance(BD()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){var i,s;if(this.activeServiceWorker=await zD(),!this.activeServiceWorker)return;this.sender=new HD(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(i=e[0])!=null&&i.fulfilled&&(s=e[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||VD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Od();return await D0(e,yl,"1"),await U0(e,yl),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(s=>D0(s,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(s=>YD(s,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>U0(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const u=Rl(a,!1).getAll();return new wr(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:u}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(u)&&(this.notifyListeners(a,u),i.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),i.push(a));return i}notifyListeners(e,i){this.localCache[e]=i;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),JD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Y_.type="LOCAL";const KD=Y_;new xr(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XD(t,e){return e?Gn(e):(le(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf extends af{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ls(e,this._buildIdpRequest())}_linkToIdToken(e,i){return ls(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return ls(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function QD(t){return P_(t.auth,new cf(t),t.bypassAuthState)}function WD(t){const{auth:e,user:i}=t;return le(i,e,"internal-error"),xD(i,new cf(t),t.bypassAuthState)}async function ZD(t){const{auth:e,user:i}=t;return le(i,e,"internal-error"),CD(i,new cf(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J_{constructor(e,i,s,a,u=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:s,postBody:a,tenantId:u,error:d,type:p}=e;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:s,tenantId:u||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(y))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return QD;case"linkViaPopup":case"linkViaRedirect":return ZD;case"reauthViaPopup":case"reauthViaRedirect":return WD;default:rn(this.auth,"internal-error")}}resolve(e){Jn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Jn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jD=new xr(2e3,1e4);class ns extends J_{constructor(e,i,s,a,u){super(e,i,a,u),this.provider=s,this.authWindow=null,this.pollId=null,ns.currentPopupAction&&ns.currentPopupAction.cancel(),ns.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return le(e,this.auth,"internal-error"),e}async onExecution(){Jn(this.filter.length===1,"Popup operations only handle one event");const e=uf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(pn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(pn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ns.currentPopupAction=null}pollUserCancellation(){const e=()=>{var i,s;if((s=(i=this.authWindow)==null?void 0:i.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(pn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,jD.get())};e()}}ns.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eU="pendingRedirect",il=new Map;class tU extends J_{constructor(e,i,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,s),this.eventId=null}async execute(){let e=il.get(this.auth._key());if(!e){try{const s=await nU(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(i){e=()=>Promise.reject(i)}il.set(this.auth._key(),e)}return this.bypassAuthState||il.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function nU(t,e){const i=sU(e),s=oU(t);if(!await s._isAvailable())return!1;const a=await s._get(i)==="true";return await s._remove(i),a}function iU(t,e){il.set(t._key(),e)}function oU(t){return Gn(t._redirectPersistence)}function sU(t){return nl(eU,t.config.apiKey,t.name)}async function rU(t,e,i=!1){if(tn(t.app))return Promise.reject(Vn(t));const s=ho(t),a=XD(s,e),d=await new tU(s,a,i).execute();return d&&!i&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aU=600*1e3;class lU{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(i=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!uU(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){var s;if(e.error&&!$_(e)){const a=((s=e.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";i.onError(pn(this.auth,a))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const s=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=aU&&this.cachedEventUids.clear(),this.cachedEventUids.has(k0(e))}saveEventToCache(e){this.cachedEventUids.add(k0(e)),this.lastProcessedEventTime=Date.now()}}function k0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function $_({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function uU(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $_(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cU(t,e={}){return Xn(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fU=/^https?/;async function hU(t){if(t.config.emulator)return;const{authorizedDomains:e}=await cU(t);for(const i of e)try{if(pU(i))return}catch{}rn(t,"unauthorized-domain")}function pU(t){const e=kd(),{protocol:i,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const d=new URL(t);return d.hostname===""&&s===""?i==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===s}if(!fU.test(i))return!1;if(dU.test(t))return s===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mU=new xr(3e4,6e4);function L0(){const t=mn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let i=0;i<t.CP.length;i++)t.CP[i]=null}}function gU(t){return new Promise((e,i)=>{var a,u,d;function s(){L0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{L0(),i(pn(t,"network-request-failed"))},timeout:mU.get()})}if((u=(a=mn().gapi)==null?void 0:a.iframes)!=null&&u.Iframe)e(gapi.iframes.getContext());else if((d=mn().gapi)!=null&&d.load)s();else{const p=sD("iframefcb");return mn()[p]=()=>{gapi.load?s():i(pn(t,"network-request-failed"))},M_(`${oD()}?onload=${p}`).catch(y=>i(y))}}).catch(e=>{throw ol=null,e})}let ol=null;function yU(t){return ol=ol||gU(t),ol}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vU=new xr(5e3,15e3),_U="__/auth/iframe",TU="emulator/auth/iframe",EU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},SU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function CU(t){const e=t.config;le(e.authDomain,t,"auth-domain-config-required");const i=e.emulator?of(e,TU):`https://${t.config.authDomain}/${_U}`,s={apiKey:e.apiKey,appName:t.name,v:Cr},a=SU.get(t.config.apiHost);a&&(s.eid=a);const u=t._getFrameworks();return u.length&&(s.fw=u.join(",")),`${i}?${Sr(s).slice(1)}`}async function xU(t){const e=await yU(t),i=mn().gapi;return le(i,t,"internal-error"),e.open({where:document.body,url:CU(t),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:EU,dontclear:!0},s=>new Promise(async(a,u)=>{await s.restyle({setHideOnLeave:!1});const d=pn(t,"network-request-failed"),p=mn().setTimeout(()=>{u(d)},vU.get());function y(){mn().clearTimeout(p),a(s)}s.ping(y).then(y,()=>{u(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},bU=500,wU=600,NU="_blank",IU="http://localhost";class P0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function RU(t,e,i,s=bU,a=wU){const u=Math.max((window.screen.availHeight-a)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const y={...AU,width:s.toString(),height:a.toString(),top:u,left:d},m=vt().toLowerCase();i&&(p=x_(m)?NU:i),S_(m)&&(e=e||IU,y.scrollbars="yes");const v=Object.entries(y).reduce((S,[x,N])=>`${S}${x}=${N},`,"");if(X2(m)&&p!=="_self")return MU(e||"",p),new P0(null);const E=window.open(e||"",p,v);le(E,t,"popup-blocked");try{E.focus()}catch{}return new P0(E)}function MU(t,e){const i=document.createElement("a");i.href=t,i.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DU="__/auth/handler",UU="emulator/auth/handler",kU=encodeURIComponent("fac");async function O0(t,e,i,s,a,u){le(t.config.authDomain,t,"auth-domain-config-required"),le(t.config.apiKey,t,"invalid-api-key");const d={apiKey:t.config.apiKey,appName:t.name,authType:i,redirectUrl:s,v:Cr,eventId:a};if(e instanceof k_){e.setDefaultLanguage(t.languageCode),d.providerId=e.providerId||"",pM(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,E]of Object.entries({}))d[v]=E}if(e instanceof br){const v=e.getScopes().filter(E=>E!=="");v.length>0&&(d.scopes=v.join(","))}t.tenantId&&(d.tid=t.tenantId);const p=d;for(const v of Object.keys(p))p[v]===void 0&&delete p[v];const y=await t._getAppCheckToken(),m=y?`#${kU}=${encodeURIComponent(y)}`:"";return`${LU(t)}?${Sr(p).slice(1)}${m}`}function LU({config:t}){return t.emulator?of(t,UU):`https://${t.authDomain}/${DU}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ad="webStorageSupport";class PU{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=V_,this._completeRedirectFn=rU,this._overrideRedirectResult=iU}async _openPopup(e,i,s,a){var d;Jn((d=this.eventManagers[e._key()])==null?void 0:d.manager,"_initialize() not called before _openPopup()");const u=await O0(e,i,s,kd(),a);return RU(e,u,uf())}async _openRedirect(e,i,s,a){await this._originValidation(e);const u=await O0(e,i,s,kd(),a);return GD(u),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:a,promise:u}=this.eventManagers[i];return a?Promise.resolve(a):(Jn(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[i]={promise:s},s.catch(()=>{delete this.eventManagers[i]}),s}async initAndGetManager(e){const i=await xU(e),s=new lU(e);return i.register("authEvent",a=>(le(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=i,s}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(ad,{type:ad},a=>{var d;const u=(d=a==null?void 0:a[0])==null?void 0:d[ad];u!==void 0&&i(!!u),rn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=hU(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return I_()||C_()||rf()}}const OU=PU;var H0="@firebase/auth",G0="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HU{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GU(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function zU(t){Yn(new gn("auth",(e,{options:i})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=s.options;le(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const y={apiKey:d,authDomain:p,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:R_(t)},m=new tD(s,a,u,y);return dD(m,i),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,s)=>{e.getProvider("auth-internal").initialize()})),Yn(new gn("auth-internal",e=>{const i=ho(e.getProvider("auth").getImmediate());return(s=>new HU(s))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),hn(H0,G0,GU(t)),hn(H0,G0,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VU=300,BU=i_("authIdTokenMaxAge")||VU;let z0=null;const qU=t=>async e=>{const i=e&&await e.getIdTokenResult(),s=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(s&&s>BU)return;const a=i==null?void 0:i.token;z0!==a&&(z0=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function FU(t=d_()){const e=ps(t,"auth");if(e.isInitialized())return e.getImmediate();const i=cD(t,{popupRedirectResolver:OU,persistence:[KD,PD,V_]}),s=i_("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const d=qU(u.toString());MD(i,d,()=>d(i.currentUser)),RD(i,p=>d(p))}}const a=eM("auth");return a&&fD(i,`http://${a}`),i}function YU(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}nD({loadJS(t){return new Promise((e,i)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=a=>{const u=pn("internal-error");u.customData=a,i(u)},s.type="text/javascript",s.charset="UTF-8",YU().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});zU("Browser");var JU="firebase",$U="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hn(JU,$U,"app");const K_="@firebase/installations",df="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_=1e4,Q_=`w:${df}`,W_="FIS_v2",KU="https://firebaseinstallations.googleapis.com/v1",XU=3600*1e3,QU="installations",WU="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZU={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},lo=new fo(QU,WU,ZU);function Z_(t){return t instanceof yn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j_({projectId:t}){return`${KU}/projects/${t}/installations`}function eT(t){return{token:t.token,requestStatus:2,expiresIn:ek(t.expiresIn),creationTime:Date.now()}}async function tT(t,e){const s=(await e.json()).error;return lo.create("request-failed",{requestName:t,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function nT({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function jU(t,{refreshToken:e}){const i=nT(t);return i.append("Authorization",tk(e)),i}async function iT(t){const e=await t();return e.status>=500&&e.status<600?t():e}function ek(t){return Number(t.replace("s","000"))}function tk(t){return`${W_} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nk({appConfig:t,heartbeatServiceProvider:e},{fid:i}){const s=j_(t),a=nT(t),u=e.getImmediate({optional:!0});if(u){const m=await u.getHeartbeatsHeader();m&&a.append("x-firebase-client",m)}const d={fid:i,authVersion:W_,appId:t.appId,sdkVersion:Q_},p={method:"POST",headers:a,body:JSON.stringify(d)},y=await iT(()=>fetch(s,p));if(y.ok){const m=await y.json();return{fid:m.fid||i,registrationStatus:2,refreshToken:m.refreshToken,authToken:eT(m.authToken)}}else throw await tT("Create Installation",y)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oT(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ik(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ok=/^[cdef][\w-]{21}$/,Hd="";function sk(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const i=rk(t);return ok.test(i)?i:Hd}catch{return Hd}}function rk(t){return ik(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ml(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT=new Map;function rT(t,e){const i=Ml(t);aT(i,e),ak(i,e)}function aT(t,e){const i=sT.get(t);if(i)for(const s of i)s(e)}function ak(t,e){const i=lk();i&&i.postMessage({key:t,fid:e}),uk()}let io=null;function lk(){return!io&&"BroadcastChannel"in self&&(io=new BroadcastChannel("[Firebase] FID Change"),io.onmessage=t=>{aT(t.data.key,t.data.fid)}),io}function uk(){sT.size===0&&io&&(io.close(),io=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ck="firebase-installations-database",dk=1,uo="firebase-installations-store";let ld=null;function ff(){return ld||(ld=u_(ck,dk,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(uo)}}})),ld}async function _l(t,e){const i=Ml(t),a=(await ff()).transaction(uo,"readwrite"),u=a.objectStore(uo),d=await u.get(i);return await u.put(e,i),await a.done,(!d||d.fid!==e.fid)&&rT(t,e.fid),e}async function lT(t){const e=Ml(t),s=(await ff()).transaction(uo,"readwrite");await s.objectStore(uo).delete(e),await s.done}async function Dl(t,e){const i=Ml(t),a=(await ff()).transaction(uo,"readwrite"),u=a.objectStore(uo),d=await u.get(i),p=e(d);return p===void 0?await u.delete(i):await u.put(p,i),await a.done,p&&(!d||d.fid!==p.fid)&&rT(t,p.fid),p}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hf(t){let e;const i=await Dl(t.appConfig,s=>{const a=fk(s),u=hk(t,a);return e=u.registrationPromise,u.installationEntry});return i.fid===Hd?{installationEntry:await e}:{installationEntry:i,registrationPromise:e}}function fk(t){const e=t||{fid:sk(),registrationStatus:0};return uT(e)}function hk(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(lo.create("app-offline"));return{installationEntry:e,registrationPromise:a}}const i={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=pk(t,i);return{installationEntry:i,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:mk(t)}:{installationEntry:e}}async function pk(t,e){try{const i=await nk(t,e);return _l(t.appConfig,i)}catch(i){throw Z_(i)&&i.customData.serverCode===409?await lT(t.appConfig):await _l(t.appConfig,{fid:e.fid,registrationStatus:0}),i}}async function mk(t){let e=await V0(t.appConfig);for(;e.registrationStatus===1;)await oT(100),e=await V0(t.appConfig);if(e.registrationStatus===0){const{installationEntry:i,registrationPromise:s}=await hf(t);return s||i}return e}function V0(t){return Dl(t,e=>{if(!e)throw lo.create("installation-not-found");return uT(e)})}function uT(t){return gk(t)?{fid:t.fid,registrationStatus:0}:t}function gk(t){return t.registrationStatus===1&&t.registrationTime+X_<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yk({appConfig:t,heartbeatServiceProvider:e},i){const s=vk(t,i),a=jU(t,i),u=e.getImmediate({optional:!0});if(u){const m=await u.getHeartbeatsHeader();m&&a.append("x-firebase-client",m)}const d={installation:{sdkVersion:Q_,appId:t.appId}},p={method:"POST",headers:a,body:JSON.stringify(d)},y=await iT(()=>fetch(s,p));if(y.ok){const m=await y.json();return eT(m)}else throw await tT("Generate Auth Token",y)}function vk(t,{fid:e}){return`${j_(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pf(t,e=!1){let i;const s=await Dl(t.appConfig,u=>{if(!cT(u))throw lo.create("not-registered");const d=u.authToken;if(!e&&Ek(d))return u;if(d.requestStatus===1)return i=_k(t,e),u;{if(!navigator.onLine)throw lo.create("app-offline");const p=Ck(u);return i=Tk(t,p),p}});return i?await i:s.authToken}async function _k(t,e){let i=await B0(t.appConfig);for(;i.authToken.requestStatus===1;)await oT(100),i=await B0(t.appConfig);const s=i.authToken;return s.requestStatus===0?pf(t,e):s}function B0(t){return Dl(t,e=>{if(!cT(e))throw lo.create("not-registered");const i=e.authToken;return xk(i)?{...e,authToken:{requestStatus:0}}:e})}async function Tk(t,e){try{const i=await yk(t,e),s={...e,authToken:i};return await _l(t.appConfig,s),i}catch(i){if(Z_(i)&&(i.customData.serverCode===401||i.customData.serverCode===404))await lT(t.appConfig);else{const s={...e,authToken:{requestStatus:0}};await _l(t.appConfig,s)}throw i}}function cT(t){return t!==void 0&&t.registrationStatus===2}function Ek(t){return t.requestStatus===2&&!Sk(t)}function Sk(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+XU}function Ck(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function xk(t){return t.requestStatus===1&&t.requestTime+X_<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ak(t){const e=t,{installationEntry:i,registrationPromise:s}=await hf(e);return s?s.catch(console.error):pf(e).catch(console.error),i.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bk(t,e=!1){const i=t;return await wk(i),(await pf(i,e)).token}async function wk(t){const{registrationPromise:e}=await hf(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nk(t){if(!t||!t.options)throw ud("App Configuration");if(!t.name)throw ud("App Name");const e=["projectId","apiKey","appId"];for(const i of e)if(!t.options[i])throw ud(i);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function ud(t){return lo.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT="installations",Ik="installations-internal",Rk=t=>{const e=t.getProvider("app").getImmediate(),i=Nk(e),s=ps(e,"heartbeat");return{app:e,appConfig:i,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},Mk=t=>{const e=t.getProvider("app").getImmediate(),i=ps(e,dT).getImmediate();return{getId:()=>Ak(i),getToken:a=>bk(i,a)}};function Dk(){Yn(new gn(dT,Rk,"PUBLIC")),Yn(new gn(Ik,Mk,"PRIVATE"))}Dk();hn(K_,df);hn(K_,df,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tl="analytics",Uk="firebase_id",kk="origin",Lk=60*1e3,Pk="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",mf="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gt=new ef("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ok={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Pt=new fo("analytics","Analytics",Ok);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hk(t){if(!t.startsWith(mf)){const e=Pt.create("invalid-gtag-resource",{gtagURL:t});return gt.warn(e.message),""}return t}function fT(t){return Promise.all(t.map(e=>e.catch(i=>i)))}function Gk(t,e){let i;return window.trustedTypes&&(i=window.trustedTypes.createPolicy(t,e)),i}function zk(t,e){const i=Gk("firebase-js-sdk-policy",{createScriptURL:Hk}),s=document.createElement("script"),a=`${mf}?l=${t}&id=${e}`;s.src=i?i==null?void 0:i.createScriptURL(a):a,s.async=!0,document.head.appendChild(s)}function Vk(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function Bk(t,e,i,s,a,u){const d=s[a];try{if(d)await e[d];else{const y=(await fT(i)).find(m=>m.measurementId===a);y&&await e[y.appId]}}catch(p){gt.error(p)}t("config",a,u)}async function qk(t,e,i,s,a){try{let u=[];if(a&&a.send_to){let d=a.send_to;Array.isArray(d)||(d=[d]);const p=await fT(i);for(const y of d){const m=p.find(E=>E.measurementId===y),v=m&&e[m.appId];if(v)u.push(v);else{u=[];break}}}u.length===0&&(u=Object.values(e)),await Promise.all(u),t("event",s,a||{})}catch(u){gt.error(u)}}function Fk(t,e,i,s){async function a(u,...d){try{if(u==="event"){const[p,y]=d;await qk(t,e,i,p,y)}else if(u==="config"){const[p,y]=d;await Bk(t,e,i,s,p,y)}else if(u==="consent"){const[p,y]=d;t("consent",p,y)}else if(u==="get"){const[p,y,m]=d;t("get",p,y,m)}else if(u==="set"){const[p]=d;t("set",p)}else t(u,...d)}catch(p){gt.error(p)}}return a}function Yk(t,e,i,s,a){let u=function(...d){window[s].push(arguments)};return window[a]&&typeof window[a]=="function"&&(u=window[a]),window[a]=Fk(u,t,e,i),{gtagCore:u,wrappedGtag:window[a]}}function Jk(t){const e=window.document.getElementsByTagName("script");for(const i of Object.values(e))if(i.src&&i.src.includes(mf)&&i.src.includes(t))return i;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $k=30,Kk=1e3;class Xk{constructor(e={},i=Kk){this.throttleMetadata=e,this.intervalMillis=i}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,i){this.throttleMetadata[e]=i}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const hT=new Xk;function Qk(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function Wk(t){var d;const{appId:e,apiKey:i}=t,s={method:"GET",headers:Qk(i)},a=Pk.replace("{app-id}",e),u=await fetch(a,s);if(u.status!==200&&u.status!==304){let p="";try{const y=await u.json();(d=y.error)!=null&&d.message&&(p=y.error.message)}catch{}throw Pt.create("config-fetch-failed",{httpStatus:u.status,responseMessage:p})}return u.json()}async function Zk(t,e=hT,i){const{appId:s,apiKey:a,measurementId:u}=t.options;if(!s)throw Pt.create("no-app-id");if(!a){if(u)return{measurementId:u,appId:s};throw Pt.create("no-api-key")}const d=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},p=new tL;return setTimeout(async()=>{p.abort()},Lk),pT({appId:s,apiKey:a,measurementId:u},d,p,e)}async function pT(t,{throttleEndTimeMillis:e,backoffCount:i},s,a=hT){var p;const{appId:u,measurementId:d}=t;try{await jk(s,e)}catch(y){if(d)return gt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${y==null?void 0:y.message}]`),{appId:u,measurementId:d};throw y}try{const y=await Wk(t);return a.deleteThrottleMetadata(u),y}catch(y){const m=y;if(!eL(m)){if(a.deleteThrottleMetadata(u),d)return gt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${m==null?void 0:m.message}]`),{appId:u,measurementId:d};throw y}const v=Number((p=m==null?void 0:m.customData)==null?void 0:p.httpStatus)===503?h0(i,a.intervalMillis,$k):h0(i,a.intervalMillis),E={throttleEndTimeMillis:Date.now()+v,backoffCount:i+1};return a.setThrottleMetadata(u,E),gt.debug(`Calling attemptFetch again in ${v} millis`),pT(t,E,s,a)}}function jk(t,e){return new Promise((i,s)=>{const a=Math.max(e-Date.now(),0),u=setTimeout(i,a);t.addEventListener(()=>{clearTimeout(u),s(Pt.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function eL(t){if(!(t instanceof yn)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class tL{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function nL(t,e,i,s,a){if(a&&a.global){t("event",i,s);return}else{const u=await e,d={...s,send_to:u};t("event",i,d)}}async function iL(t,e,i,s){if(s&&s.global){const a={};for(const u of Object.keys(i))a[`user_properties.${u}`]=i[u];return t("set",a),Promise.resolve()}else{const a=await e;t("config",a,{update:!0,user_properties:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oL(){if(s_())try{await r_()}catch(t){return gt.warn(Pt.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return gt.warn(Pt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function sL(t,e,i,s,a,u,d){const p=Zk(t);p.then(S=>{i[S.measurementId]=S.appId,t.options.measurementId&&S.measurementId!==t.options.measurementId&&gt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${S.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(S=>gt.error(S)),e.push(p);const y=oL().then(S=>{if(S)return s.getId()}),[m,v]=await Promise.all([p,y]);Jk(u)||zk(u,m.measurementId),a("js",new Date);const E=(d==null?void 0:d.config)??{};return E[kk]="firebase",E.update=!0,v!=null&&(E[Uk]=v),a("config",m.measurementId,E),m.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(e){this.app=e}_delete(){return delete us[this.app.options.appId],Promise.resolve()}}let us={},q0=[];const F0={};let cd="dataLayer",aL="gtag",Y0,gf,J0=!1;function lL(){const t=[];if(o_()&&t.push("This is a browser extension environment."),cM()||t.push("Cookies are not available."),t.length>0){const e=t.map((s,a)=>`(${a+1}) ${s}`).join(" "),i=Pt.create("invalid-analytics-context",{errorInfo:e});gt.warn(i.message)}}function uL(t,e,i){lL();const s=t.options.appId;if(!s)throw Pt.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)gt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Pt.create("no-api-key");if(us[s]!=null)throw Pt.create("already-exists",{id:s});if(!J0){Vk(cd);const{wrappedGtag:u,gtagCore:d}=Yk(us,q0,F0,cd,aL);gf=u,Y0=d,J0=!0}return us[s]=sL(t,q0,F0,e,Y0,cd,i),new rL(t)}function cL(t=d_()){t=Ot(t);const e=ps(t,Tl);return e.isInitialized()?e.getImmediate():dL(t)}function dL(t,e={}){const i=ps(t,Tl);if(i.isInitialized()){const a=i.getImmediate();if(so(e,i.getOptions()))return a;throw Pt.create("already-initialized")}return i.initialize({options:e})}function fL(t,e,i){t=Ot(t),iL(gf,us[t.app.options.appId],e,i).catch(s=>gt.error(s))}function hL(t,e,i,s){t=Ot(t),nL(gf,us[t.app.options.appId],e,i,s).catch(a=>gt.error(a))}const $0="@firebase/analytics",K0="0.10.19";function pL(){Yn(new gn(Tl,(e,{options:i})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("installations-internal").getImmediate();return uL(s,a,i)},"PUBLIC")),Yn(new gn("analytics-internal",t,"PRIVATE")),hn($0,K0),hn($0,K0,"esm2020");function t(e){try{const i=e.getProvider(Tl).getImmediate();return{logEvent:(s,a,u)=>hL(i,s,a,u),setUserProperties:(s,a)=>fL(i,s,a)}}catch(i){throw Pt.create("interop-component-reg-failed",{reason:i})}}}pL();const mL={apiKey:"AIzaSyDGAI-Y0jWMkkTwVa3pWRYTRnIjeR5IgDo",authDomain:"suitcase-e579b.firebaseapp.com",projectId:"suitcase-e579b",storageBucket:"suitcase-e579b.firebasestorage.app",messagingSenderId:"535507830039",appId:"1:535507830039:web:1380d5f29396b0a614e352",measurementId:"G-1E9GL03TX0"},mT=c_(mL);cL(mT);const gr=FU(mT),sl=t=>({id:t.uid,email:t.email||"",name:t.displayName||"Traveler"}),Gd={signup:async(t,e,i)=>{try{const s=await bD(gr,e,i);return await ID(s.user,{displayName:t}),sl({...s.user,displayName:t})}catch(s){throw console.error("Signup Error:",s),new Error(X0(s.code))}},login:async(t,e)=>{try{const i=await wD(gr,t,e);return sl(i.user)}catch(i){throw console.error("Login Error:",i),new Error(X0(i.code))}},logout:async()=>{try{await UD(gr)}catch(t){console.error("Logout Error",t)}},getCurrentUser:()=>{const t=gr.currentUser;return t?sl(t):null}},X0=t=>{switch(t){case"auth/email-already-in-use":return"That email is already registered.";case"auth/invalid-email":return"Please enter a valid email address.";case"auth/user-not-found":case"auth/wrong-password":case"auth/invalid-credential":return"Invalid email or password.";case"auth/weak-password":return"Password should be at least 6 characters.";default:return"Authentication failed. Please try again."}},gL=({onSuccess:t})=>{const[e,i]=Q.useState(!0),[s,a]=Q.useState(!1),[u,d]=Q.useState(null),[p,y]=Q.useState(""),[m,v]=Q.useState(""),[E,S]=Q.useState(""),x=async N=>{N.preventDefault(),d(null),a(!0);try{let k;if(e)k=await Gd.login(m,E);else{if(!p.trim())throw new Error("Name is required");k=await Gd.signup(p,m,E)}t(k)}catch(k){d(k.message||"Something went wrong")}finally{a(!1)}};return _.jsxs("div",{className:"min-h-screen bg-white flex flex-col md:flex-row relative",children:[_.jsxs("div",{className:"w-full md:w-1/2 bg-[#F5F5F7] p-8 md:p-12 flex flex-col justify-between relative overflow-hidden h-[30vh] md:h-auto",children:[_.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-gradient-to-tr from-blue-200 to-purple-200 rounded-full blur-[80px] opacity-60 animate-float pointer-events-none"}),_.jsxs("div",{className:"relative z-10 flex items-center gap-2",children:[_.jsx("div",{className:"p-2 bg-black text-white rounded-xl",children:_.jsx(Z0,{size:24})}),_.jsx("span",{className:"font-serif font-bold text-2xl tracking-tight text-gray-900",children:"Suitcase"})]}),_.jsxs("div",{className:"relative z-10 hidden md:block",children:[_.jsxs("h1",{className:"text-5xl lg:text-7xl font-serif font-bold text-gray-900 mb-6 leading-[1.1]",children:["Pack your ",_.jsx("br",{})," ",_.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-purple-600",children:"imagination."})]}),_.jsx("p",{className:"text-xl text-gray-500 max-w-md leading-relaxed",children:"Your intelligent travel companion for literary journeys. Discover, read, and collect books with smart insights."})]}),_.jsx("div",{className:"relative z-10 md:hidden mt-4",children:_.jsx("h1",{className:"text-3xl font-serif font-bold text-gray-900",children:"Your literary journey starts here."})}),_.jsxs("div",{className:"hidden md:flex items-center gap-2 text-sm font-bold text-gray-400 uppercase tracking-widest",children:[_.jsx(Lt,{size:16,className:"text-yellow-500"}),_.jsx("span",{children:"Next Gen Library"})]})]}),_.jsx("div",{className:"w-full md:w-1/2 p-8 md:p-20 flex flex-col justify-center bg-white -mt-6 md:mt-0 rounded-t-[2rem] md:rounded-none shadow-[0_-10px_40px_-10px_rgba(0,0,0,0.1)] md:shadow-none z-20",children:_.jsxs("div",{className:"max-w-md w-full mx-auto",children:[_.jsxs("div",{className:"mb-8",children:[_.jsx("h2",{className:"text-3xl font-serif font-bold text-gray-900 mb-2",children:e?"Welcome back":"Create account"}),_.jsx("p",{className:"text-gray-500",children:e?"Enter your details to access your library.":"Start building your digital suitcase today."})]}),u&&_.jsxs("div",{className:"mb-6 p-4 bg-red-50 text-red-600 rounded-xl flex items-center gap-2 text-sm font-medium animate-in slide-in-from-top-2",children:[_.jsx(hC,{size:16}),u]}),_.jsxs("form",{onSubmit:x,className:"space-y-4",children:[!e&&_.jsxs("div",{className:"space-y-1 animate-in fade-in slide-in-from-bottom-2",children:[_.jsx("label",{className:"text-xs font-bold uppercase text-gray-400 tracking-wider ml-1",children:"Full Name"}),_.jsx("input",{type:"text",value:p,onChange:N=>y(N.target.value),className:"w-full bg-gray-50 border-2 border-transparent focus:bg-white focus:border-black rounded-2xl px-5 py-4 text-gray-900 font-medium outline-none transition-all",placeholder:"Ernest Hemingway"})]}),_.jsxs("div",{className:"space-y-1",children:[_.jsx("label",{className:"text-xs font-bold uppercase text-gray-400 tracking-wider ml-1",children:"Email Address"}),_.jsx("input",{type:"email",value:m,onChange:N=>v(N.target.value),className:"w-full bg-gray-50 border-2 border-transparent focus:bg-white focus:border-black rounded-2xl px-5 py-4 text-gray-900 font-medium outline-none transition-all",placeholder:"reader@example.com"})]}),_.jsxs("div",{className:"space-y-1",children:[_.jsx("label",{className:"text-xs font-bold uppercase text-gray-400 tracking-wider ml-1",children:"Password"}),_.jsx("input",{type:"password",value:E,onChange:N=>S(N.target.value),className:"w-full bg-gray-50 border-2 border-transparent focus:bg-white focus:border-black rounded-2xl px-5 py-4 text-gray-900 font-medium outline-none transition-all",placeholder:""})]}),_.jsx("button",{type:"submit",disabled:s,className:"w-full bg-black text-white py-5 rounded-2xl font-bold text-lg hover:scale-[1.02] active:scale-[0.98] transition-all flex items-center justify-center gap-2 mt-4 shadow-xl shadow-gray-200",children:s?_.jsx(oo,{className:"animate-spin"}):_.jsxs(_.Fragment,{children:[e?"Sign In":"Create Account"," ",_.jsx(Vd,{size:20})]})})]}),_.jsx("div",{className:"mt-8 text-center",children:_.jsx("button",{onClick:()=>{i(!e),d(null)},className:"text-sm font-semibold text-gray-500 hover:text-black transition-colors",children:e?"New to Suitcase? Create an account":"Already have an account? Log in"})})]})}),_.jsx("div",{className:"absolute bottom-4 right-8 z-30 hidden md:block",children:_.jsxs("p",{className:"text-xs font-medium text-gray-400 flex items-center gap-1",children:["Crafted with ",_.jsx(bC,{size:10,className:"fill-red-400 text-red-400"})," by Yashraj Pardeshi (@incyashraj)"]})})]})},Bn=(t,e)=>`suitcase_${t}_${e}`,yL=(t,e)=>{try{localStorage.setItem(Bn(t,"prefs"),JSON.stringify(e))}catch(i){console.error("Failed to save prefs",i)}},vL=t=>{try{const e=localStorage.getItem(Bn(t,"prefs"));return e?JSON.parse(e):null}catch{return null}},_L=(t,e)=>{try{const i=e.map(s=>({...s,fileUrl:s.isLocal?void 0:s.fileUrl}));localStorage.setItem(Bn(t,"library"),JSON.stringify(i))}catch(i){console.error("Failed to save library",i)}},TL=t=>{try{const e=localStorage.getItem(Bn(t,"library"));return e?JSON.parse(e):[]}catch{return[]}},EL=(t,e)=>{try{localStorage.setItem(Bn(t,"wallet"),JSON.stringify(e))}catch(i){console.error("Failed to save wallet",i)}},SL=t=>{try{const e=localStorage.getItem(Bn(t,"wallet"));return e?JSON.parse(e):{balance:0,nfts:[]}}catch{return{balance:0,nfts:[]}}},CL=t=>{localStorage.removeItem(Bn(t,"prefs")),localStorage.removeItem(Bn(t,"library")),localStorage.removeItem(Bn(t,"wallet")),window.location.reload()};function xL(){const[t,e]=Q.useState(null),[i,s]=Q.useState("auth"),[a,u]=Q.useState(null),[d,p]=Q.useState([]),[y,m]=Q.useState(null),[v,E]=Q.useState({balance:0,nfts:[]}),[S,x]=Q.useState(!1),[N,k]=Q.useState([]),[U,L]=Q.useState([]),[q,F]=Q.useState([]),[$,Y]=Q.useState(""),[te,K]=Q.useState(""),[de,Z]=Q.useState(!1),[fe,me]=Q.useState(!1),[ge,Te]=Q.useState("library"),[Fe,Je]=Q.useState(!1),[H,J]=Q.useState(!1),se=Q.useRef(null),Ae=Q.useRef(null),Ne=Q.useRef(null);Q.useEffect(()=>{const P=DD(gr,oe=>{if(oe){const ee=sl(oe);e(ee),w(ee.id)}else e(null),s("auth"),x(!0)});return()=>P()},[]);const w=P=>{const oe=vL(P),ee=TL(P),Ue=SL(P);m(oe),p(ee),E(Ue),x(!0),oe?(s("library"),ed().then(ht=>{ht&&ht.length>0&&L(ht)})):s("onboarding")};Q.useEffect(()=>{t&&S&&y&&yL(t.id,y)},[y,S,t]),Q.useEffect(()=>{t&&S&&_L(t.id,d)},[d,S,t]),Q.useEffect(()=>{t&&S&&EL(t.id,v)},[v,S,t]),Q.useEffect(()=>{ge==="search"&&Ae.current&&Ae.current.focus()},[ge]),Q.useEffect(()=>{var P;ge==="mood"&&((P=Ne.current)==null||P.scrollIntoView({behavior:"smooth"}))},[q,ge]);const V=()=>{const P=new Date().getHours();return P<12?"Good morning":P<18?"Good afternoon":"Good evening"},X=P=>{e(P),w(P.id)},j=async()=>{await Gd.logout(),m(null),p([]),E({balance:0,nfts:[]})},ue=P=>{var ee;const oe=(ee=P.target.files)==null?void 0:ee[0];oe&&oe.type==="application/pdf"&&Ve(oe)},ye=P=>{P.preventDefault(),P.stopPropagation(),Je(!0)},we=P=>{P.preventDefault(),P.stopPropagation(),!P.currentTarget.contains(P.relatedTarget)&&Je(!1)},We=P=>{P.preventDefault(),P.stopPropagation(),Je(!1);const oe=P.dataTransfer.files;oe&&oe.length>0&&oe[0].type==="application/pdf"&&Ve(oe[0])},Ve=P=>{const oe={id:`local-${Date.now()}`,title:P.name.replace(".pdf",""),author:"My Document",description:"Imported PDF document from local device.",coverColor:vn(),fileUrl:URL.createObjectURL(P),isLocal:!0,categories:["Uploads"],publishedYear:new Date().getFullYear().toString()};p(ee=>[oe,...ee]),ge!=="library"&&Te("library")},vn=()=>{const P=["#e0f2fe","#f0fdf4","#fdf4ff","#fff1f2","#fefce8"];return P[Math.floor(Math.random()*P.length)]},Qn=async P=>{if(P.preventDefault(),!te.trim())return;Z(!0),k([]),me(!1);const oe=await MR(te);k(oe),me(!0),Z(!1)},ki=async P=>{if(P.preventDefault(),!$.trim())return;const oe=$;Y(""),Z(!0),F(ht=>[...ht,{role:"user",text:oe}]),q.map(ht=>({role:ht.role,text:ht.text}));const{reply:ee,suggestions:Ue}=await DR(oe);F(ht=>[...ht,{role:"model",text:ee,books:Ue}]),Z(!1)},po=async P=>{J(!0),m(P),E({balance:100,nfts:[]});const oe=new Promise(Nr=>setTimeout(Nr,2500)),ee=ed(),[Ue,ht]=await Promise.all([oe,ee]);L(ht),J(!1),s("library")},Wt=()=>{E(P=>({...P,balance:P.balance+50,nfts:[...P.nfts,(a==null?void 0:a.id)||"unknown"]}))},Li=(P,oe)=>{p(ee=>ee.map(Ue=>Ue.id===P?{...Ue,...oe}:Ue)),a&&a.id===P&&u(ee=>ee?{...ee,...oe}:null)},Pi=P=>{m(P),ed().then(L)},gs=()=>{t&&(CL(t.id),j())},_n=P=>{const oe=d.find(ee=>ee.id===P.id);u(oe||P),s("details")},Ht=P=>{const oe=d.find(ee=>ee.id===P.id);if(oe)u(oe);else{const ee={...P,lastReadDate:Date.now()};p(Ue=>[ee,...Ue]),u(ee)}s("reader")},Wn=()=>{s("library"),u(null)},ln=({icon:P,label:oe,isActive:ee,onClick:Ue})=>_.jsxs("button",{onClick:Ue,className:"group relative flex flex-col items-center justify-center w-12 h-12 rounded-full dock-icon-transition hover:scale-125 hover:-translate-y-2",children:[_.jsx("div",{className:`p-2.5 rounded-full transition-colors duration-300 ${ee?"bg-blue-50 text-blue-600":"text-gray-400 hover:text-gray-600"}`,children:_.jsx(P,{size:26,strokeWidth:ee?2.5:2})}),_.jsx("span",{className:`absolute -bottom-1 w-1.5 h-1.5 rounded-full bg-blue-600 transition-transform duration-300 ${ee?"scale-100":"scale-0"}`})]});return!S&&i!=="auth"?_.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#F5F5F7]",children:_.jsx(oo,{className:"animate-spin text-gray-400"})}):i==="auth"?_.jsx(gL,{onSuccess:X}):i==="onboarding"?_.jsx(qR,{onComplete:po}):H?_.jsxs("div",{className:"fixed inset-0 z-50 flex flex-col items-center justify-center bg-[#F5F5F7] animate-in fade-in duration-500",children:[_.jsxs("div",{className:"relative",children:[_.jsx("div",{className:"absolute inset-0 bg-blue-100 rounded-full blur-xl animate-pulse"}),_.jsx(zn,{size:64,className:"relative text-blue-600 mb-6 animate-bounce"})]}),_.jsx("h2",{className:"text-2xl font-serif font-bold text-gray-900 mb-2",children:"Curating your Suitcase..."}),_.jsx("p",{className:"text-gray-500",children:"Finding books that match your vibe."})]}):_.jsxs("div",{className:"min-h-screen flex flex-col bg-[#F5F5F7] selection:bg-blue-100 overflow-x-hidden relative",onDragOver:ye,onDragLeave:we,onDrop:We,children:[Fe&&_.jsx("div",{className:"fixed inset-0 z-[100] bg-blue-500/10 backdrop-blur-sm border-4 border-blue-500 border-dashed m-4 rounded-[3rem] flex items-center justify-center pointer-events-none animate-in fade-in duration-200",children:_.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-2xl flex flex-col items-center",children:[_.jsx(Ng,{size:48,className:"text-blue-500 mb-4 animate-bounce"}),_.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Drop PDF to Upload"})]})}),_.jsxs("div",{className:"fixed top-0 left-0 right-0 z-30 px-6 py-4 flex justify-between items-center pointer-events-none",children:[_.jsxs("div",{className:"flex items-center gap-2 mix-blend-multiply opacity-50",children:[_.jsx(Z0,{size:20,className:"text-gray-900"}),_.jsx("span",{className:"font-serif font-bold text-xl tracking-tight text-gray-900 hidden sm:block",children:"Suitcase"})]}),_.jsxs("div",{className:"pointer-events-auto flex items-center gap-3",children:[_.jsx("button",{onClick:j,className:"bg-white/60 backdrop-blur-md p-2 rounded-full shadow-sm border border-white/50 text-gray-500 hover:text-red-500 transition-colors",children:_.jsx(tv,{size:16})}),_.jsxs("div",{onClick:()=>{Te("library"),s("profile")},className:"bg-white/60 backdrop-blur-md px-4 py-2 rounded-full shadow-sm border border-white/50 flex items-center gap-2 hover:scale-105 transition-transform cursor-pointer",children:[_.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-tr from-yellow-400 to-yellow-600 flex items-center justify-center shadow-sm",children:_.jsx("span",{className:"text-[10px] font-bold text-white",children:"$"})}),_.jsx("span",{className:"text-sm font-bold text-gray-800",children:v.balance})]})]})]}),_.jsx("input",{type:"file",ref:se,className:"hidden",accept:"application/pdf",onChange:ue}),_.jsxs("main",{className:"flex-1 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-24 pb-36 w-full",children:[i==="profile"&&y&&_.jsx(YR,{userPrefs:y,wallet:v,library:d,onClose:()=>s("library"),onUpdateProfile:Pi,onReset:gs}),i==="library"&&ge==="mood"&&y&&_.jsxs("div",{className:"max-w-4xl mx-auto h-[calc(100vh-140px)] flex flex-col",children:[q.length===0?_.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center animate-spring pb-20",children:[_.jsx("div",{className:"animate-float inline-flex items-center justify-center w-20 h-20 bg-gradient-to-tr from-blue-100 to-purple-100 rounded-full mb-6 shadow-xl shadow-blue-100/50",children:_.jsx(Lt,{size:32,className:"text-blue-500"})}),_.jsx("h1",{className:"text-4xl md:text-5xl font-serif font-bold text-gray-900 mb-4 tracking-tight",children:"How are you feeling?"}),_.jsx("p",{className:"text-gray-500 text-lg max-w-md mb-8",children:"Tell me your mood, or what you're curious about, and I'll curate a selection just for you."})]}):_.jsxs("div",{className:"flex-1 overflow-y-auto space-y-6 pb-24 px-4 scroll-smooth",children:[q.map((P,oe)=>_.jsxs("div",{className:`flex flex-col ${P.role==="user"?"items-end":"items-start"} animate-in fade-in slide-in-from-bottom-2`,children:[_.jsx("div",{className:`max-w-[85%] md:max-w-[70%] p-5 rounded-[1.5rem] text-base leading-relaxed shadow-sm ${P.role==="user"?"bg-black text-white rounded-br-none":"bg-white text-gray-800 rounded-bl-none border border-gray-100"}`,children:P.text}),P.books&&P.books.length>0&&_.jsx("div",{className:"mt-4 grid grid-cols-2 md:grid-cols-3 gap-4 w-full",children:P.books.map(ee=>_.jsx("div",{className:"animate-in fade-in zoom-in-95 duration-500",children:_.jsx(Ja,{book:ee,onClick:()=>_n(ee),onRead:Ue=>{Ue.stopPropagation(),Ht(ee)}})},ee.id))})]},oe)),de&&_.jsx("div",{className:"flex justify-start",children:_.jsxs("div",{className:"bg-white border border-gray-100 p-4 rounded-[1.5rem] rounded-bl-none shadow-sm flex gap-2 items-center text-gray-400",children:[_.jsx(Lt,{size:16,className:"animate-pulse"}),_.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"Suitcase is thinking..."})]})}),_.jsx("div",{ref:Ne})]}),_.jsx("div",{className:`${q.length===0?"relative mb-10":"fixed bottom-24 left-4 right-4 max-w-4xl mx-auto z-40"}`,children:_.jsxs("form",{onSubmit:ki,className:"relative group",children:[_.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-100 to-purple-100 rounded-full blur-xl opacity-20 group-hover:opacity-40 transition-opacity"}),_.jsx("input",{type:"text",placeholder:"I want a mystery set in Paris...",className:"w-full relative bg-white/90 backdrop-blur-xl border border-white/60 p-5 pl-8 pr-16 rounded-full text-lg text-gray-900 placeholder:text-gray-400 outline-none shadow-[0_8px_30px_rgb(0,0,0,0.06)] focus:shadow-[0_12px_40px_rgb(0,0,0,0.1)] transition-all duration-300 font-medium",value:$,onChange:P=>Y(P.target.value),autoFocus:q.length===0}),_.jsx("button",{type:"submit",disabled:!$.trim()||de,className:"absolute right-2 top-2 bottom-2 aspect-square bg-black text-white rounded-full flex items-center justify-center hover:scale-105 transition-transform active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed",children:de?_.jsx(oo,{size:18,className:"animate-spin"}):q.length===0?_.jsx(Vd,{size:20}):_.jsx(Bd,{size:18})})]})})]}),i==="library"&&ge==="search"&&_.jsxs("div",{className:"max-w-6xl mx-auto animate-spring mt-8",children:[_.jsx("div",{className:"mb-8 max-w-2xl mx-auto relative px-4",children:_.jsxs("div",{className:"relative",children:[_.jsx(hd,{className:"absolute left-6 top-1/2 -translate-y-1/2 text-gray-400 w-6 h-6"}),_.jsx("form",{onSubmit:Qn,children:_.jsx("input",{ref:Ae,type:"text",placeholder:"Search for books, authors...",className:"w-full pl-16 pr-6 py-5 bg-white/90 backdrop-blur-xl border border-white/50 rounded-3xl text-2xl text-gray-900 placeholder:text-gray-300 outline-none shadow-2xl shadow-gray-200/50 transition-all duration-300 font-serif",value:te,onChange:P=>K(P.target.value)})}),te&&_.jsx("button",{onClick:()=>{K(""),k([]),me(!1)},className:"absolute right-6 top-1/2 -translate-y-1/2 p-2 hover:bg-gray-100 rounded-full text-gray-400 transition-colors",children:_.jsx(is,{size:16})})]})}),de?_.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-6 opacity-50 pointer-events-none",children:[1,2,3,4,5].map(P=>_.jsx("div",{className:"aspect-[2/3] bg-white rounded-2xl animate-pulse"},P))}):_.jsx("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:fe&&N.length===0?_.jsxs("div",{className:"flex flex-col items-center justify-center py-20 opacity-60",children:[_.jsx(_C,{size:64,className:"text-gray-300 mb-4"}),_.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"No books found"}),_.jsx("p",{className:"text-gray-500",children:"Try checking the spelling or use different keywords."})]}):N.length>0&&_.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-6",children:N.map(P=>_.jsx(Ja,{book:P,onClick:()=>_n(P),onRead:()=>Ht(P)},P.id))})})]}),i==="library"&&ge==="library"&&_.jsxs("div",{className:"animate-in fade-in duration-500 space-y-12",children:[_.jsxs("div",{className:"flex flex-col gap-1 px-2",children:[_.jsxs("h1",{className:"text-3xl md:text-4xl font-serif font-bold text-gray-900",children:[V(),", ",(t==null?void 0:t.name.split(" ")[0])||"Traveler","."]}),_.jsx("p",{className:"text-gray-500",children:"Ready to continue your journey?"})]}),U.length>0&&_.jsxs("section",{children:[_.jsxs("div",{className:"flex items-center justify-between mb-4 px-2",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx(Lt,{size:18,className:"text-blue-500"}),_.jsx("h2",{className:"text-xl font-bold text-gray-900 tracking-tight",children:"For You"})]}),_.jsxs("button",{className:"text-xs font-bold text-gray-400 hover:text-gray-900 flex items-center gap-1",children:["View All ",_.jsx(ev,{size:12})]})]}),_.jsx("div",{className:"flex gap-6 overflow-x-auto pb-8 -mx-4 px-4 scrollbar-hide snap-x snap-mandatory",children:U.map(P=>_.jsx("div",{className:"min-w-[160px] md:min-w-[180px] snap-start",children:_.jsx(Ja,{book:P,onClick:()=>_n(P),onRead:()=>Ht(P)})},P.id))})]}),_.jsxs("section",{children:[_.jsxs("div",{className:"flex items-end justify-between mb-6 px-2 border-b border-gray-200 pb-2",children:[_.jsx("h2",{className:"text-xl font-bold text-gray-900 tracking-tight",children:"Your Suitcase"}),_.jsxs("span",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest bg-white px-2 py-1 rounded-md border border-gray-100",children:[d.length," Items"]})]}),d.length===0?_.jsxs("div",{className:"flex flex-col items-center justify-center py-20 rounded-3xl transition-all cursor-pointer group bg-white border border-gray-100 hover:border-blue-200 hover:shadow-lg",onClick:()=>{var P;return(P=se.current)==null?void 0:P.click()},children:[_.jsx("div",{className:"relative mb-4",children:_.jsx("div",{className:"animate-float relative bg-blue-50 w-20 h-20 rounded-full flex items-center justify-center group-hover:scale-110 transition-transform duration-500",children:_.jsx(Ng,{className:"text-blue-600 w-8 h-8"})})}),_.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-1",children:"It's empty here"}),_.jsx("p",{className:"text-gray-500 text-sm mb-4",children:"Upload a PDF to start reading."}),_.jsx("button",{className:"bg-black text-white px-6 py-2 rounded-full text-sm font-bold",children:"Import Book"})]}):_.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-x-6 gap-y-10",children:[_.jsxs("button",{onClick:()=>{var P;return(P=se.current)==null?void 0:P.click()},className:"aspect-[2/3] rounded-2xl bg-gray-100 border-2 border-dashed border-gray-300 hover:border-blue-400 hover:bg-blue-50 transition-all group flex flex-col items-center justify-center gap-3",children:[_.jsx("div",{className:"w-12 h-12 bg-white rounded-full shadow-sm flex items-center justify-center text-gray-400 group-hover:text-blue-500 transition-colors",children:_.jsx(FC,{size:24})}),_.jsx("span",{className:"text-xs font-bold text-gray-400 group-hover:text-blue-600 uppercase tracking-wide",children:"Add Book"})]}),d.map(P=>_.jsx(Ja,{book:P,onClick:()=>_n(P),onRead:()=>Ht(P)},P.id))]})]})]})]}),i!=="reader"&&_.jsx("div",{className:"fixed bottom-8 left-1/2 -translate-x-1/2 z-40 animate-in slide-in-from-bottom-24 duration-1000 ease-out",children:_.jsxs("div",{className:"glass-panel flex items-center gap-2 p-2 px-4 rounded-full shadow-[0_25px_60px_-15px_rgba(0,0,0,0.15)] ring-1 ring-white/60 bg-white/80 backdrop-blur-xl",children:[_.jsx(ln,{icon:RC,label:"Library",isActive:i==="library"&&ge==="library",onClick:()=>{s("library"),Te("library")}}),_.jsx(ln,{icon:Lt,label:"Concierge",isActive:i==="library"&&ge==="mood",onClick:()=>{s("library"),Te("mood")}}),_.jsx(ln,{icon:hd,label:"Search",isActive:i==="library"&&ge==="search",onClick:()=>{s("library"),Te("search")}}),_.jsx(ln,{icon:iv,label:"Profile",isActive:i==="profile",onClick:()=>{s("profile")}})]})}),i==="details"&&a&&_.jsx(GR,{book:a,onClose:Wn,onRead:()=>Ht(a)}),i==="reader"&&a&&_.jsx("div",{className:"fixed inset-0 z-50",children:_.jsx(zR,{book:a,onClose:Wn,onReward:Wt,onUpdateBookData:Li})})]})}const gT=document.getElementById("root");if(!gT)throw new Error("Could not find root element to mount to");const AL=$S.createRoot(gT);AL.render(_.jsx(GS.StrictMode,{children:_.jsx(xL,{})}));
